{"ast":null,"code":"import { CatalogoLugarComponent } from './catalogo-lugar/catalogo-lugar.component';\nimport { Validators } from '@angular/forms';\nimport { ModalZonaComponent } from '../modal-zona/modal-zona.component';\nimport { PersonaCatalogoComponent } from '@components/mantenimiento/persona-catalogo/persona-catalogo.component';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@services/api.service\";\nimport * as i3 from \"./lugar-services/lugar.service\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@services/log-service.service\";\nimport * as i7 from \"ngx-toastr\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"../serviciozona/serviciozona.service\";\nimport * as i12 from \"@components/mantenimiento/persona-catalogo/service-persona/service-persona.service\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/button\";\nimport * as i15 from \"@angular/material/card\";\nimport * as i16 from \"@angular/material/tooltip\";\nfunction LugaresComponent_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-label\", 41)(2, \"u\");\n    i0.ɵɵtext(3, \"Codigo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"input\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_ng_container_31_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.codigo = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.codigo);\n  }\n}\nfunction LugaresComponent_ng_container_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-label\", 41)(2, \"u\");\n    i0.ɵɵtext(3, \"Codigo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.lugar_get.codigo);\n  }\n}\nvar LugaresComponent = /** @class */function () {\n  function LugaresComponent(dialog, api, lugar_service, spinner, _snackBar, log_module, toastr, _formBuilder, nombre_ventana_service, datePipe, servicioZona, servicioPersona) {\n    this.dialog = dialog;\n    this.api = api;\n    this.lugar_service = lugar_service;\n    this.spinner = spinner;\n    this._snackBar = _snackBar;\n    this.log_module = log_module;\n    this.toastr = toastr;\n    this._formBuilder = _formBuilder;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.datePipe = datePipe;\n    this.servicioZona = servicioZona;\n    this.servicioPersona = servicioPersona;\n    this.fecha_actual = new Date();\n    this.hora_actual = new Date();\n    this.dataform = '';\n    this.lugar_get = [];\n    this.lugar_save = [];\n    this.pepersona_catalogo = [];\n    this.vezona_catalogo = [];\n    this.persona_get = [];\n    this.persona_get_id = [];\n    this.vezona = [];\n    this.vezona_id = [];\n    this.nombre_ventana = \"abmvelugar.vb\";\n    this.ventana = \"Lugar\";\n    this.detalle = \"lugar-create\";\n    this.tipo = \"lugar-CREATE\";\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    this.mandarNombre();\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n    this.FormularioData = this.createForm();\n  }\n  LugaresComponent.prototype.unloadHandler = function (event) {\n    console.log(\"Hola Lola F4\");\n    var focusedElement = document.activeElement;\n    if (focusedElement) {\n      var elementTagName = focusedElement.id;\n      console.log(\"Elemento enfocado: \".concat(elementTagName));\n      switch (elementTagName) {\n        case \"personaCatalogo\":\n          this.catalogoPersonas();\n          break;\n        case \"zonaCatalogo\":\n          this.catalogoZona();\n          break;\n      }\n    }\n  };\n  ;\n  LugaresComponent.prototype.ngOnInit = function () {};\n  LugaresComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    this.servicioPersona.disparadorDePersonas.subscribe(function (data) {\n      console.log(\"Recibiendo Persona: \", data);\n      _this.pepersona_catalogo = data.persona;\n    });\n    this.servicioZona.disparadorDeZonas.subscribe(function (data) {\n      console.log(\"Recibiendo Zona: \", data);\n      _this.vezona_catalogo = data.zona;\n    });\n    this.lugar_service.disparadorDeLugares.subscribe(function (data) {\n      console.log(\"Recibiendo Lugares: \", data);\n      _this.cod_vendedor_cliente_modal = data.lugar;\n      console.log(_this.cod_vendedor_cliente_modal);\n      _this.getByIdLugar(_this.cod_vendedor_cliente_modal);\n    });\n    this.getPersona();\n    this.getZona();\n  };\n  LugaresComponent.prototype.createForm = function () {\n    var hour = this.hora_actual.getHours();\n    var minuts = this.hora_actual.getMinutes();\n    var hora_actual_complete = hour + \":\" + minuts;\n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      direccion: [this.dataform.direccion, Validators.compose([Validators.required])],\n      codpersona: [this.dataform.codpersona],\n      personaDescrip: [this.dataform.personaDescrip],\n      obs: [this.dataform.obs],\n      codzona: [this.dataform.codzona],\n      zonaDescrip: [this.dataform.zonaDescrip],\n      latitud: [this.dataform.latitud],\n      longitud: [this.dataform.longitud],\n      puntear: [this.dataform.puntear],\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      horareg: [hora_actual_complete],\n      usuarioreg: [this.usuarioLogueado]\n    });\n  };\n  LugaresComponent.prototype.submitData = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    console.log(data);\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\" + \"Ruta:- /venta/mant/velugar/\";\n    return this.api.create(\"/venta/mant/velugar/\" + this.userConn, data).subscribe({\n      next: function (datav) {\n        _this.lugar_save = datav;\n        console.log('data', datav);\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 2000);\n        _this.toastr.success('! SE GUARDO EXITOSAMENTE !');\n        _this._snackBar.open('Se ha guardado correctamente!', 'Ok', {\n          duration: 3000\n        });\n        location.reload();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.getByIdLugar = function (codigo) {\n    var _this = this;\n    var errorMessage = \"La Ruta  presenta fallos al hacer peticion GET --catalogoVendedor\";\n    return this.api.getAll('/venta/mant/velugar/' + this.userConn + \"/\" + codigo).subscribe({\n      next: function (datav) {\n        _this.lugar_get = datav;\n        console.log(_this.lugar_get);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.limpiar = function () {\n    this.codigo = '';\n    this.lugar_get.codigo = '';\n    this.lugar_get.codpersona = '';\n    this.lugar_get.codzona = '';\n    this.lugar_get.descripcion = '';\n    this.lugar_get.direccion = '';\n    this.lugar_get.latitud = '';\n    this.lugar_get.longitud = '';\n    this.lugar_get.obs = '';\n    this.lugar_get.personaDescrip = '';\n    this.lugar_get.puntear = '';\n    this.lugar_get.zonaDescrip = '';\n  };\n  LugaresComponent.prototype.submitDataEdit = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /venta/mant/velugar/ Update\";\n    return this.api.update('/venta/mant/velugar/' + this.userConn + \"/\" + this.lugar_get.codigo, data).subscribe({\n      next: function (datav) {\n        _this.lugar_save = datav;\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.toastr.success('! SE EDITO EXITOSAMENTE !');\n        location.reload();\n      },\n      error: function (err) {\n        _this.toastr.error('! NO SE EDITO !');\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.eliminar = function () {\n    var _this = this;\n    var ventana = \"Lugar\";\n    var detalle = \"lugar-DELETE\";\n    var tipo = \"lugar-DELETE\";\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:--  seg_adm/mant/adarea/ Delete\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: this.lugar_get.codigo\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/venta/mant/velugar/' + _this.userConn + \"/\" + _this.lugar_get.codigo).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            _this.limpiar();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  LugaresComponent.prototype.getPersona = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/pers_plan/mant/pepersona/catalogo/\";\n    return this.api.getAll('/pers_plan/mant/pepersona/catalogo/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.persona_get = datav;\n        // console.log(this.persona_get);\n      },\n\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.getZona = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vezona/catalogo/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.vezona = datav;\n        console.log('data', datav);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.getZonaID = function (id) {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vezona/' + this.userConn + \"/\" + id).subscribe({\n      next: function (datav) {\n        _this.vezona_id = datav;\n        console.log('data', datav);\n        _this.lugar_get.zonaDescrip = _this.vezona_id.descripcion;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.getPersonaID = function (id) {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/pers_plan/mant/pepersona/\";\n    return this.api.getAll('/pers_plan/mant/pepersona/' + this.userConn + \"/\" + id).subscribe({\n      next: function (datav) {\n        _this.persona_get_id = datav;\n        console.log(_this.persona_get_id);\n        var nomnbre_completo = _this.persona_get_id.nombre1 + _this.persona_get_id.nombre1 + _this.persona_get_id.apellido1 + _this.persona_get_id.apellido2;\n        _this.lugar_get.personaDescrip = nomnbre_completo;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  LugaresComponent.prototype.onLeavePersona = function (event) {\n    var inputValue = event.target.value;\n    var miNumero = parseInt(inputValue, 10);\n    // Verificar si el valor ingresado está presente en los objetos del array\n    var encontrado = this.persona_get.some(function (objeto) {\n      return objeto.codigo === miNumero;\n    });\n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getPersonaID(miNumero);\n    }\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', miNumero);\n  };\n  LugaresComponent.prototype.onLeaveZona = function (event) {\n    var inputValue = event.target.value;\n    // Verificar si el valor ingresado está presente en los objetos del array\n    var encontrado = this.vezona.some(function (objeto) {\n      return objeto.codigo === inputValue;\n    });\n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getZonaID(inputValue);\n    }\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', inputValue);\n  };\n  LugaresComponent.prototype.catalogoLugares = function () {\n    this.dialog.open(CatalogoLugarComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  LugaresComponent.prototype.catalogoPersonas = function () {\n    this.dialog.open(PersonaCatalogoComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  LugaresComponent.prototype.catalogoZona = function () {\n    this.dialog.open(ModalZonaComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  LugaresComponent.prototype.mandarNombre = function () {\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\n      nombre_vent: this.ventana\n    });\n  };\n  LugaresComponent.ɵfac = function LugaresComponent_Factory(t) {\n    return new (t || LugaresComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.LugarService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.MatSnackBar), i0.ɵɵdirectiveInject(i6.LogService), i0.ɵɵdirectiveInject(i7.ToastrService), i0.ɵɵdirectiveInject(i8.FormBuilder), i0.ɵɵdirectiveInject(i9.NombreVentanaService), i0.ɵɵdirectiveInject(i10.DatePipe), i0.ɵɵdirectiveInject(i11.ServiciozonaService), i0.ɵɵdirectiveInject(i12.ServicePersonaService));\n  };\n  LugaresComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LugaresComponent,\n    selectors: [[\"app-lugares\"]],\n    hostBindings: function LugaresComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.F4\", function LugaresComponent_keydown_F4_HostBindingHandler() {\n          return ctx.unloadHandler();\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 87,\n    vars: 22,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"p-2\"], [2, \"background-color\", \"#f0f0f0\"], [1, \"mb-1\"], [2, \"font-size\", \"0.8rem\"], [\"align\", \"start\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [1, \"fa\", \"fa-pen\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"click\"], [1, \"fa\", \"fa-eraser\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"fa\", \"fa-search\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [4, \"ngIf\"], [2, \"padding-right\", \"27px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"descripcion\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"39px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"direccion\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group\"], [2, \"padding-right\", \"44px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"codpersona\", \"id\", \"personaCatalogo\", 2, \"width\", \"5% !important\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"input-group-append\"], [\"type\", \"button\", \"matTooltip\", \"Buscar Persona\", 1, \"btn\", \"btn-outline-primary\", 2, \"border-color\", \"#093070\", \"padding\", \"4px 5px 1px 5px\", \"line-height\", \"0 !important\", 3, \"click\"], [\"type\", \"text\", \"formControlName\", \"personaDescrip\", 2, \"width\", \"17%\", 3, \"ngModel\", \"readOnly\", \"ngModelChange\"], [2, \"padding-right\", \"10px\", \"padding-top\", \"7px\"], [\"cols\", \"30\", \"rows\", \"5\", \"formControlName\", \"obs\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"61px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"codzona\", \"id\", \"zonaCatalogo\", 2, \"width\", \"5% !important\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [\"type\", \"button\", \"matTooltip\", \"Buscar Zona\", 1, \"btn\", \"btn-outline-primary\", 2, \"border-color\", \"#093070\", \"padding\", \"4px 5px 1px 5px\", \"line-height\", \"0 !important\", 3, \"click\"], [\"type\", \"text\", \"formControlName\", \"zonaDescrip\", 2, \"width\", \"17%\", 3, \"ngModel\", \"readOnly\", \"ngModelChange\"], [2, \"padding-right\", \"52px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"latitud\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"43px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"longitud\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"formControlName\", \"puntear\", 3, \"checked\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [2, \"padding-right\", \"50px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"codigo\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function LugaresComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"mat-card\", 3)(4, \"mat-card-header\", 4)(5, \"mat-card-title\", 5);\n        i0.ɵɵtext(6, \"Lugares\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"mat-card-actions\", 6)(8, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_button_click_8_listener() {\n          return ctx.submitData();\n        });\n        i0.ɵɵelement(9, \"i\", 8);\n        i0.ɵɵtext(10, \" Grabar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \"\\u00A0 \");\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_button_click_12_listener() {\n          return ctx.submitDataEdit();\n        });\n        i0.ɵɵelement(13, \"i\", 9);\n        i0.ɵɵtext(14, \" Editar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \"\\u00A0 \");\n        i0.ɵɵelementStart(16, \"a\", 10);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_a_click_16_listener() {\n          return ctx.limpiar();\n        });\n        i0.ɵɵelement(17, \"i\", 11);\n        i0.ɵɵtext(18, \" Limpiar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(19, \"\\u00A0 \");\n        i0.ɵɵelementStart(20, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_a_click_20_listener() {\n          return ctx.eliminar();\n        });\n        i0.ɵɵelement(21, \"i\", 13);\n        i0.ɵɵtext(22, \" Eliminar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(23, \"\\u00A0 \");\n        i0.ɵɵelementStart(24, \"a\", 10);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_a_click_24_listener() {\n          return ctx.catalogoLugares();\n        });\n        i0.ɵɵelement(25, \"i\", 14);\n        i0.ɵɵtext(26, \" Catalogo Lugares\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(27, \"\\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"form\", 15);\n        i0.ɵɵlistener(\"ngSubmit\", function LugaresComponent_Template_form_ngSubmit_28_listener() {\n          return ctx.submitData();\n        });\n        i0.ɵɵelementStart(29, \"mat-card-content\")(30, \"div\", 16);\n        i0.ɵɵtemplate(31, LugaresComponent_ng_container_31_Template, 5, 1, \"ng-container\", 17);\n        i0.ɵɵtemplate(32, LugaresComponent_ng_container_32_Template, 6, 1, \"ng-container\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 16)(34, \"mat-label\", 18)(35, \"u\");\n        i0.ɵɵtext(36, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_37_listener($event) {\n          return ctx.lugar_get.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"div\", 16)(39, \"mat-label\", 20)(40, \"u\");\n        i0.ɵɵtext(41, \"Direccion\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.lugar_get.direccion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 16)(44, \"div\", 22)(45, \"mat-label\", 23)(46, \"u\");\n        i0.ɵɵtext(47, \"Persona\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(48, \"input\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_48_listener($event) {\n          return ctx.lugar_get.codpersona = $event;\n        })(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_48_listener($event) {\n          return ctx.pepersona_catalogo.codigo = $event;\n        })(\"blur\", function LugaresComponent_Template_input_blur_48_listener($event) {\n          return ctx.onLeavePersona($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 25)(50, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_button_click_50_listener() {\n          return ctx.catalogoPersonas();\n        });\n        i0.ɵɵelement(51, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(52, \"input\", 27);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_52_listener($event) {\n          return ctx.lugar_get.personaDescrip = $event;\n        })(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_52_listener($event) {\n          return ctx.pepersona_catalogo.descrip = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 16)(54, \"mat-label\", 28)(55, \"u\");\n        i0.ɵɵtext(56, \"Observaciones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"textarea\", 29);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_textarea_ngModelChange_57_listener($event) {\n          return ctx.lugar_get.obs = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"div\", 16)(59, \"div\", 22)(60, \"mat-label\", 30)(61, \"u\");\n        i0.ɵɵtext(62, \"Zona\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"input\", 31);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_63_listener($event) {\n          return ctx.lugar_get.codzona = $event;\n        })(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_63_listener($event) {\n          return ctx.vezona_catalogo.codigo = $event;\n        })(\"blur\", function LugaresComponent_Template_input_blur_63_listener($event) {\n          return ctx.onLeaveZona($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"div\", 25)(65, \"button\", 32);\n        i0.ɵɵlistener(\"click\", function LugaresComponent_Template_button_click_65_listener() {\n          return ctx.catalogoZona();\n        });\n        i0.ɵɵelement(66, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(67, \"input\", 33);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_67_listener($event) {\n          return ctx.lugar_get.zonaDescrip = $event;\n        })(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_67_listener($event) {\n          return ctx.vezona_catalogo.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"div\", 16)(69, \"mat-label\", 34)(70, \"u\");\n        i0.ɵɵtext(71, \"Latitud\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(72, \"input\", 35);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_72_listener($event) {\n          return ctx.lugar_get.latitud = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"div\", 16)(74, \"mat-label\", 36)(75, \"u\");\n        i0.ɵɵtext(76, \"Longitud\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(77, \"input\", 37);\n        i0.ɵɵlistener(\"ngModelChange\", function LugaresComponent_Template_input_ngModelChange_77_listener($event) {\n          return ctx.lugar_get.longitud = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"div\", 16)(79, \"mat-label\", 36)(80, \"u\");\n        i0.ɵɵtext(81, \"Puntear Georeferencia en Google Maps\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(82, \"input\", 38);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(83, \"ngx-spinner\", 39);\n        i0.ɵɵelement(84, \"br\");\n        i0.ɵɵelementStart(85, \"p\", 40);\n        i0.ɵɵtext(86, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", !ctx.FormularioData.valid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", !ctx.lugar_get.codigo);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"formGroup\", ctx.FormularioData);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.lugar_get.codigo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.lugar_get.codigo);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.descripcion);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.direccion);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.codpersona)(\"ngModel\", ctx.pepersona_catalogo.codigo);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.personaDescrip)(\"ngModel\", ctx.pepersona_catalogo.descrip)(\"readOnly\", true);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.obs);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.codzona)(\"ngModel\", ctx.vezona_catalogo.codigo);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.zonaDescrip)(\"ngModel\", ctx.vezona_catalogo.descripcion)(\"readOnly\", true);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.latitud);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.lugar_get.longitud);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.lugar_get.puntear);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [i10.NgIf, i8.ɵNgNoValidate, i8.DefaultValueAccessor, i8.CheckboxControlValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.RequiredValidator, i8.FormGroupDirective, i8.FormControlName, i13.MatLabel, i14.MatAnchor, i14.MatButton, i4.NgxSpinnerComponent, i15.MatCard, i15.MatCardActions, i15.MatCardContent, i15.MatCardHeader, i15.MatCardTitle, i16.MatTooltip],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n  return LugaresComponent;\n}();\nexport { LugaresComponent };","map":{"version":3,"mappings":"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","names":["CatalogoLugarComponent","Validators","ModalZonaComponent","PersonaCatalogoComponent","DialogDeleteComponent","i0","dialog","api","lugar_service","spinner","_snackBar","log_module","toastr","_formBuilder","nombre_ventana_service","datePipe","servicioZona","servicioPersona","Date","userConn","localStorage","getItem","undefined","JSON","parse","usuarioLogueado","mandarNombre","getRolUserParaVentana","nombre_ventana","FormularioData","createForm","LugaresComponent","event","console","log","focusedElement","document","activeElement","elementTagName","id","catalogoPersonas","catalogoZona","disparadorDePersonas","subscribe","data","_this","pepersona_catalogo","persona","disparadorDeZonas","vezona_catalogo","zona","disparadorDeLugares","cod_vendedor_cliente_modal","lugar","getByIdLugar","getPersona","getZona","hour","hora_actual","getHours","minuts","getMinutes","hora_actual_complete","group","codigo","dataform","compose","required","descripcion","direccion","codpersona","personaDescrip","obs","codzona","zonaDescrip","latitud","longitud","puntear","fechareg","transform","fecha_actual","horareg","usuarioreg","value","errorMessage","create","next","datav","lugar_save","guardarLog","ventana","detalle","tipo","show","setTimeout","hide","success","open","duration","location","reload","error","err","complete","getAll","lugar_get","update","dialogRef","width","height","dataUsuarioEdit","afterClosed","result","delete","limpiar","persona_get","vezona","vezona_id","persona_get_id","nomnbre_completo","nombre1","apellido1","apellido2","inputValue","target","miNumero","parseInt","encontrado","some","getPersonaID","getZonaID","disparadorDeNombreVentana","emit","nombre_vent","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\lugares\\lugares.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\lugares\\lugares.component.html"],"sourcesContent":["import { Component, HostListener, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ApiService } from '@services/api.service';\nimport { CatalogoLugarComponent } from './catalogo-lugar/catalogo-lugar.component';\nimport { LugarService } from './lugar-services/lugar.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { LogService } from '@services/log-service.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NombreVentanaService } from '@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service';\nimport { DatePipe } from '@angular/common';\nimport { ModalZonaComponent } from '../modal-zona/modal-zona.component';\nimport { PersonaCatalogoComponent } from '@components/mantenimiento/persona-catalogo/persona-catalogo.component';\nimport { ServicePersonaService } from '@components/mantenimiento/persona-catalogo/service-persona/service-persona.service';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { ServiciozonaService } from '../serviciozona/serviciozona.service';\n\n@Component({\n  selector: 'app-lugares',\n  templateUrl: './lugares.component.html',\n  styleUrls: ['./lugares.component.scss']\n})\nexport class LugaresComponent implements OnInit {\n\n  @HostListener(\"document:keydown.F4\", []) unloadHandler(event: KeyboardEvent){\n    console.log(\"Hola Lola F4\");\n    const focusedElement = document.activeElement as HTMLElement;\n    if(focusedElement){\n      const elementTagName = focusedElement.id;\n      console.log(`Elemento enfocado: ${elementTagName}`);\n\n      switch(elementTagName){\n        case \"personaCatalogo\":\n          this.catalogoPersonas();\n          break;\n        case \"zonaCatalogo\":\n          this.catalogoZona();\n          break;\n      }\n  }};  \n\n  FormularioData: FormGroup;\n  fecha_actual = new Date();\n  hora_actual = new Date();\n  codigo: any;\n  dataform: any = '';\n  usuarioLogueado: any;\n  cod_vendedor_cliente_modal: any;\n  userConn:any;\n\n  \n  lugar_get: any = [];\n  lugar_save: any = [];\n  pepersona_catalogo: any = [];\n  vezona_catalogo: any = [];\n  persona_get: any = [];\n  persona_get_id: any = [];\n  vezona: any = [];\n  vezona_id: any = [];\n\n\n  nombre_ventana: string = \"abmvelugar.vb\";\n  public ventana=\"Lugar\"\n  public detalle=\"lugar-create\";\n  public tipo=\"lugar-CREATE\";\n  \n  constructor(public dialog: MatDialog, private api: ApiService, public lugar_service: LugarService, private spinner: NgxSpinnerService,\n    public _snackBar: MatSnackBar, public log_module: LogService, private toastr: ToastrService,private _formBuilder: FormBuilder,\n    public nombre_ventana_service: NombreVentanaService, private datePipe: DatePipe,public servicioZona:ServiciozonaService,\n    private servicioPersona: ServicePersonaService) {\n    \n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    \n    this.mandarNombre();\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n    \n    this.FormularioData = this.createForm();\n  }\n\n  ngOnInit(){\n\n  }\n\n  ngAfterViewInit(): void {\n\n    this.servicioPersona.disparadorDePersonas.subscribe(data =>{\n      console.log(\"Recibiendo Persona: \" , data);\n      this.pepersona_catalogo = data.persona;\n    });\n\n    this.servicioZona.disparadorDeZonas.subscribe(data =>{\n      console.log(\"Recibiendo Zona: \" , data);\n      this.vezona_catalogo = data.zona;\n    });\n\n    this.lugar_service.disparadorDeLugares.subscribe(data =>{\n      console.log(\"Recibiendo Lugares: \" , data);\n      this.cod_vendedor_cliente_modal = data.lugar;\n\n      console.log(this.cod_vendedor_cliente_modal);\n      this.getByIdLugar(this.cod_vendedor_cliente_modal);\n    });\n    \n    this.getPersona();\n    this.getZona();\n  }\n\n  createForm(): FormGroup {\n    let hour = this.hora_actual.getHours();\n    let minuts = this.hora_actual.getMinutes();\n    let hora_actual_complete = hour + \":\" + minuts;\n\n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      direccion: [this.dataform.direccion, Validators.compose([Validators.required])],\n      codpersona: [this.dataform.codpersona],\n      personaDescrip: [this.dataform.personaDescrip],\n      obs: [this.dataform.obs],\n      codzona: [this.dataform.codzona],\n      zonaDescrip: [this.dataform.zonaDescrip],\n      latitud: [this.dataform.latitud],\n      longitud: [this.dataform.longitud],\n      puntear: [this.dataform.puntear],\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      horareg: [hora_actual_complete],\n      usuarioreg: [this.usuarioLogueado],\n    });\n  }\n\n  submitData(){\n    const data = this.FormularioData.value;\n    console.log(data);\n    \n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\"+\"Ruta:- /venta/mant/velugar/\";\n    return this.api.create(\"/venta/mant/velugar/\"+this.userConn, data)\n      .subscribe({\n        next: (datav) => {\n          this.lugar_save = datav;\n\n          console.log('data', datav);\n          this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\n          this.spinner.show();\n          setTimeout(() => {\n            this.spinner.hide();\n          }, 2000);\n          this.toastr.success('! SE GUARDO EXITOSAMENTE !');\n          this._snackBar.open('Se ha guardado correctamente!', 'Ok', {\n            duration: 3000,\n          });\n          location.reload();\n        },\n    \n        error: (err) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  getByIdLugar(codigo) {\n    let errorMessage = \"La Ruta  presenta fallos al hacer peticion GET --catalogoVendedor\";\n    return this.api.getAll('/venta/mant/velugar/'+this.userConn+\"/\"+codigo)\n      .subscribe({\n        next: (datav) => {\n          this.lugar_get = datav;\n          console.log(this.lugar_get);\n        },\n                \n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n  \n  limpiar() { \n    this.codigo = '';\n    this.lugar_get.codigo = '';\n    this.lugar_get.codpersona = '';\n    this.lugar_get.codzona = '';\n    this.lugar_get.descripcion = '';\n    this.lugar_get.direccion = '';\n    this.lugar_get.latitud = '';\n    this.lugar_get.longitud = '';\n    this.lugar_get.obs = '';\n    this.lugar_get.personaDescrip = '';\n    this.lugar_get.puntear = '';\n    this.lugar_get.zonaDescrip = '';\n  }\n\n  submitDataEdit() { \n    let data = this.FormularioData.value;\n\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:- /venta/mant/velugar/ Update\";\n    return this.api.update('/venta/mant/velugar/'+this.userConn+\"/\"+this.lugar_get.codigo, data)\n      .subscribe({\n        next: (datav) => {\n          this.lugar_save = datav;\n\n          this.log_module.guardarLog(this.ventana, this.detalle, this.tipo);\n          this.toastr.success('! SE EDITO EXITOSAMENTE !');\n          location.reload();\n        },\n    \n        error: (err: any) => { \n          this.toastr.error('! NO SE EDITO !');\n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  eliminar() { \n    let ventana=\"Lugar\"\n    let detalle=\"lugar-DELETE\";\n    let tipo = \"lugar-DELETE\";\n    \n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:--  seg_adm/mant/adarea/ Delete\";\n\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height:'auto',\n      data:{dataUsuarioEdit:this.lugar_get.codigo},\n    });\n\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\n      if(result) {\n        return this.api.delete('/venta/mant/velugar/'+this.userConn+\"/\"+this.lugar_get.codigo)\n        .subscribe({\n          next: () => {\n            this.log_module.guardarLog(ventana, detalle, tipo);\n            \n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            this.limpiar();\n          },\n          error: (err: any) => { \n            console.log(err, errorMessage);\n            this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: () => { }\n        })\n      }else{\n        this.toastr.error('! CANCELADO !');\n      }\n    });\n  }\n\n  getPersona(){\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/pers_plan/mant/pepersona/catalogo/\"\n    return this.api.getAll('/pers_plan/mant/pepersona/catalogo/'+this.userConn)\n      .subscribe({\n        next: (datav) => {\n          this.persona_get = datav;\n          // console.log(this.persona_get);\n        },\n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  getZona(){\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vezona/catalogo/'+this.userConn)\n      .subscribe({\n        next: (datav) => {\n          this.vezona = datav;\n          console.log('data', datav);\n        },\n                \n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  getZonaID(id){\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vezona/'+this.userConn+\"/\"+id)\n      .subscribe({\n        next: (datav) => {\n          this.vezona_id = datav;\n          console.log('data', datav);\n\n          this.lugar_get.zonaDescrip = this.vezona_id.descripcion\n        },\n                \n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  getPersonaID(id){\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/pers_plan/mant/pepersona/\"\n    return this.api.getAll('/pers_plan/mant/pepersona/'+this.userConn+\"/\"+id)\n      .subscribe({\n        next: (datav) => {\n          this.persona_get_id = datav;\n          console.log(this.persona_get_id);\n          let nomnbre_completo = this.persona_get_id.nombre1 + this.persona_get_id.nombre1 + this.persona_get_id.apellido1 + this.persona_get_id.apellido2;\n          this.lugar_get.personaDescrip = nomnbre_completo;\n        },\n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  onLeavePersona(event: any) {\n    const inputValue = event.target.value;\n    let miNumero = parseInt(inputValue, 10);\n    // Verificar si el valor ingresado está presente en los objetos del array\n    const encontrado = this.persona_get.some(objeto => objeto.codigo === miNumero);\n    \n    \n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getPersonaID(miNumero);   \n    }\n\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', miNumero);\n  }\n\n  onLeaveZona(event: any) {\n    const inputValue = event.target.value;\n  \n    // Verificar si el valor ingresado está presente en los objetos del array\n    const encontrado = this.vezona.some(objeto => objeto.codigo === inputValue);\n    \n    \n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getZonaID(inputValue);   \n    }\n\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', inputValue);\n  }\n\n  catalogoLugares(): void {\n    this.dialog.open(CatalogoLugarComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n\n  catalogoPersonas(): void {\n    this.dialog.open(PersonaCatalogoComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n  \n  catalogoZona(): void {\n    this.dialog.open(ModalZonaComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n  \n  mandarNombre(){\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\n      nombre_vent:this.ventana,\n    });\n  }\n}\n","<section class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"p-2\">\n      <mat-card style=\"background-color: #f0f0f0;\">\n        <mat-card-header class=\"mb-1\">\n          <mat-card-title style=\"font-size: 0.8rem;\">Lugares</mat-card-title>\n        </mat-card-header>\n\n        <mat-card-actions align=\"start\">\n          <button mat-raised-button color=\"primary\" [disabled]=\"!FormularioData.valid\" (click)=\"submitData();\"><i\n              class=\"fa fa-save\"></i> Grabar\n          </button>&nbsp;\n\n          <button mat-raised-button color=\"primary\" [disabled]=\"!lugar_get.codigo\" (click)=\"submitDataEdit()\">\n            <i class=\"fa fa-pen\"></i> Editar\n          </button>&nbsp;\n\n          <a mat-raised-button class=\"secondary\" (click)=\"limpiar()\"><i class=\"fa fa-eraser\"></i>\n            Limpiar</a>&nbsp;\n\n          <a mat-raised-button class=\"danger\" (click)=\"eliminar()\"><i class=\"fa fa-trash\"></i>\n            Eliminar</a>&nbsp;\n\n          <a mat-raised-button class=\"secondary\" (click)=\"catalogoLugares();\"><i class=\"fa fa-search\"></i>\n            Catalogo Lugares</a>&nbsp;\n        </mat-card-actions>\n\n        <form [formGroup]=\"FormularioData\" (ngSubmit)=\"submitData()\">\n          <mat-card-content>\n            <div class=\"row\">\n              <ng-container *ngIf=\"!lugar_get.codigo\">\n                <mat-label style=\"padding-right: 50px;padding-top: 7px;\"><u>Codigo</u></mat-label>\n                <input type=\"text\" formControlName=\"codigo\" [(ngModel)]=\"codigo\" required>\n              </ng-container>\n              <ng-container *ngIf=\"lugar_get.codigo\">\n                <mat-label style=\"padding-right: 50px;padding-top: 7px;\"><u>Codigo</u></mat-label>\n                <span>{{ lugar_get.codigo }}</span>\n              </ng-container>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 27px;padding-top: 7px;\"><u>Descripción</u></mat-label>\n              <input type=\"text\" formControlName=\"descripcion\" [(ngModel)]=\"lugar_get.descripcion\" required>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 39px;padding-top: 7px;\"><u>Direccion</u></mat-label>\n              <input type=\"text\" formControlName=\"direccion\" [(ngModel)]=\"lugar_get.direccion\" required>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"input-group\">\n                <mat-label style=\"padding-right: 44px;padding-top: 7px;\"><u>Persona</u>\n                </mat-label>\n                <input type=\"text\" style=\"width: 5% !important;\" formControlName=\"codpersona\"\n                  [(ngModel)]=\"lugar_get.codpersona\" [(ngModel)]=\"pepersona_catalogo.codigo\" id=\"personaCatalogo\"\n                  (blur)=\"onLeavePersona($event)\">\n                <div class=\"input-group-append\">\n                  <button class=\"btn btn-outline-primary\" type=\"button\"\n                    style=\"border-color: #093070;padding: 4px 5px 1px 5px;line-height: 0 !important;\"\n                    matTooltip=\"Buscar Persona\" (click)=\"catalogoPersonas()\">\n                    <i class=\"fa fa-search\"></i>\n                  </button>\n                </div>\n\n                <input type=\"text\" formControlName=\"personaDescrip\" [(ngModel)]=\"lugar_get.personaDescrip\"\n                  [(ngModel)]=\"pepersona_catalogo.descrip\" style=\"width: 17%;\" [readOnly]=\"true\">\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 10px;padding-top: 7px;\"><u>Observaciones</u></mat-label>\n              <textarea cols=\"30\" rows=\"5\" formControlName=\"obs\" [(ngModel)]=\"lugar_get.obs\"></textarea>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"input-group\">\n                <mat-label style=\"padding-right: 61px;padding-top: 7px;\"><u>Zona</u>\n                </mat-label>\n                <input type=\"text\" style=\"width: 5% !important;\" formControlName=\"codzona\"\n                  [(ngModel)]=\"lugar_get.codzona\" [(ngModel)]=\"vezona_catalogo.codigo\" id=\"zonaCatalogo\"\n                  (blur)=\"onLeaveZona($event)\">\n                <div class=\"input-group-append\">\n                  <button class=\"btn btn-outline-primary\" type=\"button\"\n                    style=\"border-color: #093070;padding: 4px 5px 1px 5px;line-height: 0 !important;\"\n                    matTooltip=\"Buscar Zona\" (click)=\"catalogoZona()\">\n                    <i class=\"fa fa-search\"></i>\n                  </button>\n                </div>\n                <input type=\"text\" formControlName=\"zonaDescrip\" style=\"width: 17%;\" [(ngModel)]=\"lugar_get.zonaDescrip\"\n                  [(ngModel)]=\"vezona_catalogo.descripcion\" [readOnly]=\"true\">\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 52px;padding-top: 7px;\"><u>Latitud</u></mat-label>\n              <input type=\"text\" formControlName=\"latitud\" [(ngModel)]=\"lugar_get.latitud\">\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 43px;padding-top: 7px;\"><u>Longitud</u></mat-label>\n              <input type=\"text\" formControlName=\"longitud\" [(ngModel)]=\"lugar_get.longitud\">\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 43px;padding-top: 7px;\"><u>Puntear Georeferencia en Google\n                  Maps</u>\n              </mat-label>\n              <input type=\"checkbox\" formControlName=\"puntear\" [checked]=\"lugar_get.puntear\">\n            </div>\n          </mat-card-content>\n        </form>\n      </mat-card>\n    </div>\n\n    <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\" [fullScreen]=\"true\">\n      <br>\n      <p style=\"font-size: 25px; color: rgb(9,48,112,)\">🔩 Cargando... 🔩</p>\n    </ngx-spinner>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}