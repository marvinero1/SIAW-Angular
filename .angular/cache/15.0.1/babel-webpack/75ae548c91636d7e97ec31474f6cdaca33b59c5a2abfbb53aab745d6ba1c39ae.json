{"ast":null,"code":"import { DateTime } from 'luxon';\nimport packageInfo from './../../../../../package.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./servicio-nombre-ventana/nombre-ventana.service\";\nfunction FooterComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.nombre_ventana, \" \");\n  }\n}\nfunction FooterComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 3);\n    i0.ɵɵtext(2, \"S/N\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nvar FooterComponent = /** @class */function () {\n  function FooterComponent(api, datePipe, nombre_ventana_service) {\n    var _this = this;\n    this.api = api;\n    this.datePipe = datePipe;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.classes = 'main-footer';\n    this.appVersion = packageInfo.version;\n    this.currentYear = DateTime.now().toFormat('y');\n    this.tipo_cambio_hoy_dia = [];\n    this.fecha_actual = new Date();\n    this.nombre_ventana_service.disparadorDeNombreVentana.subscribe(function (data) {\n      console.log(\"Recibiendo Ventana: \", data);\n      _this.nombre_ventana = data.nombre_vent;\n    });\n    this.fecha_actual_format = this.datePipe.transform(this.fecha_actual);\n    console.log(this.fecha_actual_format);\n  }\n  FooterComponent.prototype.ngOnInit = function () {\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    this.usuario_logueado = this.api.dato_local_storage;\n    this.session = JSON.parse(this.usuario_logueado);\n    this.agencia_storage = localStorage.getItem(\"agencia_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"agencia_logueado\")) : null;\n    this.BD_storage = localStorage.getItem(\"bd_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"bd_logueado\")) : null;\n    var userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.getTipoCambioHoyDia(userConn);\n  };\n  FooterComponent.prototype.getTipoCambioHoyDia = function (userConn) {\n    var _this = this;\n    var dataTransform = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/seg_adm/mant/adtipocambio/getTipocambioFecha/' + userConn + \"/\" + dataTransform).subscribe({\n      next: function (datav) {\n        _this.tipo_cambio_hoy_dia = datav;\n        console.log(\"Tipo de Cambio HOY DIA: \", _this.tipo_cambio_hoy_dia);\n        _this.tipo_cambio_dolar = _this.tipo_cambio_hoy_dia.filter(function (element) {\n          return element.moneda === 'US';\n        });\n        _this.tipo_cambio_dolar_dolar = _this.tipo_cambio_dolar[0].factor;\n        _this.tipo_cambio_dolar_moneda_base = _this.tipo_cambio_dolar[0].monedabase;\n        console.log(_this.tipo_cambio_dolar);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  FooterComponent.ɵfac = function FooterComponent_Factory(t) {\n    return new (t || FooterComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.NombreVentanaService));\n  };\n  FooterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FooterComponent,\n    selectors: [[\"app-footer\"]],\n    hostVars: 2,\n    hostBindings: function FooterComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.classes);\n      }\n    },\n    decls: 24,\n    vars: 9,\n    consts: [[1, \"float-right\", \"d-none\", \"d-sm-block\", \"foo\", 2, \"font-size\", \"0.75rem\"], [1, \"row\"], [1, \"col\"], [1, \"pr-4\"], [4, \"ngIf\"]],\n    template: function FooterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\");\n        i0.ɵɵtext(2, \" Todos los Derechos Reservados \\u00A9 \\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"b\");\n        i0.ɵɵtext(4, \"Version\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"div\", 2)(8, \"span\", 3);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \"| \");\n        i0.ɵɵtemplate(11, FooterComponent_ng_container_11_Template, 3, 1, \"ng-container\", 4);\n        i0.ɵɵtemplate(12, FooterComponent_ng_container_12_Template, 3, 0, \"ng-container\", 4);\n        i0.ɵɵelementStart(13, \"span\", 3);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \"| \");\n        i0.ɵɵelementStart(16, \"span\", 3);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \"| \");\n        i0.ɵɵelementStart(19, \"span\", 3);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21, \"| \");\n        i0.ɵɵelementStart(22, \"span\", 3);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.appVersion, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", ctx.session, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.nombre_ventana);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.nombre_ventana);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"| \", ctx.BD_storage.bd, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.agencia_storage, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", ctx.tipo_cambio_dolar_moneda_base, \" \", ctx.tipo_cambio_dolar_dolar, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Hoy es: \", ctx.fecha_actual_format, \"\");\n      }\n    },\n    dependencies: [i2.NgIf],\n    styles: [\"[_nghost-%COMP%] {\\n  display: block;\\n  z-index: 999;\\n}\\n/*# sourceURL=webpack://./src/app/modules/main/footer/footer.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9tYWluL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgei1pbmRleDogOTk5O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n  return FooterComponent;\n}();\nexport { FooterComponent };","map":{"version":3,"mappings":"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","names":["DateTime","packageInfo","i0","api","datePipe","nombre_ventana_service","version","now","toFormat","Date","disparadorDeNombreVentana","subscribe","console","log","data","_this","nombre_ventana","nombre_vent","fecha_actual_format","transform","fecha_actual","FooterComponent","usuario_logueado","dato_local_storage","session","JSON","parse","agencia_storage","localStorage","getItem","undefined","BD_storage","userConn","getTipoCambioHoyDia","dataTransform","errorMessage","getAll","next","datav","tipo_cambio_hoy_dia","tipo_cambio_dolar","filter","element","moneda","tipo_cambio_dolar_dolar","factor","tipo_cambio_dolar_moneda_base","monedabase","error","err","complete","selectors","hostVars","hostBindings"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\modules\\main\\footer\\footer.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\modules\\main\\footer\\footer.component.html"],"sourcesContent":["import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { DateTime } from 'luxon';\r\nimport packageInfo from './../../../../../package.json';\r\nimport { ApiService } from '@services/api.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { NombreVentanaService } from './servicio-nombre-ventana/nombre-ventana.service';\r\n\r\n@Component({\r\n    selector: 'app-footer',\r\n    templateUrl: './footer.component.html',\r\n    styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n    @HostBinding('class') classes: string = 'main-footer';\r\n    public appVersion = packageInfo.version;\r\n    public currentYear: string = DateTime.now().toFormat('y');\r\n    public tipo_cambio_hoy_dia: any = [];\r\n    public nombre_ventana: string;\r\n\r\n    fecha_actual = new Date();\r\n    fecha_actual_format: any;\r\n\r\n    public session: any;\r\n    public usuario_logueado: any;\r\n    public agencia_storage: any;\r\n    public BD_storage: any;\r\n\r\n    tipo_cambio_dolar: any;\r\n    tipo_cambio_dolar_dolar: any;\r\n    tipo_cambio_dolar_moneda_base: any;\r\n\r\n    constructor(private api: ApiService, private datePipe: DatePipe, public nombre_ventana_service: NombreVentanaService) {\r\n        this.nombre_ventana_service.disparadorDeNombreVentana.subscribe(data => {\r\n            console.log(\"Recibiendo Ventana: \", data);\r\n            this.nombre_ventana = data.nombre_vent;\r\n        });\r\n\r\n        this.fecha_actual_format = this.datePipe.transform(this.fecha_actual);\r\n        console.log(this.fecha_actual_format);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\r\n        //Add 'implements OnInit' to the class.\r\n        this.usuario_logueado = this.api.dato_local_storage;\r\n        this.session = JSON.parse(this.usuario_logueado);\r\n\r\n        this.agencia_storage = localStorage.getItem(\"agencia_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"agencia_logueado\")) : null;\r\n        this.BD_storage = localStorage.getItem(\"bd_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"bd_logueado\")) : null;\r\n        let userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n\r\n        this.getTipoCambioHoyDia(userConn);\r\n    }\r\n\r\n    getTipoCambioHoyDia(userConn) {\r\n        let dataTransform = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\r\n        let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\r\n        return this.api.getAll('/seg_adm/mant/adtipocambio/getTipocambioFecha/' + userConn + \"/\" + dataTransform)\r\n            .subscribe({\r\n                next: (datav) => {\r\n                    this.tipo_cambio_hoy_dia = datav;\r\n                    console.log(\"Tipo de Cambio HOY DIA: \", this.tipo_cambio_hoy_dia);\r\n\r\n                    this.tipo_cambio_dolar = this.tipo_cambio_hoy_dia.filter((element) => element.moneda === 'US');\r\n                    this.tipo_cambio_dolar_dolar = this.tipo_cambio_dolar[0].factor;\r\n                    this.tipo_cambio_dolar_moneda_base = this.tipo_cambio_dolar[0].monedabase;\r\n\r\n                    console.log(this.tipo_cambio_dolar);\r\n                },\r\n                error: (err: any) => {\r\n                    console.log(err, errorMessage);\r\n                },\r\n                complete: () => { }\r\n            })\r\n    }\r\n}\r\n","<div class=\"float-right d-none d-sm-block foo\" style=\"font-size: 0.75rem;\">\r\n  <span> Todos los Derechos Reservados &copy;\r\n    &nbsp;\r\n  </span><b>Version</b> {{ appVersion }}</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col\">\r\n    <span class=\"pr-4\">{{ session }} </span>|\r\n\r\n    <ng-container *ngIf=\"nombre_ventana\">\r\n      <span class=\"pr-4\">{{ nombre_ventana }} </span>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"!nombre_ventana\">\r\n      <span class=\"pr-4\">S/N</span>\r\n    </ng-container>\r\n\r\n    <span class=\"pr-4\">| {{ BD_storage.bd }} </span>|\r\n\r\n    <span class=\"pr-4\"> {{ agencia_storage }} </span>|\r\n\r\n    <span class=\"pr-4\">{{ tipo_cambio_dolar_moneda_base }} {{ tipo_cambio_dolar_dolar }} </span>|\r\n\r\n    <span class=\"pr-4\"> Hoy es: {{ fecha_actual_format }}</span>\r\n\r\n  </div>\r\n  <!-- <div class=\"col\">\r\n        <span>Copyright &copy; {{ currentYear }}</span>\r\n        <a href=\"https://www.pertec.com.bo\" style=\"font-size: 0.75rem !important;margin: 0\"\r\n            target=\"_blank\" rel=\"noopener noreferrer\">www.pertec.com.bo\r\n        </a>\r\n    </div> -->\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}