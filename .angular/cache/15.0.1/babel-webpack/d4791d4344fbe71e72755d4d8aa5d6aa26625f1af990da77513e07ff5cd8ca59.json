{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateMethodInitSpec(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  _classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n  return fn;\n}\nimport { BasePlugin } from \"../base/index.mjs\";\nimport DataManager from \"./data/dataManager.mjs\";\nimport CollapsingUI from \"./ui/collapsing.mjs\";\nimport HeadersUI from \"./ui/headers.mjs\";\nimport ContextMenuUI from \"./ui/contextMenu.mjs\";\nimport { error } from \"../../helpers/console.mjs\";\nimport { isArrayOfObjects } from \"../../helpers/data.mjs\";\nimport { TrimmingMap } from \"../../translations/index.mjs\";\nimport RowMoveController from \"./utils/rowMoveController.mjs\";\nexport const PLUGIN_KEY = 'nestedRows';\nexport const PLUGIN_PRIORITY = 300;\nconst SHORTCUTS_GROUP = PLUGIN_KEY;\n\n/* eslint-disable jsdoc/require-description-complete-sentence */\n/**\n * Error message for the wrong data type error.\n */\nconst WRONG_DATA_TYPE_ERROR = 'The Nested Rows plugin requires an Array of Objects as a dataset to be' + ' provided. The plugin has been disabled.';\n\n/**\n * @plugin NestedRows\n * @class NestedRows\n *\n * @description\n * Plugin responsible for displaying and operating on data sources with nested structures.\n */\nvar _skipRender = /*#__PURE__*/new WeakMap();\nvar _skipCoreAPIModifiers = /*#__PURE__*/new WeakMap();\nvar _onBeforeRowMove = /*#__PURE__*/new WeakSet();\nvar _onBeforeOnCellMouseDown = /*#__PURE__*/new WeakSet();\nvar _onFilterData = /*#__PURE__*/new WeakSet();\nvar _onAfterContextMenuDefaultOptions = /*#__PURE__*/new WeakSet();\nvar _onAfterGetRowHeader = /*#__PURE__*/new WeakSet();\nvar _onModifyRowHeaderWidth = /*#__PURE__*/new WeakSet();\nvar _onAfterRemoveRow = /*#__PURE__*/new WeakSet();\nvar _onBeforeRemoveRow = /*#__PURE__*/new WeakSet();\nvar _onBeforeAddChild = /*#__PURE__*/new WeakSet();\nvar _onAfterAddChild = /*#__PURE__*/new WeakSet();\nvar _onBeforeDetachChild = /*#__PURE__*/new WeakSet();\nvar _onAfterDetachChild = /*#__PURE__*/new WeakSet();\nvar _onAfterCreateRow = /*#__PURE__*/new WeakSet();\nvar _onAfterInit = /*#__PURE__*/new WeakSet();\nvar _onBeforeViewRender = /*#__PURE__*/new WeakSet();\nvar _onBeforeLoadData = /*#__PURE__*/new WeakSet();\nexport class NestedRows extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    /**\n     * `beforeLoadData` hook callback.\n     *\n     * @param {Array} data The source data.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeLoadData);\n    /**\n     * `beforeViewRender` hook callback.\n     *\n     * @param {boolean} force Indicates if the render call was triggered by a change of settings or data.\n     * @param {object} skipRender An object, holder for skipRender functionality.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeViewRender);\n    /**\n     * `afterInit` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterInit);\n    /**\n     * `afterCreateRow` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterCreateRow);\n    /**\n     * `afterDetachChild` hook callback.\n     *\n     * @param {object} parent Parent element.\n     * @param {object} element New child element.\n     * @param {number} finalElementRowIndex The final row index of the detached element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterDetachChild);\n    /**\n     * `beforeDetachChild` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeDetachChild);\n    /**\n     * `afterAddChild` hook callback.\n     *\n     * @param {object} parent Parent element.\n     * @param {object} element New child element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterAddChild);\n    /**\n     * `beforeAddChild` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeAddChild);\n    /**\n     * Callback for the `beforeRemoveRow` change list of removed physical indexes by reference. Removing parent node\n     * has effect in removing children nodes.\n     *\n     * @param {number} index Visual index of starter row.\n     * @param {number} amount Amount of rows to be removed.\n     * @param {Array} physicalRows List of physical indexes.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeRemoveRow);\n    /**\n     * `onAfterRemoveRow` hook callback.\n     *\n     * @param {number} index Removed row.\n     * @param {number} amount Amount of removed rows.\n     * @param {Array} logicRows An array of the removed physical rows.\n     * @param {string} source Source of action.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterRemoveRow);\n    /**\n     * `modifyRowHeaderWidth` hook callback.\n     *\n     * @param {number} rowHeaderWidth The initial row header width(s).\n     * @returns {number}\n     */\n    _classPrivateMethodInitSpec(this, _onModifyRowHeaderWidth);\n    /**\n     * `afterGetRowHeader` hook callback.\n     *\n     * @param {number} row Row index.\n     * @param {HTMLElement} TH Row header element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterGetRowHeader);\n    /**\n     * `afterContextMenuDefaultOptions` hook callback.\n     *\n     * @param {object} defaultOptions The default context menu items order.\n     * @returns {boolean}\n     */\n    _classPrivateMethodInitSpec(this, _onAfterContextMenuDefaultOptions);\n    /**\n     * Provide custom source data filtering. It's handled by core method and replaces the native filtering.\n     *\n     * @param {number} index The index where the data filtering starts.\n     * @param {number} amount An amount of rows which filtering applies to.\n     * @param {number} physicalRows Physical row indexes.\n     * @returns {Array}\n     */\n    _classPrivateMethodInitSpec(this, _onFilterData);\n    /**\n     * `beforeOnCellMousedown` hook callback.\n     *\n     * @param {MouseEvent} event Mousedown event.\n     * @param {object} coords Cell coords.\n     * @param {HTMLElement} TD Clicked cell.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeOnCellMouseDown);\n    /**\n     * `beforeRowMove` hook callback.\n     *\n     * @param {Array} rows Array of visual row indexes to be moved.\n     * @param {number} finalIndex Visual row index, being a start index for the moved rows. Points to where the elements\n     *   will be placed after the moving action. To check the visualization of the final index, please take a look at\n     *   [documentation](@/guides/rows/row-summary.md).\n     * @param {undefined|number} dropIndex Visual row index, being a drop index for the moved rows. Points to where we\n     *   are going to drop the moved elements. To check visualization of drop index please take a look at\n     *   [documentation](@/guides/rows/row-summary.md).\n     * @param {boolean} movePossible Indicates if it's possible to move rows to the desired position.\n     * @fires Hooks#afterRowMove\n     * @returns {boolean}\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeRowMove);\n    /**\n     * Reference to the DataManager instance.\n     *\n     * @private\n     * @type {object}\n     */\n    _defineProperty(this, \"dataManager\", null);\n    /**\n     * Reference to the HeadersUI instance.\n     *\n     * @private\n     * @type {object}\n     */\n    _defineProperty(this, \"headersUI\", null);\n    /**\n     * Map of skipped rows by plugin.\n     *\n     * @private\n     * @type {null|TrimmingMap}\n     */\n    _defineProperty(this, \"collapsedRowsMap\", null);\n    /**\n     * Allows skipping the render cycle if set as `true`.\n     *\n     * @type {boolean}\n     */\n    _classPrivateFieldInitSpec(this, _skipRender, {\n      writable: true,\n      value: false\n    });\n    /**\n     * Allows skipping the internal Core methods call if set as `true`.\n     *\n     * @type {boolean}\n     */\n    _classPrivateFieldInitSpec(this, _skipCoreAPIModifiers, {\n      writable: true,\n      value: false\n    });\n  }\n  static get PLUGIN_KEY() {\n    return PLUGIN_KEY;\n  }\n  static get PLUGIN_PRIORITY() {\n    return PLUGIN_PRIORITY;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` then the {@link NestedRows#enablePlugin} method is called.\n   *\n   * @returns {boolean}\n   */\n  isEnabled() {\n    return !!this.hot.getSettings()[PLUGIN_KEY];\n  }\n\n  /**\n   * Enables the plugin functionality for this Handsontable instance.\n   */\n  enablePlugin() {\n    var _this = this;\n    if (this.enabled) {\n      return;\n    }\n    this.collapsedRowsMap = this.hot.rowIndexMapper.registerMap('nestedRows', new TrimmingMap());\n    this.dataManager = new DataManager(this, this.hot);\n    this.collapsingUI = new CollapsingUI(this, this.hot);\n    this.headersUI = new HeadersUI(this, this.hot);\n    this.contextMenuUI = new ContextMenuUI(this, this.hot);\n    this.rowMoveController = new RowMoveController(this);\n    this.addHook('afterInit', function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return _classPrivateMethodGet(_this, _onAfterInit, _onAfterInit2).call(_this, ...args);\n    });\n    this.addHook('beforeViewRender', function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeViewRender, _onBeforeViewRender2).call(_this, ...args);\n    });\n    this.addHook('modifyRowData', function () {\n      return _this.onModifyRowData(...arguments);\n    });\n    this.addHook('modifySourceLength', function () {\n      return _this.onModifySourceLength(...arguments);\n    });\n    this.addHook('beforeDataSplice', function () {\n      return _this.onBeforeDataSplice(...arguments);\n    });\n    this.addHook('filterData', function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      return _classPrivateMethodGet(_this, _onFilterData, _onFilterData2).call(_this, ...args);\n    });\n    this.addHook('afterContextMenuDefaultOptions', function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return _classPrivateMethodGet(_this, _onAfterContextMenuDefaultOptions, _onAfterContextMenuDefaultOptions2).call(_this, ...args);\n    });\n    this.addHook('afterGetRowHeader', function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n      return _classPrivateMethodGet(_this, _onAfterGetRowHeader, _onAfterGetRowHeader2).call(_this, ...args);\n    });\n    this.addHook('beforeOnCellMouseDown', function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeOnCellMouseDown, _onBeforeOnCellMouseDown2).call(_this, ...args);\n    });\n    this.addHook('beforeRemoveRow', function () {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeRemoveRow, _onBeforeRemoveRow2).call(_this, ...args);\n    });\n    this.addHook('afterRemoveRow', function () {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n      return _classPrivateMethodGet(_this, _onAfterRemoveRow, _onAfterRemoveRow2).call(_this, ...args);\n    });\n    this.addHook('beforeAddChild', function () {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeAddChild, _onBeforeAddChild2).call(_this, ...args);\n    });\n    this.addHook('afterAddChild', function () {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n      return _classPrivateMethodGet(_this, _onAfterAddChild, _onAfterAddChild2).call(_this, ...args);\n    });\n    this.addHook('beforeDetachChild', function () {\n      for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n        args[_key11] = arguments[_key11];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeDetachChild, _onBeforeDetachChild2).call(_this, ...args);\n    });\n    this.addHook('afterDetachChild', function () {\n      for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n        args[_key12] = arguments[_key12];\n      }\n      return _classPrivateMethodGet(_this, _onAfterDetachChild, _onAfterDetachChild2).call(_this, ...args);\n    });\n    this.addHook('modifyRowHeaderWidth', function () {\n      for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n        args[_key13] = arguments[_key13];\n      }\n      return _classPrivateMethodGet(_this, _onModifyRowHeaderWidth, _onModifyRowHeaderWidth2).call(_this, ...args);\n    });\n    this.addHook('afterCreateRow', function () {\n      for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n        args[_key14] = arguments[_key14];\n      }\n      return _classPrivateMethodGet(_this, _onAfterCreateRow, _onAfterCreateRow2).call(_this, ...args);\n    });\n    this.addHook('beforeRowMove', function () {\n      for (var _len15 = arguments.length, args = new Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n        args[_key15] = arguments[_key15];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeRowMove, _onBeforeRowMove2).call(_this, ...args);\n    });\n    this.addHook('beforeLoadData', data => _classPrivateMethodGet(this, _onBeforeLoadData, _onBeforeLoadData2).call(this, data));\n    this.addHook('beforeUpdateData', data => _classPrivateMethodGet(this, _onBeforeLoadData, _onBeforeLoadData2).call(this, data));\n    this.registerShortcuts();\n    super.enablePlugin();\n  }\n\n  /**\n   * Disables the plugin functionality for this Handsontable instance.\n   */\n  disablePlugin() {\n    this.hot.rowIndexMapper.unregisterMap('nestedRows');\n    this.unregisterShortcuts();\n    super.disablePlugin();\n  }\n\n  /**\n   * Updates the plugin's state.\n   *\n   * This method is executed when [`updateSettings()`](@/api/core.md#updatesettings) is invoked with any of the following configuration options:\n   *  - [`nestedRows`](@/api/options.md#nestedrows)\n   */\n  updatePlugin() {\n    this.disablePlugin();\n\n    // We store a state of the data manager.\n    const currentSourceData = this.dataManager.getData();\n    this.enablePlugin();\n\n    // After enabling plugin previously stored data is restored.\n    this.dataManager.updateWithData(currentSourceData);\n    super.updatePlugin();\n  }\n\n  /**\n   * Register shortcuts responsible for toggling collapsible columns.\n   *\n   * @private\n   */\n  registerShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').addShortcut({\n      keys: [['Enter']],\n      callback: () => {\n        const {\n          highlight\n        } = this.hot.getSelectedRangeLast();\n        if (highlight.col === -1 && highlight.row >= 0) {\n          const row = this.collapsingUI.translateTrimmedRow(highlight.row);\n          if (this.collapsingUI.areChildrenCollapsed(row)) {\n            this.collapsingUI.expandChildren(row);\n          } else {\n            this.collapsingUI.collapseChildren(row);\n          }\n        }\n      },\n      runOnlyIf: () => {\n        var _this$hot$getSelected;\n        const highlight = (_this$hot$getSelected = this.hot.getSelectedRangeLast()) === null || _this$hot$getSelected === void 0 ? void 0 : _this$hot$getSelected.highlight;\n        return highlight && this.hot.selection.isCellVisible(highlight) && highlight.isHeader();\n      },\n      group: SHORTCUTS_GROUP\n    });\n  }\n\n  /**\n   * Unregister shortcuts responsible for toggling collapsible columns.\n   *\n   * @private\n   */\n  unregisterShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').removeShortcutsByGroup(SHORTCUTS_GROUP);\n  }\n  /**\n   * Enable the modify hook skipping flag - allows retrieving the data from Handsontable without this plugin's\n   * modifications.\n   *\n   * @private\n   */\n  disableCoreAPIModifiers() {\n    _classPrivateFieldSet(this, _skipCoreAPIModifiers, true);\n  }\n\n  /**\n   * Disable the modify hook skipping flag.\n   *\n   * @private\n   */\n  enableCoreAPIModifiers() {\n    _classPrivateFieldSet(this, _skipCoreAPIModifiers, false);\n  }\n  /**\n   * The modifyRowData hook callback.\n   *\n   * @private\n   * @param {number} row Visual row index.\n   * @returns {boolean}\n   */\n  onModifyRowData(row) {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers)) {\n      return;\n    }\n    return this.dataManager.getDataObject(row);\n  }\n\n  /**\n   * Modify the source data length to match the length of the nested structure.\n   *\n   * @private\n   * @returns {number}\n   */\n  onModifySourceLength() {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers)) {\n      return;\n    }\n    return this.dataManager.countAllRows();\n  }\n\n  /**\n   * @private\n   * @param {number} index The index where the data was spliced.\n   * @param {number} amount An amount of items to remove.\n   * @param {object} element An element to add.\n   * @returns {boolean}\n   */\n  onBeforeDataSplice(index, amount, element) {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers) || this.dataManager.isRowHighestLevel(index)) {\n      return true;\n    }\n    this.dataManager.spliceData(index, amount, element);\n    return false;\n  }\n  /**\n   * Destroys the plugin instance.\n   */\n  destroy() {\n    super.destroy();\n  }\n}\nfunction _onBeforeRowMove2(rows, finalIndex, dropIndex, movePossible) {\n  return this.rowMoveController.onBeforeRowMove(rows, finalIndex, dropIndex, movePossible);\n}\nfunction _onBeforeOnCellMouseDown2(event, coords, TD) {\n  this.collapsingUI.toggleState(event, coords, TD);\n}\nfunction _onFilterData2(index, amount, physicalRows) {\n  this.collapsingUI.collapsedRowsStash.stash();\n  this.collapsingUI.collapsedRowsStash.trimStash(physicalRows[0], amount);\n  this.collapsingUI.collapsedRowsStash.shiftStash(physicalRows[0], null, -1 * amount);\n  this.dataManager.filterData(index, amount, physicalRows);\n  _classPrivateFieldSet(this, _skipRender, true);\n  return this.dataManager.getData().slice(); // Data contains reference sometimes.\n}\n\nfunction _onAfterContextMenuDefaultOptions2(defaultOptions) {\n  return this.contextMenuUI.appendOptions(defaultOptions);\n}\nfunction _onAfterGetRowHeader2(row, TH) {\n  this.headersUI.appendLevelIndicators(row, TH);\n}\nfunction _onModifyRowHeaderWidth2(rowHeaderWidth) {\n  return Math.max(this.headersUI.rowHeaderWidthCache, rowHeaderWidth);\n}\nfunction _onAfterRemoveRow2(index, amount, logicRows, source) {\n  if (source === this.pluginName) {\n    return;\n  }\n  this.hot._registerTimeout(() => {\n    _classPrivateFieldSet(this, _skipRender, false);\n    this.headersUI.updateRowHeaderWidth();\n    this.collapsingUI.collapsedRowsStash.applyStash();\n  });\n}\nfunction _onBeforeRemoveRow2(index, amount, physicalRows) {\n  const modifiedPhysicalRows = Array.from(physicalRows.reduce((removedRows, physicalIndex) => {\n    if (this.dataManager.isParent(physicalIndex)) {\n      const children = this.dataManager.getDataObject(physicalIndex).__children;\n\n      // Preserve a parent in the list of removed rows.\n      removedRows.add(physicalIndex);\n      if (Array.isArray(children)) {\n        // Add a children to the list of removed rows.\n        children.forEach(child => removedRows.add(this.dataManager.getRowIndex(child)));\n      }\n      return removedRows;\n    }\n\n    // Don't modify list of removed rows when already checked element isn't a parent.\n    return removedRows.add(physicalIndex);\n  }, new Set()));\n\n  // Modifying hook's argument by the reference.\n  physicalRows.length = 0;\n  physicalRows.push(...modifiedPhysicalRows);\n}\nfunction _onBeforeAddChild2() {\n  this.collapsingUI.collapsedRowsStash.stash();\n}\nfunction _onAfterAddChild2(parent, element) {\n  this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(element));\n  this.collapsingUI.collapsedRowsStash.applyStash();\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onBeforeDetachChild2() {\n  this.collapsingUI.collapsedRowsStash.stash();\n}\nfunction _onAfterDetachChild2(parent, element, finalElementRowIndex) {\n  this.collapsingUI.collapsedRowsStash.shiftStash(finalElementRowIndex, null, -1);\n  this.collapsingUI.collapsedRowsStash.applyStash();\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onAfterCreateRow2() {\n  this.dataManager.rewriteCache();\n}\nfunction _onAfterInit2() {\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onBeforeViewRender2(force, skipRender) {\n  if (_classPrivateFieldGet(this, _skipRender)) {\n    skipRender.skipRender = true;\n  }\n}\nfunction _onBeforeLoadData2(data) {\n  if (!isArrayOfObjects(data)) {\n    error(WRONG_DATA_TYPE_ERROR);\n    this.hot.getSettings()[PLUGIN_KEY] = false;\n    this.disablePlugin();\n    return;\n  }\n  this.dataManager.setData(data);\n  this.dataManager.rewriteCache();\n}","map":{"version":3,"names":["_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","_classPrivateFieldInitSpec","privateMap","value","set","privateCollection","has","TypeError","_defineProperty","key","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","Number","_classPrivateFieldGet","receiver","descriptor","_classExtractFieldDescriptor","_classApplyDescriptorGet","get","_classPrivateFieldSet","_classApplyDescriptorSet","action","_classPrivateMethodGet","fn","BasePlugin","DataManager","CollapsingUI","HeadersUI","ContextMenuUI","error","isArrayOfObjects","TrimmingMap","RowMoveController","PLUGIN_KEY","PLUGIN_PRIORITY","SHORTCUTS_GROUP","WRONG_DATA_TYPE_ERROR","_skipRender","WeakMap","_skipCoreAPIModifiers","_onBeforeRowMove","WeakSet","_onBeforeOnCellMouseDown","_onFilterData","_onAfterContextMenuDefaultOptions","_onAfterGetRowHeader","_onModifyRowHeaderWidth","_onAfterRemoveRow","_onBeforeRemoveRow","_onBeforeAddChild","_onAfterAddChild","_onBeforeDetachChild","_onAfterDetachChild","_onAfterCreateRow","_onAfterInit","_onBeforeViewRender","_onBeforeLoadData","NestedRows","constructor","arguments","isEnabled","hot","getSettings","enablePlugin","_this","enabled","collapsedRowsMap","rowIndexMapper","registerMap","dataManager","collapsingUI","headersUI","contextMenuUI","rowMoveController","addHook","_len","length","args","Array","_key","_onAfterInit2","_len2","_key2","_onBeforeViewRender2","onModifyRowData","onModifySourceLength","onBeforeDataSplice","_len3","_key3","_onFilterData2","_len4","_key4","_onAfterContextMenuDefaultOptions2","_len5","_key5","_onAfterGetRowHeader2","_len6","_key6","_onBeforeOnCellMouseDown2","_len7","_key7","_onBeforeRemoveRow2","_len8","_key8","_onAfterRemoveRow2","_len9","_key9","_onBeforeAddChild2","_len10","_key10","_onAfterAddChild2","_len11","_key11","_onBeforeDetachChild2","_len12","_key12","_onAfterDetachChild2","_len13","_key13","_onModifyRowHeaderWidth2","_len14","_key14","_onAfterCreateRow2","_len15","_key15","_onBeforeRowMove2","data","_onBeforeLoadData2","registerShortcuts","disablePlugin","unregisterMap","unregisterShortcuts","updatePlugin","currentSourceData","getData","updateWithData","getShortcutManager","getContext","addShortcut","keys","callback","highlight","getSelectedRangeLast","col","row","translateTrimmedRow","areChildrenCollapsed","expandChildren","collapseChildren","runOnlyIf","_this$hot$getSelected","selection","isCellVisible","isHeader","group","removeShortcutsByGroup","disableCoreAPIModifiers","enableCoreAPIModifiers","getDataObject","countAllRows","index","amount","element","isRowHighestLevel","spliceData","destroy","rows","finalIndex","dropIndex","movePossible","onBeforeRowMove","event","coords","TD","toggleState","physicalRows","collapsedRowsStash","stash","trimStash","shiftStash","filterData","slice","defaultOptions","appendOptions","TH","appendLevelIndicators","rowHeaderWidth","Math","max","rowHeaderWidthCache","logicRows","source","pluginName","_registerTimeout","updateRowHeaderWidth","applyStash","modifiedPhysicalRows","from","reduce","removedRows","physicalIndex","isParent","children","__children","isArray","forEach","child","getRowIndex","Set","push","parent","finalElementRowIndex","rewriteCache","force","skipRender","setData"],"sources":["C:/laragon/www/SIAW-Angular-B/node_modules/handsontable/plugins/nestedRows/nestedRows.mjs"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nimport { BasePlugin } from \"../base/index.mjs\";\nimport DataManager from \"./data/dataManager.mjs\";\nimport CollapsingUI from \"./ui/collapsing.mjs\";\nimport HeadersUI from \"./ui/headers.mjs\";\nimport ContextMenuUI from \"./ui/contextMenu.mjs\";\nimport { error } from \"../../helpers/console.mjs\";\nimport { isArrayOfObjects } from \"../../helpers/data.mjs\";\nimport { TrimmingMap } from \"../../translations/index.mjs\";\nimport RowMoveController from \"./utils/rowMoveController.mjs\";\nexport const PLUGIN_KEY = 'nestedRows';\nexport const PLUGIN_PRIORITY = 300;\nconst SHORTCUTS_GROUP = PLUGIN_KEY;\n\n/* eslint-disable jsdoc/require-description-complete-sentence */\n/**\n * Error message for the wrong data type error.\n */\nconst WRONG_DATA_TYPE_ERROR = 'The Nested Rows plugin requires an Array of Objects as a dataset to be' + ' provided. The plugin has been disabled.';\n\n/**\n * @plugin NestedRows\n * @class NestedRows\n *\n * @description\n * Plugin responsible for displaying and operating on data sources with nested structures.\n */\nvar _skipRender = /*#__PURE__*/new WeakMap();\nvar _skipCoreAPIModifiers = /*#__PURE__*/new WeakMap();\nvar _onBeforeRowMove = /*#__PURE__*/new WeakSet();\nvar _onBeforeOnCellMouseDown = /*#__PURE__*/new WeakSet();\nvar _onFilterData = /*#__PURE__*/new WeakSet();\nvar _onAfterContextMenuDefaultOptions = /*#__PURE__*/new WeakSet();\nvar _onAfterGetRowHeader = /*#__PURE__*/new WeakSet();\nvar _onModifyRowHeaderWidth = /*#__PURE__*/new WeakSet();\nvar _onAfterRemoveRow = /*#__PURE__*/new WeakSet();\nvar _onBeforeRemoveRow = /*#__PURE__*/new WeakSet();\nvar _onBeforeAddChild = /*#__PURE__*/new WeakSet();\nvar _onAfterAddChild = /*#__PURE__*/new WeakSet();\nvar _onBeforeDetachChild = /*#__PURE__*/new WeakSet();\nvar _onAfterDetachChild = /*#__PURE__*/new WeakSet();\nvar _onAfterCreateRow = /*#__PURE__*/new WeakSet();\nvar _onAfterInit = /*#__PURE__*/new WeakSet();\nvar _onBeforeViewRender = /*#__PURE__*/new WeakSet();\nvar _onBeforeLoadData = /*#__PURE__*/new WeakSet();\nexport class NestedRows extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    /**\n     * `beforeLoadData` hook callback.\n     *\n     * @param {Array} data The source data.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeLoadData);\n    /**\n     * `beforeViewRender` hook callback.\n     *\n     * @param {boolean} force Indicates if the render call was triggered by a change of settings or data.\n     * @param {object} skipRender An object, holder for skipRender functionality.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeViewRender);\n    /**\n     * `afterInit` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterInit);\n    /**\n     * `afterCreateRow` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterCreateRow);\n    /**\n     * `afterDetachChild` hook callback.\n     *\n     * @param {object} parent Parent element.\n     * @param {object} element New child element.\n     * @param {number} finalElementRowIndex The final row index of the detached element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterDetachChild);\n    /**\n     * `beforeDetachChild` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeDetachChild);\n    /**\n     * `afterAddChild` hook callback.\n     *\n     * @param {object} parent Parent element.\n     * @param {object} element New child element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterAddChild);\n    /**\n     * `beforeAddChild` hook callback.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeAddChild);\n    /**\n     * Callback for the `beforeRemoveRow` change list of removed physical indexes by reference. Removing parent node\n     * has effect in removing children nodes.\n     *\n     * @param {number} index Visual index of starter row.\n     * @param {number} amount Amount of rows to be removed.\n     * @param {Array} physicalRows List of physical indexes.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeRemoveRow);\n    /**\n     * `onAfterRemoveRow` hook callback.\n     *\n     * @param {number} index Removed row.\n     * @param {number} amount Amount of removed rows.\n     * @param {Array} logicRows An array of the removed physical rows.\n     * @param {string} source Source of action.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterRemoveRow);\n    /**\n     * `modifyRowHeaderWidth` hook callback.\n     *\n     * @param {number} rowHeaderWidth The initial row header width(s).\n     * @returns {number}\n     */\n    _classPrivateMethodInitSpec(this, _onModifyRowHeaderWidth);\n    /**\n     * `afterGetRowHeader` hook callback.\n     *\n     * @param {number} row Row index.\n     * @param {HTMLElement} TH Row header element.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterGetRowHeader);\n    /**\n     * `afterContextMenuDefaultOptions` hook callback.\n     *\n     * @param {object} defaultOptions The default context menu items order.\n     * @returns {boolean}\n     */\n    _classPrivateMethodInitSpec(this, _onAfterContextMenuDefaultOptions);\n    /**\n     * Provide custom source data filtering. It's handled by core method and replaces the native filtering.\n     *\n     * @param {number} index The index where the data filtering starts.\n     * @param {number} amount An amount of rows which filtering applies to.\n     * @param {number} physicalRows Physical row indexes.\n     * @returns {Array}\n     */\n    _classPrivateMethodInitSpec(this, _onFilterData);\n    /**\n     * `beforeOnCellMousedown` hook callback.\n     *\n     * @param {MouseEvent} event Mousedown event.\n     * @param {object} coords Cell coords.\n     * @param {HTMLElement} TD Clicked cell.\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeOnCellMouseDown);\n    /**\n     * `beforeRowMove` hook callback.\n     *\n     * @param {Array} rows Array of visual row indexes to be moved.\n     * @param {number} finalIndex Visual row index, being a start index for the moved rows. Points to where the elements\n     *   will be placed after the moving action. To check the visualization of the final index, please take a look at\n     *   [documentation](@/guides/rows/row-summary.md).\n     * @param {undefined|number} dropIndex Visual row index, being a drop index for the moved rows. Points to where we\n     *   are going to drop the moved elements. To check visualization of drop index please take a look at\n     *   [documentation](@/guides/rows/row-summary.md).\n     * @param {boolean} movePossible Indicates if it's possible to move rows to the desired position.\n     * @fires Hooks#afterRowMove\n     * @returns {boolean}\n     */\n    _classPrivateMethodInitSpec(this, _onBeforeRowMove);\n    /**\n     * Reference to the DataManager instance.\n     *\n     * @private\n     * @type {object}\n     */\n    _defineProperty(this, \"dataManager\", null);\n    /**\n     * Reference to the HeadersUI instance.\n     *\n     * @private\n     * @type {object}\n     */\n    _defineProperty(this, \"headersUI\", null);\n    /**\n     * Map of skipped rows by plugin.\n     *\n     * @private\n     * @type {null|TrimmingMap}\n     */\n    _defineProperty(this, \"collapsedRowsMap\", null);\n    /**\n     * Allows skipping the render cycle if set as `true`.\n     *\n     * @type {boolean}\n     */\n    _classPrivateFieldInitSpec(this, _skipRender, {\n      writable: true,\n      value: false\n    });\n    /**\n     * Allows skipping the internal Core methods call if set as `true`.\n     *\n     * @type {boolean}\n     */\n    _classPrivateFieldInitSpec(this, _skipCoreAPIModifiers, {\n      writable: true,\n      value: false\n    });\n  }\n  static get PLUGIN_KEY() {\n    return PLUGIN_KEY;\n  }\n  static get PLUGIN_PRIORITY() {\n    return PLUGIN_PRIORITY;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` then the {@link NestedRows#enablePlugin} method is called.\n   *\n   * @returns {boolean}\n   */\n  isEnabled() {\n    return !!this.hot.getSettings()[PLUGIN_KEY];\n  }\n\n  /**\n   * Enables the plugin functionality for this Handsontable instance.\n   */\n  enablePlugin() {\n    var _this = this;\n    if (this.enabled) {\n      return;\n    }\n    this.collapsedRowsMap = this.hot.rowIndexMapper.registerMap('nestedRows', new TrimmingMap());\n    this.dataManager = new DataManager(this, this.hot);\n    this.collapsingUI = new CollapsingUI(this, this.hot);\n    this.headersUI = new HeadersUI(this, this.hot);\n    this.contextMenuUI = new ContextMenuUI(this, this.hot);\n    this.rowMoveController = new RowMoveController(this);\n    this.addHook('afterInit', function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return _classPrivateMethodGet(_this, _onAfterInit, _onAfterInit2).call(_this, ...args);\n    });\n    this.addHook('beforeViewRender', function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeViewRender, _onBeforeViewRender2).call(_this, ...args);\n    });\n    this.addHook('modifyRowData', function () {\n      return _this.onModifyRowData(...arguments);\n    });\n    this.addHook('modifySourceLength', function () {\n      return _this.onModifySourceLength(...arguments);\n    });\n    this.addHook('beforeDataSplice', function () {\n      return _this.onBeforeDataSplice(...arguments);\n    });\n    this.addHook('filterData', function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      return _classPrivateMethodGet(_this, _onFilterData, _onFilterData2).call(_this, ...args);\n    });\n    this.addHook('afterContextMenuDefaultOptions', function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return _classPrivateMethodGet(_this, _onAfterContextMenuDefaultOptions, _onAfterContextMenuDefaultOptions2).call(_this, ...args);\n    });\n    this.addHook('afterGetRowHeader', function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n      return _classPrivateMethodGet(_this, _onAfterGetRowHeader, _onAfterGetRowHeader2).call(_this, ...args);\n    });\n    this.addHook('beforeOnCellMouseDown', function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeOnCellMouseDown, _onBeforeOnCellMouseDown2).call(_this, ...args);\n    });\n    this.addHook('beforeRemoveRow', function () {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeRemoveRow, _onBeforeRemoveRow2).call(_this, ...args);\n    });\n    this.addHook('afterRemoveRow', function () {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n      return _classPrivateMethodGet(_this, _onAfterRemoveRow, _onAfterRemoveRow2).call(_this, ...args);\n    });\n    this.addHook('beforeAddChild', function () {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeAddChild, _onBeforeAddChild2).call(_this, ...args);\n    });\n    this.addHook('afterAddChild', function () {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n      return _classPrivateMethodGet(_this, _onAfterAddChild, _onAfterAddChild2).call(_this, ...args);\n    });\n    this.addHook('beforeDetachChild', function () {\n      for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n        args[_key11] = arguments[_key11];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeDetachChild, _onBeforeDetachChild2).call(_this, ...args);\n    });\n    this.addHook('afterDetachChild', function () {\n      for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n        args[_key12] = arguments[_key12];\n      }\n      return _classPrivateMethodGet(_this, _onAfterDetachChild, _onAfterDetachChild2).call(_this, ...args);\n    });\n    this.addHook('modifyRowHeaderWidth', function () {\n      for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n        args[_key13] = arguments[_key13];\n      }\n      return _classPrivateMethodGet(_this, _onModifyRowHeaderWidth, _onModifyRowHeaderWidth2).call(_this, ...args);\n    });\n    this.addHook('afterCreateRow', function () {\n      for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n        args[_key14] = arguments[_key14];\n      }\n      return _classPrivateMethodGet(_this, _onAfterCreateRow, _onAfterCreateRow2).call(_this, ...args);\n    });\n    this.addHook('beforeRowMove', function () {\n      for (var _len15 = arguments.length, args = new Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n        args[_key15] = arguments[_key15];\n      }\n      return _classPrivateMethodGet(_this, _onBeforeRowMove, _onBeforeRowMove2).call(_this, ...args);\n    });\n    this.addHook('beforeLoadData', data => _classPrivateMethodGet(this, _onBeforeLoadData, _onBeforeLoadData2).call(this, data));\n    this.addHook('beforeUpdateData', data => _classPrivateMethodGet(this, _onBeforeLoadData, _onBeforeLoadData2).call(this, data));\n    this.registerShortcuts();\n    super.enablePlugin();\n  }\n\n  /**\n   * Disables the plugin functionality for this Handsontable instance.\n   */\n  disablePlugin() {\n    this.hot.rowIndexMapper.unregisterMap('nestedRows');\n    this.unregisterShortcuts();\n    super.disablePlugin();\n  }\n\n  /**\n   * Updates the plugin's state.\n   *\n   * This method is executed when [`updateSettings()`](@/api/core.md#updatesettings) is invoked with any of the following configuration options:\n   *  - [`nestedRows`](@/api/options.md#nestedrows)\n   */\n  updatePlugin() {\n    this.disablePlugin();\n\n    // We store a state of the data manager.\n    const currentSourceData = this.dataManager.getData();\n    this.enablePlugin();\n\n    // After enabling plugin previously stored data is restored.\n    this.dataManager.updateWithData(currentSourceData);\n    super.updatePlugin();\n  }\n\n  /**\n   * Register shortcuts responsible for toggling collapsible columns.\n   *\n   * @private\n   */\n  registerShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').addShortcut({\n      keys: [['Enter']],\n      callback: () => {\n        const {\n          highlight\n        } = this.hot.getSelectedRangeLast();\n        if (highlight.col === -1 && highlight.row >= 0) {\n          const row = this.collapsingUI.translateTrimmedRow(highlight.row);\n          if (this.collapsingUI.areChildrenCollapsed(row)) {\n            this.collapsingUI.expandChildren(row);\n          } else {\n            this.collapsingUI.collapseChildren(row);\n          }\n        }\n      },\n      runOnlyIf: () => {\n        var _this$hot$getSelected;\n        const highlight = (_this$hot$getSelected = this.hot.getSelectedRangeLast()) === null || _this$hot$getSelected === void 0 ? void 0 : _this$hot$getSelected.highlight;\n        return highlight && this.hot.selection.isCellVisible(highlight) && highlight.isHeader();\n      },\n      group: SHORTCUTS_GROUP\n    });\n  }\n\n  /**\n   * Unregister shortcuts responsible for toggling collapsible columns.\n   *\n   * @private\n   */\n  unregisterShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').removeShortcutsByGroup(SHORTCUTS_GROUP);\n  }\n  /**\n   * Enable the modify hook skipping flag - allows retrieving the data from Handsontable without this plugin's\n   * modifications.\n   *\n   * @private\n   */\n  disableCoreAPIModifiers() {\n    _classPrivateFieldSet(this, _skipCoreAPIModifiers, true);\n  }\n\n  /**\n   * Disable the modify hook skipping flag.\n   *\n   * @private\n   */\n  enableCoreAPIModifiers() {\n    _classPrivateFieldSet(this, _skipCoreAPIModifiers, false);\n  }\n  /**\n   * The modifyRowData hook callback.\n   *\n   * @private\n   * @param {number} row Visual row index.\n   * @returns {boolean}\n   */\n  onModifyRowData(row) {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers)) {\n      return;\n    }\n    return this.dataManager.getDataObject(row);\n  }\n\n  /**\n   * Modify the source data length to match the length of the nested structure.\n   *\n   * @private\n   * @returns {number}\n   */\n  onModifySourceLength() {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers)) {\n      return;\n    }\n    return this.dataManager.countAllRows();\n  }\n\n  /**\n   * @private\n   * @param {number} index The index where the data was spliced.\n   * @param {number} amount An amount of items to remove.\n   * @param {object} element An element to add.\n   * @returns {boolean}\n   */\n  onBeforeDataSplice(index, amount, element) {\n    if (_classPrivateFieldGet(this, _skipCoreAPIModifiers) || this.dataManager.isRowHighestLevel(index)) {\n      return true;\n    }\n    this.dataManager.spliceData(index, amount, element);\n    return false;\n  }\n  /**\n   * Destroys the plugin instance.\n   */\n  destroy() {\n    super.destroy();\n  }\n}\nfunction _onBeforeRowMove2(rows, finalIndex, dropIndex, movePossible) {\n  return this.rowMoveController.onBeforeRowMove(rows, finalIndex, dropIndex, movePossible);\n}\nfunction _onBeforeOnCellMouseDown2(event, coords, TD) {\n  this.collapsingUI.toggleState(event, coords, TD);\n}\nfunction _onFilterData2(index, amount, physicalRows) {\n  this.collapsingUI.collapsedRowsStash.stash();\n  this.collapsingUI.collapsedRowsStash.trimStash(physicalRows[0], amount);\n  this.collapsingUI.collapsedRowsStash.shiftStash(physicalRows[0], null, -1 * amount);\n  this.dataManager.filterData(index, amount, physicalRows);\n  _classPrivateFieldSet(this, _skipRender, true);\n  return this.dataManager.getData().slice(); // Data contains reference sometimes.\n}\nfunction _onAfterContextMenuDefaultOptions2(defaultOptions) {\n  return this.contextMenuUI.appendOptions(defaultOptions);\n}\nfunction _onAfterGetRowHeader2(row, TH) {\n  this.headersUI.appendLevelIndicators(row, TH);\n}\nfunction _onModifyRowHeaderWidth2(rowHeaderWidth) {\n  return Math.max(this.headersUI.rowHeaderWidthCache, rowHeaderWidth);\n}\nfunction _onAfterRemoveRow2(index, amount, logicRows, source) {\n  if (source === this.pluginName) {\n    return;\n  }\n  this.hot._registerTimeout(() => {\n    _classPrivateFieldSet(this, _skipRender, false);\n    this.headersUI.updateRowHeaderWidth();\n    this.collapsingUI.collapsedRowsStash.applyStash();\n  });\n}\nfunction _onBeforeRemoveRow2(index, amount, physicalRows) {\n  const modifiedPhysicalRows = Array.from(physicalRows.reduce((removedRows, physicalIndex) => {\n    if (this.dataManager.isParent(physicalIndex)) {\n      const children = this.dataManager.getDataObject(physicalIndex).__children;\n\n      // Preserve a parent in the list of removed rows.\n      removedRows.add(physicalIndex);\n      if (Array.isArray(children)) {\n        // Add a children to the list of removed rows.\n        children.forEach(child => removedRows.add(this.dataManager.getRowIndex(child)));\n      }\n      return removedRows;\n    }\n\n    // Don't modify list of removed rows when already checked element isn't a parent.\n    return removedRows.add(physicalIndex);\n  }, new Set()));\n\n  // Modifying hook's argument by the reference.\n  physicalRows.length = 0;\n  physicalRows.push(...modifiedPhysicalRows);\n}\nfunction _onBeforeAddChild2() {\n  this.collapsingUI.collapsedRowsStash.stash();\n}\nfunction _onAfterAddChild2(parent, element) {\n  this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(element));\n  this.collapsingUI.collapsedRowsStash.applyStash();\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onBeforeDetachChild2() {\n  this.collapsingUI.collapsedRowsStash.stash();\n}\nfunction _onAfterDetachChild2(parent, element, finalElementRowIndex) {\n  this.collapsingUI.collapsedRowsStash.shiftStash(finalElementRowIndex, null, -1);\n  this.collapsingUI.collapsedRowsStash.applyStash();\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onAfterCreateRow2() {\n  this.dataManager.rewriteCache();\n}\nfunction _onAfterInit2() {\n  this.headersUI.updateRowHeaderWidth();\n}\nfunction _onBeforeViewRender2(force, skipRender) {\n  if (_classPrivateFieldGet(this, _skipRender)) {\n    skipRender.skipRender = true;\n  }\n}\nfunction _onBeforeLoadData2(data) {\n  if (!isArrayOfObjects(data)) {\n    error(WRONG_DATA_TYPE_ERROR);\n    this.hot.getSettings()[PLUGIN_KEY] = false;\n    this.disablePlugin();\n    return;\n  }\n  this.dataManager.setData(data);\n  this.dataManager.rewriteCache();\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}