{"ast":null,"code":"import { CatalogoPuntoVentaComponent } from './catalogo-punto-venta/catalogo-punto-venta.component';\nimport { Validators } from '@angular/forms';\nimport { ProvinciasCatalogoComponent } from '@components/mantenimiento/administracion/provinciadptopais/provincias-catalogo/provincias-catalogo.component';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/api.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@services/log-service.service\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service\";\nimport * as i6 from \"./servicio-punto-venta/puntoventa.service\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@components/mantenimiento/administracion/provinciadptopais/services-provincias/provincias.service\";\nimport * as i10 from \"ngx-spinner\";\nimport * as i11 from \"@angular/material/snack-bar\";\nimport * as i12 from \"@angular/material/form-field\";\nimport * as i13 from \"@angular/material/button\";\nimport * as i14 from \"@angular/material/card\";\nimport * as i15 from \"@angular/material/tooltip\";\nvar PuntoVentaComponent = /** @class */function () {\n  function PuntoVentaComponent(api, dialog, log_module, toastr, nombre_ventana_service, servicesPuntoVenta, _formBuilder, datePipe, provinciaService, spinner, _snackBar) {\n    this.api = api;\n    this.dialog = dialog;\n    this.log_module = log_module;\n    this.toastr = toastr;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.servicesPuntoVenta = servicesPuntoVenta;\n    this._formBuilder = _formBuilder;\n    this.datePipe = datePipe;\n    this.provinciaService = provinciaService;\n    this.spinner = spinner;\n    this._snackBar = _snackBar;\n    this.fecha_actual = new Date();\n    this.hora_actual = new Date();\n    this.dataform = '';\n    this.cod_pto_venta = [];\n    this.provincia_get = [];\n    this.provincia_set = [];\n    this.punto_venta_save = [];\n    this.provincia = [];\n    this.provincia_id = [];\n    this.nombre_ventana = \"abmveptoventa.vb\";\n    this.ventana = \"Punto de Venta\";\n    this.detalle = \"punto-venta-create\";\n    this.tipo = \"punto-venta-CREATE\";\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    this.mandarNombre();\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n    this.FormularioData = this.createForm();\n    // this.FormularioData.get('codprovincia').disable();\n  }\n\n  PuntoVentaComponent.prototype.unloadHandler = function (event) {\n    console.log(\"Hola Lola F4\");\n    var focusedElement = document.activeElement;\n    if (focusedElement) {\n      var elementTagName = focusedElement.id;\n      console.log(\"Elemento enfocado: \".concat(elementTagName));\n      switch (elementTagName) {\n        case \"procinciaCatalogo\":\n          this.catalogoProvincia();\n          break;\n      }\n    }\n  };\n  ;\n  PuntoVentaComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.provinciaService.disparadorDeProvincias.subscribe(function (data) {\n      console.log(\"Recibiendo Provincia: \", data);\n      _this.provincia_get = data.provincia;\n      _this.cod_pto_venta_provincia = data.provincia.dato1;\n      _this.nombre_ciudad = data.provincia.dato3;\n    });\n    this.servicesPuntoVenta.disparadorDePuntosVenta.subscribe(function (data) {\n      console.log(\"Recibiendo Pto Venta: \", data);\n      _this.cod_pto_venta = data.punto_venta;\n      _this.cod_pto_venta_provincia = data.punto_venta.codprovincia;\n      _this.getProvinciaId(_this.cod_pto_venta_provincia);\n    });\n  };\n  PuntoVentaComponent.prototype.ngAfterContentInit = function () {\n    //Called after ngOnInit when the component's or directive's content has been initialized.\n    //Add 'implements AfterContentInit' to the class.\n    this.getProvincia();\n  };\n  PuntoVentaComponent.prototype.createForm = function () {\n    var hour = this.hora_actual.getHours();\n    var minuts = this.hora_actual.getMinutes();\n    var hora_actual_complete = hour + \":\" + minuts;\n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.maxLength(3), Validators.pattern(/^-?(0|[1-9]\\d*)?$/)])],\n      tipo: [this.dataform.tipo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      abreviacion: [this.dataform.abreviacion, Validators.compose([Validators.required])],\n      ubicacion: [this.dataform.ubicacion],\n      codprovincia: [this.dataform.codprovincia, Validators.compose([Validators.required])],\n      horareg: [hora_actual_complete],\n      usuarioreg: [this.usuarioLogueado],\n      permitido: [this.dataform.codigo],\n      ptolocal: [true]\n    });\n  };\n  PuntoVentaComponent.prototype.submitData = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    console.log(data);\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/mant/inalmacen/\";\n    return this.api.create(\"/venta/mant/veptoventa/\" + this.userConn, data).subscribe({\n      next: function (datav) {\n        _this.punto_venta_save = datav;\n        console.log('data', datav);\n        if (_this.punto_venta_save.resp == 204) {\n          _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n          _this.spinner.show();\n          setTimeout(function () {\n            _this.spinner.hide();\n          }, 2000);\n          _this.toastr.success('! SE EDITO EXITOSAMENTE !');\n          _this._snackBar.open('Se ha guardado correctamente!', 'Ok', {\n            duration: 3000\n          });\n          location.reload();\n        }\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  PuntoVentaComponent.prototype.catalogoProvincia = function () {\n    this.dialog.open(ProvinciasCatalogoComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  PuntoVentaComponent.prototype.update = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /venta/mant/veptoventa/ Update\";\n    return this.api.update('/venta/mant/veptoventa/' + this.userConn + \"/\" + this.cod_pto_venta.codigo, data).subscribe({\n      next: function (datav) {\n        _this.punto_venta_save = datav;\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.toastr.success('! SE EDITO EXITOSAMENTE !');\n        location.reload();\n      },\n      error: function (err) {\n        _this.toastr.error('! NO SE EDITO !');\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  PuntoVentaComponent.prototype.eliminar = function () {\n    var _this = this;\n    var ventana = \"Punto de Venta\";\n    var detalle = \"punto-venta-DELETE\";\n    var tipo = \"punto-venta-DELETE\";\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:--  seg_adm/mant/adarea/ Delete\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: this.cod_pto_venta.codigo\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/venta/mant/veptoventa/' + _this.userConn + \"/\" + _this.cod_pto_venta.codigo).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  PuntoVentaComponent.prototype.limpiar = function () {\n    this.cod_pto_venta.codigo = \"\";\n    this.cod_pto_venta.descripcion = \"\";\n    this.cod_pto_venta.abreviacion = \"\";\n    this.cod_pto_venta.tipo = \"\";\n    this.provincia_get.dato1 = \"\";\n    this.provincia_get.dato2 = \"\";\n    this.cod_pto_venta.permitido = \"\";\n    this.cod_pto_venta_provincia = \"\";\n    this.nombre_ciudad = \"\";\n    this.cod_pto_venta.ubicacion = \"\";\n  };\n  PuntoVentaComponent.prototype.mandarNombre = function () {\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\n      nombre_vent: this.ventana\n    });\n  };\n  PuntoVentaComponent.prototype.modalClientes = function () {\n    this.dialog.open(CatalogoPuntoVentaComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  PuntoVentaComponent.prototype.getProvincia = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/seg_adm/mant/adprovincia/catalogo_depto/\";\n    return this.api.getAll('/seg_adm/mant/adprovincia/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.provincia_set = datav;\n        console.log(_this.provincia_set);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  PuntoVentaComponent.prototype.getProvinciaId = function (id) {\n    var _this = this;\n    return this.api.getAll('/seg_adm/mant/adprovincia/' + this.userConn + \"/\" + id).subscribe({\n      next: function (datav) {\n        _this.provincia_id = datav;\n        console.log('data', _this.provincia_id);\n        // this.provincia_get.dato2 = this.provincia_id.nombre;\n        _this.provincia_get.dato2 = _this.provincia_id.nombre;\n        _this.nombre_ciudad = _this.provincia_id.coddepto;\n      },\n      error: function (err) {\n        console.log(err);\n      },\n      complete: function () {}\n    });\n  };\n  PuntoVentaComponent.prototype.onLeaveProvincia = function (event) {\n    var inputValue = event.target.value;\n    console.log(inputValue);\n    // Verificar si el valor ingresado está presente en los objetos del array\n    var encontrado = this.provincia_set.some(function (objeto) {\n      return objeto.codigo === inputValue.toUpperCase();\n    });\n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getProvinciaId(inputValue);\n    }\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', inputValue);\n  };\n  PuntoVentaComponent.ɵfac = function PuntoVentaComponent_Factory(t) {\n    return new (t || PuntoVentaComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.LogService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.NombreVentanaService), i0.ɵɵdirectiveInject(i6.PuntoventaService), i0.ɵɵdirectiveInject(i7.FormBuilder), i0.ɵɵdirectiveInject(i8.DatePipe), i0.ɵɵdirectiveInject(i9.ProvinciasService), i0.ɵɵdirectiveInject(i10.NgxSpinnerService), i0.ɵɵdirectiveInject(i11.MatSnackBar));\n  };\n  PuntoVentaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PuntoVentaComponent,\n    selectors: [[\"app-punto-venta\"]],\n    hostBindings: function PuntoVentaComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.F4\", function PuntoVentaComponent_keydown_F4_HostBindingHandler() {\n          return ctx.unloadHandler();\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 84,\n    vars: 13,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"p-2\"], [2, \"background-color\", \"#f0f0f0\"], [1, \"mb-1\"], [2, \"font-size\", \"0.8rem\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [1, \"row\", \"mb-1\"], [1, \"col-md-9\"], [\"mat-dialog-actions\", \"\", 1, \"mat-dialog-actions\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [\"mat-raised-button\", \"\", \"color\", \"secondary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-pen\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"click\"], [1, \"fa\", \"fa-eraser\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"col-md-3\"], [\"mat-button\", \"\", \"color\", \"primary\", 2, \"float\", \"right\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"example-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [2, \"padding-right\", \"30px\", \"padding-top\", \"7px\"], [\"type\", \"number\", \"pattern\", \"\\\\d*\", \"maxlength\", \"3\", \"formControlName\", \"codigo\", \"min\", \"0\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"7px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"descripcion\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"formControlName\", \"abreviacion\", \"maxlength\", \"5\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"45px\", \"padding-top\", \"7px\"], [\"formControlName\", \"tipo\", \"required\", \"\", 2, \"width\", \"152px\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"PROVINCIA\"], [\"value\", \"CIUDAD\"], [2, \"padding-right\", \"16px\", \"padding-top\", \"7px\"], [\"formControlName\", \"ubicacion\", \"required\", \"\", 2, \"width\", \"152px\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"LOCAL\"], [\"value\", \"INTERIOR\"], [1, \"input-group\"], [2, \"padding-right\", \"20px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"codprovincia\", \"id\", \"procinciaCatalogo\", 2, \"width\", \"12% !important\", 3, \"ngModel\", \"blur\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"button\", \"matTooltip\", \"Buscar Provincia\", 1, \"btn\", \"btn-outline-primary\", 2, \"border-color\", \"#093070\", \"padding\", \"4px 5px 1px 5px\", \"line-height\", \"0 !important\", 3, \"click\"], [2, \"padding-right\", \"19px\", \"padding-top\", \"7px\"], [\"type\", \"checkbox\", \"formControlName\", \"permitido\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function PuntoVentaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"mat-card\", 3)(4, \"mat-card-header\", 4)(5, \"mat-card-title\", 5);\n        i0.ɵɵtext(6, \"Punto de Venta\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"ngx-spinner\", 6);\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵelementStart(9, \"p\", 7);\n        i0.ɵɵtext(10, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"div\", 8)(13, \"div\", 9)(14, \"div\", 10)(15, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_button_click_15_listener() {\n          return ctx.submitData();\n        });\n        i0.ɵɵelement(16, \"i\", 12);\n        i0.ɵɵtext(17, \" Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \"\\u00A0 \");\n        i0.ɵɵelementStart(19, \"a\", 13);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_a_click_19_listener() {\n          return ctx.update();\n        });\n        i0.ɵɵelement(20, \"i\", 14);\n        i0.ɵɵtext(21, \" Editar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(22, \"\\u00A0 \");\n        i0.ɵɵelementStart(23, \"a\", 15);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_a_click_23_listener() {\n          return ctx.limpiar();\n        });\n        i0.ɵɵelement(24, \"i\", 16);\n        i0.ɵɵtext(25, \" Limpiar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(26, \"\\u00A0 \");\n        i0.ɵɵelementStart(27, \"a\", 17);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_a_click_27_listener() {\n          return ctx.eliminar();\n        });\n        i0.ɵɵelement(28, \"i\", 18);\n        i0.ɵɵtext(29, \" Eliminar\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"div\", 19)(31, \"a\", 20);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_a_click_31_listener() {\n          return ctx.modalClientes();\n        });\n        i0.ɵɵelement(32, \"i\", 21);\n        i0.ɵɵtext(33, \" Buscar Punto Venta\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"form\", 22);\n        i0.ɵɵlistener(\"ngSubmit\", function PuntoVentaComponent_Template_form_ngSubmit_34_listener() {\n          return ctx.submitData();\n        });\n        i0.ɵɵelementStart(35, \"div\", 23)(36, \"mat-label\", 24)(37, \"u\");\n        i0.ɵɵtext(38, \"C\\u00F3digo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"input\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_input_ngModelChange_39_listener($event) {\n          return ctx.cod_pto_venta.codigo = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"div\", 23)(41, \"mat-label\", 26)(42, \"u\");\n        i0.ɵɵtext(43, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"input\", 27);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_input_ngModelChange_44_listener($event) {\n          return ctx.cod_pto_venta.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"div\", 23)(46, \"mat-label\", 26)(47, \"u\");\n        i0.ɵɵtext(48, \"Abreviaci\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(49, \"input\", 28);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_input_ngModelChange_49_listener($event) {\n          return ctx.cod_pto_venta.abreviacion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"div\", 23)(51, \"mat-label\", 29)(52, \"u\");\n        i0.ɵɵtext(53, \"Tipo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(54, \"select\", 30);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_select_ngModelChange_54_listener($event) {\n          return ctx.cod_pto_venta.tipo = $event;\n        });\n        i0.ɵɵelementStart(55, \"option\", 31);\n        i0.ɵɵtext(56, \"PROVINCIA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"option\", 32);\n        i0.ɵɵtext(58, \"CIUDAD\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(59, \"div\", 23)(60, \"mat-label\", 33)(61, \"u\");\n        i0.ɵɵtext(62, \"Ubicaci\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"select\", 34);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_select_ngModelChange_63_listener($event) {\n          return ctx.cod_pto_venta.ubicacion = $event;\n        });\n        i0.ɵɵelementStart(64, \"option\", 35);\n        i0.ɵɵtext(65, \"LOCAL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"option\", 36);\n        i0.ɵɵtext(67, \"INTERIOR\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"div\", 23)(69, \"div\", 37)(70, \"mat-label\", 38)(71, \"u\");\n        i0.ɵɵtext(72, \"Provincia\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"input\", 39);\n        i0.ɵɵlistener(\"blur\", function PuntoVentaComponent_Template_input_blur_73_listener($event) {\n          return ctx.onLeaveProvincia($event);\n        })(\"ngModelChange\", function PuntoVentaComponent_Template_input_ngModelChange_73_listener($event) {\n          return ctx.cod_pto_venta_provincia = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"div\", 40)(75, \"a\", 41);\n        i0.ɵɵlistener(\"click\", function PuntoVentaComponent_Template_a_click_75_listener() {\n          return ctx.catalogoProvincia();\n        });\n        i0.ɵɵelement(76, \"i\", 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(77, \"span\");\n        i0.ɵɵtext(78);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(79, \"div\", 23)(80, \"mat-label\", 42)(81, \"u\");\n        i0.ɵɵtext(82, \"Permitido\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(83, \"input\", 43);\n        i0.ɵɵlistener(\"ngModelChange\", function PuntoVentaComponent_Template_input_ngModelChange_83_listener($event) {\n          return ctx.cod_pto_venta.permitido = $event;\n        });\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"fullScreen\", true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", !ctx.FormularioData.valid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", !ctx.FormularioData.valid);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"formGroup\", ctx.FormularioData);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.codigo);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.descripcion);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.abreviacion);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.tipo);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.ubicacion);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta_provincia);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate2(\"\\u00A0 \", ctx.provincia_get.dato2, \" - \", ctx.nombre_ciudad, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.cod_pto_venta.permitido);\n      }\n    },\n    dependencies: [i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.CheckboxControlValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MaxLengthValidator, i7.PatternValidator, i7.MinValidator, i7.FormGroupDirective, i7.FormControlName, i12.MatLabel, i2.MatDialogActions, i13.MatAnchor, i13.MatButton, i10.NgxSpinnerComponent, i14.MatCard, i14.MatCardContent, i14.MatCardHeader, i14.MatCardTitle, i15.MatTooltip],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n  return PuntoVentaComponent;\n}();\nexport { PuntoVentaComponent };","map":{"version":3,"mappings":"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","names":["CatalogoPuntoVentaComponent","Validators","ProvinciasCatalogoComponent","DialogDeleteComponent","api","dialog","log_module","toastr","nombre_ventana_service","servicesPuntoVenta","_formBuilder","datePipe","provinciaService","spinner","_snackBar","Date","userConn","localStorage","getItem","undefined","JSON","parse","usuarioLogueado","mandarNombre","getRolUserParaVentana","nombre_ventana","FormularioData","createForm","PuntoVentaComponent","event","console","log","focusedElement","document","activeElement","elementTagName","id","catalogoProvincia","disparadorDeProvincias","subscribe","data","_this","provincia_get","provincia","cod_pto_venta_provincia","dato1","nombre_ciudad","dato3","disparadorDePuntosVenta","cod_pto_venta","punto_venta","codprovincia","getProvinciaId","getProvincia","hour","hora_actual","getHours","minuts","getMinutes","hora_actual_complete","group","codigo","dataform","compose","maxLength","pattern","tipo","required","descripcion","fechareg","transform","fecha_actual","abreviacion","ubicacion","horareg","usuarioreg","permitido","ptolocal","value","errorMessage","create","next","datav","punto_venta_save","resp","guardarLog","ventana","detalle","show","setTimeout","hide","success","open","duration","location","reload","error","err","complete","width","height","update","dialogRef","dataUsuarioEdit","afterClosed","result","delete","dato2","disparadorDeNombreVentana","emit","nombre_vent","getAll","provincia_set","provincia_id","nombre","coddepto","inputValue","target","encontrado","some","toUpperCase","selectors","hostBindings","ctx","i0"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\punto-venta\\punto-venta.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\punto-venta\\punto-venta.component.html"],"sourcesContent":["import { Component, HostListener, OnInit } from '@angular/core';\nimport { CatalogoPuntoVentaComponent } from './catalogo-punto-venta/catalogo-punto-venta.component';\nimport { ApiService } from '@services/api.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { LogService } from '@services/log-service.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NombreVentanaService } from '@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service';\nimport { PuntoventaService } from './servicio-punto-venta/puntoventa.service';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { ProvinciasCatalogoComponent } from '@components/mantenimiento/administracion/provinciadptopais/provincias-catalogo/provincias-catalogo.component';\nimport { ProvinciasService } from '@components/mantenimiento/administracion/provinciadptopais/services-provincias/provincias.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\n\n@Component({\n  selector: 'app-punto-venta',\n  templateUrl: './punto-venta.component.html',\n  styleUrls: ['./punto-venta.component.scss']\n})\nexport class PuntoVentaComponent implements OnInit {\n    \n  @HostListener(\"document:keydown.F4\", []) unloadHandler(event: KeyboardEvent){\n    console.log(\"Hola Lola F4\");\n    const focusedElement = document.activeElement as HTMLElement;\n    if(focusedElement){\n      const elementTagName = focusedElement.id;\n      console.log(`Elemento enfocado: ${elementTagName}`);\n\n      switch(elementTagName){\n        case \"procinciaCatalogo\":\n          this.catalogoProvincia();\n          break;\n      }\n  }};\n  \n\n  FormularioData: FormGroup;\n  fecha_actual = new Date();\n  hora_actual = new Date();\n  dataform: any = '';\n  usuarioLogueado: any;\n  userConn: any;\n\n  cod_pto_venta: any = [];\n  cod_pto_venta_provincia: string;\n  provincia_get: any = [];\n  provincia_set: any = [];\n  punto_venta_save: any = [];\n  provincia: any = [];\n  provincia_id: any = [];\n  nombre_ciudad: string;\n  \n  nombre_ventana: string = \"abmveptoventa.vb\";\n  public ventana=\"Punto de Venta\"\n  public detalle=\"punto-venta-create\";\n  public tipo=\"punto-venta-CREATE\";\n\n  constructor(private api:ApiService,public dialog: MatDialog,\n    public log_module: LogService, private toastr: ToastrService, public nombre_ventana_service: NombreVentanaService,\n    public servicesPuntoVenta: PuntoventaService, private _formBuilder: FormBuilder, private datePipe: DatePipe,\n    public provinciaService:ProvinciasService, private spinner: NgxSpinnerService,public _snackBar: MatSnackBar,) {\n    \n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    \n    this.mandarNombre();\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n\n    this.FormularioData = this.createForm();\n    // this.FormularioData.get('codprovincia').disable();\n  }\n\n  ngOnInit() {\n    this.provinciaService.disparadorDeProvincias.subscribe(data => {\n      console.log(\"Recibiendo Provincia: \", data);\n      this.provincia_get = data.provincia;\n      this.cod_pto_venta_provincia = data.provincia.dato1;\n      this.nombre_ciudad = data.provincia.dato3;\n    });\n    \n    this.servicesPuntoVenta.disparadorDePuntosVenta.subscribe(data =>{\n      console.log(\"Recibiendo Pto Venta: \", data);\n      this.cod_pto_venta = data.punto_venta;\n      this.cod_pto_venta_provincia = data.punto_venta.codprovincia;\n      this.getProvinciaId(this.cod_pto_venta_provincia)\n    });\n  }\n\n  ngAfterContentInit(): void {\n    //Called after ngOnInit when the component's or directive's content has been initialized.\n    //Add 'implements AfterContentInit' to the class.\n    this.getProvincia();\n  }\n  \n  createForm(): FormGroup {\n    let hour = this.hora_actual.getHours();\n    let minuts = this.hora_actual.getMinutes();\n    let hora_actual_complete = hour + \":\" + minuts;\n\n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.maxLength(3), Validators.pattern(/^-?(0|[1-9]\\d*)?$/)])],\n      tipo: [this.dataform.tipo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      fechareg: [this.datePipe.transform(this.fecha_actual,\"yyyy-MM-dd\")],\n      abreviacion: [this.dataform.abreviacion, Validators.compose([Validators.required])],\n      ubicacion: [this.dataform.ubicacion],\n      codprovincia: [this.dataform.codprovincia, Validators.compose([Validators.required])],\n      horareg: [hora_actual_complete],\n      usuarioreg: [this.usuarioLogueado],\n      permitido:[this.dataform.codigo],\n      ptolocal:[true],\n    });\n  }\n\n  submitData(){\n    const data = this.FormularioData.value;\n    console.log(data);\n\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\"+\"Ruta:- /inventario/mant/inalmacen/\";\n    return this.api.create(\"/venta/mant/veptoventa/\"+this.userConn, data)\n      .subscribe({\n        next: (datav) => {\n          this.punto_venta_save = datav;\n\n          console.log('data', datav);\n          if (this.punto_venta_save.resp == 204) { \n            this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\n            this.spinner.show();\n            setTimeout(() => {\n              this.spinner.hide();\n            }, 2000);\n            this.toastr.success('! SE EDITO EXITOSAMENTE !');\n            this._snackBar.open('Se ha guardado correctamente!', 'Ok', {\n              duration: 3000,\n            });\n            location.reload();\n          }\n        },\n    \n        error: (err) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  catalogoProvincia() { \n    this.dialog.open(ProvinciasCatalogoComponent, {\n      width: 'auto',\n      height:'auto',\n    });\n  }\n\n  update() { \n    let data = this.FormularioData.value;\n\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:- /venta/mant/veptoventa/ Update\";\n    return this.api.update('/venta/mant/veptoventa/'+this.userConn+\"/\"+this.cod_pto_venta.codigo, data)\n      .subscribe({\n        next: (datav) => {\n          this.punto_venta_save = datav;\n          this.log_module.guardarLog(this.ventana, this.detalle, this.tipo);\n          this.toastr.success('! SE EDITO EXITOSAMENTE !');\n          location.reload();\n        },\n    \n        error: (err: any) => { \n          this.toastr.error('! NO SE EDITO !');\n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  eliminar() { \n    let ventana=\"Punto de Venta\"\n    let detalle=\"punto-venta-DELETE\";\n    let tipo = \"punto-venta-DELETE\";\n    \n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:--  seg_adm/mant/adarea/ Delete\";\n\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height:'auto',\n      data:{dataUsuarioEdit:this.cod_pto_venta.codigo},\n    });\n\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\n      if(result) {\n        return this.api.delete('/venta/mant/veptoventa/'+this.userConn+\"/\"+this.cod_pto_venta.codigo)\n        .subscribe({\n          next: () => {\n            this.log_module.guardarLog(ventana, detalle, tipo);\n            \n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: (err: any) => { \n            console.log(err, errorMessage);\n            this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: () => { }\n        })\n      }else{\n        this.toastr.error('! CANCELADO !');\n      }\n    });\n  }\n\n  limpiar() { \n    this.cod_pto_venta.codigo = \"\";\n    this.cod_pto_venta.descripcion = \"\";\n    this.cod_pto_venta.abreviacion = \"\";\n    this.cod_pto_venta.tipo = \"\";\n    this.provincia_get.dato1 = \"\";\n    this.provincia_get.dato2 = \"\";\n    this.cod_pto_venta.permitido = \"\";\n    this.cod_pto_venta_provincia = \"\";\n    this.nombre_ciudad = \"\";\n    this.cod_pto_venta.ubicacion = \"\";\n  }\n  \n  mandarNombre(){\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\n      nombre_vent:this.ventana,\n    });\n  }\n\n  modalClientes() { \n    this.dialog.open(CatalogoPuntoVentaComponent, {\n      width: 'auto',\n      height:'auto',\n    });\n  }\n  \n  getProvincia(){\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/seg_adm/mant/adprovincia/catalogo_depto/\"\n    return this.api.getAll('/seg_adm/mant/adprovincia/'+this.userConn)\n      .subscribe({\n        next: (datav) => {\n          this.provincia_set = datav;\n          console.log(this.provincia_set);\n        },\n    \n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  getProvinciaId(id:any){\n    return this.api.getAll('/seg_adm/mant/adprovincia/'+this.userConn+\"/\"+id)\n      .subscribe({\n        next: (datav) => {\n          this.provincia_id = datav;\n          console.log('data', this.provincia_id);\n\n          // this.provincia_get.dato2 = this.provincia_id.nombre;\n          this.provincia_get.dato2 = this.provincia_id.nombre;\n          this.nombre_ciudad = this.provincia_id.coddepto;\n        },\n                \n        error: (err: any) => { \n          console.log(err);\n        },\n        complete: () => { }\n      })\n  }\n\n  onLeaveProvincia(event: any){\n    const inputValue = event.target.value;\n    console.log(inputValue);\n        \n    // Verificar si el valor ingresado está presente en los objetos del array\n    const encontrado = this.provincia_set.some(objeto => objeto.codigo === inputValue.toUpperCase());\n\n    if (!encontrado){\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      this.getProvinciaId(inputValue);\n    }\n\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', inputValue);\n  }\n}\n","<section class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"p-2\">\n      <mat-card style=\"background-color: #f0f0f0;\">\n        <mat-card-header class=\"mb-1\">\n          <mat-card-title style=\"font-size: 0.8rem;\">Punto de Venta</mat-card-title>\n        </mat-card-header>\n\n        <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\"\n          [fullScreen]=\"true\"><br>\n          <p style=\"font-size: 25px; color: rgb(9,48,112,)\">🔩 Cargando... 🔩</p>\n        </ngx-spinner>\n\n        <mat-card-content>\n          <div class=\"row mb-1\">\n            <div class=\"col-md-9\">\n              <div class=\"mat-dialog-actions\" mat-dialog-actions>\n                <button mat-raised-button color=\"primary\" [disabled]=\"!FormularioData.valid\" (click)=\"submitData();\">\n                  <i class=\"fa fa-save\"></i> Guardar</button>&nbsp;\n\n                <a mat-raised-button color=\"secondary\" [disabled]=\"!FormularioData.valid\" (click)=\"update();\"><i\n                    class=\"fa fa-pen\"></i>\n                  Editar</a>&nbsp;\n\n                <a mat-raised-button class=\"secondary\" (click)=\"limpiar();\"><i class=\"fa fa-eraser\"></i>\n                  Limpiar</a>&nbsp;\n\n                <a mat-raised-button class=\"danger\" (click)=\"eliminar();\"><i class=\"fa fa-trash\"></i>\n                  Eliminar</a>\n              </div>\n            </div>\n            <div class=\"col-md-3\">\n              <a mat-button color=\"primary\" (click)=\"modalClientes()\" style=\"float: right;\">\n                <i class=\"fa fa-search\"></i> Buscar Punto Venta</a>\n            </div>\n          </div>\n\n\n          <form class=\"example-form\" [formGroup]=\"FormularioData\" (ngSubmit)=\"submitData()\">\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 30px;padding-top: 7px;\"><u>Código</u></mat-label>\n              <input type=\"number\" pattern=\"\\d*\" maxlength=\"3\" formControlName=\"codigo\" min=\"0\"\n                [(ngModel)]=\"cod_pto_venta.codigo\" required>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 7px;padding-top: 7px;\"><u>Descripción</u></mat-label>\n              <input type=\"text\" formControlName=\"descripcion\" [(ngModel)]=\"cod_pto_venta.descripcion\" required>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 7px;padding-top: 7px;\"><u>Abreviación</u></mat-label>\n              <input type=\"text\" formControlName=\"abreviacion\" [(ngModel)]=\"cod_pto_venta.abreviacion\" maxlength=\"5\"\n                required>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 45px;padding-top: 7px;\"><u>Tipo</u></mat-label>\n              <select style=\"width: 152px;\" formControlName=\"tipo\" [(ngModel)]=\"cod_pto_venta.tipo\" required>\n                <option value=\"PROVINCIA\">PROVINCIA</option>\n                <option value=\"CIUDAD\">CIUDAD</option>\n              </select>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 16px;padding-top: 7px;\"><u>Ubicación</u></mat-label>\n              <select style=\"width: 152px;\" formControlName=\"ubicacion\" [(ngModel)]=\"cod_pto_venta.ubicacion\" required>\n                <option value=\"LOCAL\">LOCAL</option>\n                <option value=\"INTERIOR\">INTERIOR</option>\n              </select>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"input-group\">\n                <mat-label style=\"padding-right: 20px;padding-top: 7px;\"><u>Provincia</u></mat-label>\n                <input type=\"text\" style=\"width: 12% !important;\" (blur)=\"onLeaveProvincia($event)\"\n                  formControlName=\"codprovincia\" [(ngModel)]=\"cod_pto_venta_provincia\" id=\"procinciaCatalogo\">\n\n                <div class=\"input-group-append\">\n                  <a class=\"btn btn-outline-primary\" type=\"button\" (click)=\"catalogoProvincia()\"\n                    style=\"border-color: #093070;padding: 4px 5px 1px 5px;line-height: 0 !important;\"\n                    matTooltip=\"Buscar Provincia\">\n                    <i class=\"fa fa-search\"></i>\n                  </a>\n                </div>\n\n                <span>&nbsp; {{ provincia_get.dato2 }} - {{ nombre_ciudad }}</span>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <mat-label style=\"padding-right: 19px;padding-top: 7px;\"><u>Permitido</u></mat-label>\n              <input type=\"checkbox\" formControlName=\"permitido\" [(ngModel)]=\"cod_pto_venta.permitido\">\n            </div>\n          </form>\n\n        </mat-card-content>\n      </mat-card>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}