{"ast":null,"code":"import { __assign, __values } from \"tslib\";\nimport { FormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@services/api.service\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service\";\nimport * as i6 from \"@services/log-service.service\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/paginator\";\nimport * as i14 from \"@angular/material/card\";\nimport * as i15 from \"@angular/material/sort\";\nimport * as i16 from \"@angular/common\";\nvar _c0 = [\"paginator\"];\nvar _c1 = [\"paginatorPageSize\"];\nfunction StockAlmacenesComponent_th_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 38);\n    i0.ɵɵtext(1, \" Codigo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.item, \" \");\n  }\n}\nfunction StockAlmacenesComponent_th_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 38);\n    i0.ɵɵtext(1, \" Descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r21.descripcion, \" \");\n  }\n}\nfunction StockAlmacenesComponent_th_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 38);\n    i0.ɵɵtext(1, \" Medida \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r22.medida, \" \");\n  }\n}\nfunction StockAlmacenesComponent_th_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" S. Minimo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_56_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"input\", 43);\n    i0.ɵɵlistener(\"focusout\", function StockAlmacenesComponent_td_56_Template_input_focusout_1_listener($event) {\n      var restoredCtx = i0.ɵɵrestoreView(_r25);\n      var element_r23 = restoredCtx.$implicit;\n      var ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.onInputChange(element_r23, $event, \"smin\"));\n    });\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var element_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind2(2, 1, element_r23.smin, \"1.2-2\"));\n  }\n}\nfunction StockAlmacenesComponent_th_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" S. Maximo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_59_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"input\", 43);\n    i0.ɵɵlistener(\"focusout\", function StockAlmacenesComponent_td_59_Template_input_focusout_1_listener($event) {\n      var restoredCtx = i0.ɵɵrestoreView(_r28);\n      var element_r26 = restoredCtx.$implicit;\n      var ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.onInputChange(element_r26, $event, \"smax\"));\n    });\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var element_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind2(2, 1, element_r26.smax, \"1.2-2\"));\n  }\n}\nfunction StockAlmacenesComponent_th_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Pto. Pedido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_62_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"input\", 43);\n    i0.ɵɵlistener(\"focusout\", function StockAlmacenesComponent_td_62_Template_input_focusout_1_listener($event) {\n      var restoredCtx = i0.ɵɵrestoreView(_r31);\n      var element_r29 = restoredCtx.$implicit;\n      var ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.onInputChange(element_r29, $event, \"ptopedido\"));\n    });\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var element_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind2(2, 1, element_r29.ptopedido, \"1.2-2\"));\n  }\n}\nfunction StockAlmacenesComponent_th_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Unidad \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r32 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r32.unidad, \" \");\n  }\n}\nfunction StockAlmacenesComponent_th_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Alm Pedido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockAlmacenesComponent_td_68_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"input\", 44);\n    i0.ɵɵlistener(\"focusout\", function StockAlmacenesComponent_td_68_Template_input_focusout_1_listener($event) {\n      var restoredCtx = i0.ɵɵrestoreView(_r35);\n      var element_r33 = restoredCtx.$implicit;\n      var ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.onInputChange(element_r33, $event, \"codalmpedido\"));\n    });\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var element_r33 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind2(2, 1, element_r33.codalmpedido, \"1.2-2\"));\n  }\n}\nfunction StockAlmacenesComponent_tr_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 45);\n  }\n}\nfunction StockAlmacenesComponent_tr_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 46);\n  }\n}\nvar _c2 = function () {\n  return [15, 20, 25];\n};\nvar StockAlmacenesComponent = /** @class */function () {\n  function StockAlmacenesComponent(dialog, api, spinner, toastr, nombre_ventana_service, log_module, router, cod_almacen_stock, dialogRef) {\n    this.dialog = dialog;\n    this.api = api;\n    this.spinner = spinner;\n    this.toastr = toastr;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.log_module = log_module;\n    this.router = router;\n    this.cod_almacen_stock = cod_almacen_stock;\n    this.dialogRef = dialogRef;\n    this.options = [];\n    this.items = [];\n    this.almacen = [];\n    this.changedData = [];\n    this.updatedRowData = [];\n    this.dataSource = new MatTableDataSource();\n    this.dataSourceWithPageSize = new MatTableDataSource();\n    this.myControl = new FormControl('');\n    this.displayedColumns = ['item', 'descripcion', 'medida', 'smin', 'smax', 'ptopedido', 'unidad', 'codalmpedido'];\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.almacen = cod_almacen_stock.cod_almacen_stock;\n  }\n  StockAlmacenesComponent.prototype.ngOnInit = function () {\n    this.cargarTablaItems();\n  };\n  StockAlmacenesComponent.prototype.cargarTablaItems = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\";\n    return this.api.getAll('/inventario/mant/abminstockalm/stockAlm/' + this.userConn + \"/\" + this.almacen.codigo).subscribe({\n      next: function (datav) {\n        _this.items = datav;\n        console.log(_this.items);\n        _this.dataSource = new MatTableDataSource(_this.items);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  StockAlmacenesComponent.prototype._filter = function (name) {\n    var filterValue = name.toLowerCase();\n    return this.options.filter(function (option) {\n      return option.codigo.toLowerCase().includes(filterValue);\n    });\n  };\n  StockAlmacenesComponent.prototype.applyFilter = function (event) {\n    var filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  };\n  StockAlmacenesComponent.prototype.displayFn = function (user) {\n    return user && user.codigo ? user.codigo : '';\n  };\n  StockAlmacenesComponent.prototype.submitData = function () {};\n  StockAlmacenesComponent.prototype.onInputChange = function (rowData, newValue, name_change) {\n    var _this = this;\n    var valorInput = newValue.target.value;\n    var valor = valorInput;\n    valor = valor.replace(\",\", \".\");\n    var numero = Number(valor);\n    console.log(numero, name_change);\n    var isDuplicate = this.changedData.some(function (item) {\n      return _this.areObjectsEqual(item, __assign(__assign({}, rowData), {\n        value: item\n      }));\n    });\n    switch (name_change) {\n      case \"smin\":\n        // Encuentra el índice de rowData en changedData\n        this.index = this.changedData.findIndex(function (item) {\n          return item.id === rowData.id;\n        });\n        this.updatedRowData = __assign(__assign({}, rowData), {\n          smin: numero\n        });\n        // Si la fila ya está en changedData, actualiza su valor\n        if (!isDuplicate) {\n          // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\n          this.changedData.push(this.updatedRowData);\n        }\n        break;\n      case \"smax\":\n        // Encuentra el índice de rowData en changedData\n        this.index = this.changedData.findIndex(function (item) {\n          return item.id === rowData.id;\n        });\n        // Si la fila ya está en changedData, actualiza su valor\n        // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\n        this.updatedRowData = __assign(__assign({}, rowData), {\n          smax: numero\n        });\n        this.changedData.push(this.updatedRowData);\n        break;\n      case \"ptopedido\":\n        // Encuentra el índice de rowData en changedData\n        this.index = this.changedData.findIndex(function (item) {\n          return item.id === rowData.id;\n        });\n        // Si la fila ya está en changedData, actualiza su valor\n        // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\n        this.updatedRowData = __assign(__assign({}, rowData), {\n          ptopedido: numero\n        });\n        this.changedData.push(this.updatedRowData);\n        break;\n      case \"codalmpedido\":\n        // Encuentra el índice de rowData en changedData\n        this.index = this.changedData.findIndex(function (item) {\n          return item.id === rowData.id;\n        });\n        // Si la fila ya está en changedData, actualiza su valor\n        // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\n        this.updatedRowData = __assign(__assign({}, rowData), {\n          codalmpedido: numero\n        });\n        this.changedData.push(this.updatedRowData);\n        break;\n      default:\n        console.log(\"NO HAY CAMBIOS!\");\n        break;\n    }\n    // Encuentra el índice de rowData en changedData\n    var index = this.changedData.findIndex(function (item) {\n      return item.id === rowData.id;\n    });\n    // Si la fila ya está en changedData, actualiza su valor\n    // if (index !== -1) {\n    //   this.changedData[index].smin = numero;\n    // } else {\n    //   // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\n    //   const updatedRowData = { ...rowData, smin: numero };\n    //   this.changedData.push(updatedRowData);\n    // }\n    console.log(this.changedData);\n  };\n  StockAlmacenesComponent.prototype.areObjectsEqual = function (obj1, obj2) {\n    var e_1, _a;\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n      console.log(\"MISMO TAMANIO\");\n      return false;\n    }\n    try {\n      for (var keys1_1 = __values(keys1), keys1_1_1 = keys1_1.next(); !keys1_1_1.done; keys1_1_1 = keys1_1.next()) {\n        var key = keys1_1_1.value;\n        if (obj1[key] !== obj2[key]) {\n          console.log(\"NO ESTA EN EL ARRAY\");\n          return false;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (keys1_1_1 && !keys1_1_1.done && (_a = keys1_1.return)) _a.call(keys1_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    console.log(\"YA ESTA EN EL ARRAY\");\n    return true;\n  };\n  StockAlmacenesComponent.prototype.close = function () {\n    this.dialogRef.close();\n  };\n  StockAlmacenesComponent.ɵfac = function StockAlmacenesComponent_Factory(t) {\n    return new (t || StockAlmacenesComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.NombreVentanaService), i0.ɵɵdirectiveInject(i6.LogService), i0.ɵɵdirectiveInject(i7.Router), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.MatDialogRef));\n  };\n  StockAlmacenesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StockAlmacenesComponent,\n    selectors: [[\"app-stock-almacenes\"]],\n    viewQuery: function StockAlmacenesComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginatorPageSize = _t.first);\n      }\n    },\n    decls: 73,\n    vars: 8,\n    consts: [[1, \"container-fluid\", \"p-2\"], [1, \"p-2\", 2, \"background-color\", \"#f9f9f9\"], [1, \"row\"], [\"align\", \"start\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"fa\", \"fa-save\"], [\"mat-raised-button\", \"\", \"color\", \"primary\"], [1, \"fa\", \"fa-cogs\"], [\"mat-raised-button\", \"\", 1, \"danger\"], [1, \"fa\", \"fa-trash\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"click\"], [1, \"fa\", \"fa-arrow-left\"], [1, \"pl-2\"], [2, \"float\", \"right !important\"], [\"appearance\", \"outline\", 1, \"example-full-width\"], [\"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"Codigo\", 3, \"formControl\", \"keyup\"], [\"input\", \"\"], [1, \"col-lg\"], [1, \"team\", \"bg-white\", \"scrollmenu\"], [1, \"col-lg-12\", 2, \"width\", \"100%\", \"overflow-x\", \"auto\", \"height\", \"430px !important\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"item\"], [\"mat-header-cell\", \"\", \"class\", \"th2\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"descripcion\"], [\"mat-cell\", \"\", \"style\", \"text-align: center;\", 4, \"matCellDef\"], [\"matColumnDef\", \"medida\"], [\"matColumnDef\", \"smin\"], [\"mat-header-cell\", \"\", \"class\", \"th1\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"text-align: right;\", 4, \"matCellDef\"], [\"matColumnDef\", \"smax\"], [\"matColumnDef\", \"ptopedido\"], [\"matColumnDef\", \"unidad\"], [\"matColumnDef\", \"codalmpedido\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 1, \"mat-paginator-sticky\", 3, \"pageSizeOptions\"], [\"paginator\", \"\"], [\"mat-header-cell\", \"\", 1, \"th2\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 2, \"text-align\", \"center\"], [\"mat-header-cell\", \"\", 1, \"th1\"], [\"mat-cell\", \"\", 2, \"text-align\", \"right\"], [\"type\", \"text\", \"min\", \"0\", \"pattern\", \"[0-9]*\", 2, \"text-align\", \"right\", 3, \"ngModel\", \"focusout\"], [\"type\", \"text\", \"min\", \"0\", 2, \"text-align\", \"right\", 3, \"ngModel\", \"focusout\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function StockAlmacenesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"span\");\n        i0.ɵɵtext(3, \"Stock de Almacen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"mat-card-actions\", 3)(6, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function StockAlmacenesComponent_Template_button_click_6_listener() {\n          return ctx.submitData();\n        });\n        i0.ɵɵelement(7, \"i\", 5);\n        i0.ɵɵtext(8, \" Grabar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9, \"\\u00A0 \");\n        i0.ɵɵelementStart(10, \"button\", 6);\n        i0.ɵɵelement(11, \"i\", 7);\n        i0.ɵɵtext(12, \" Actualizar Items \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \"\\u00A0 \");\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵelement(15, \"i\", 9);\n        i0.ɵɵtext(16, \" Vaciar Items\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(17, \"\\u00A0 \");\n        i0.ɵɵelementStart(18, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function StockAlmacenesComponent_Template_button_click_18_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵelement(19, \"i\", 11);\n        i0.ɵɵtext(20, \" Cerrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21, \"\\u00A0 \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 12)(23, \"span\")(24, \"strong\")(25, \"u\");\n        i0.ɵɵtext(26, \"Almacen: \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \" \\u00A0 \");\n        i0.ɵɵelementStart(29, \"span\")(30, \"strong\")(31, \"u\");\n        i0.ɵɵtext(32, \"Descripcion: \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 13)(35, \"mat-form-field\", 14)(36, \"mat-label\");\n        i0.ɵɵtext(37, \"Buscador Item \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 15, 16);\n        i0.ɵɵlistener(\"keyup\", function StockAlmacenesComponent_Template_input_keyup_38_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(40, \"div\", 2)(41, \"div\", 17)(42, \"div\", 18)(43, \"div\", 19)(44, \"table\", 20);\n        i0.ɵɵelementContainerStart(45, 21);\n        i0.ɵɵtemplate(46, StockAlmacenesComponent_th_46_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(47, StockAlmacenesComponent_td_47_Template, 2, 1, \"td\", 23);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(48, 24);\n        i0.ɵɵtemplate(49, StockAlmacenesComponent_th_49_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(50, StockAlmacenesComponent_td_50_Template, 2, 1, \"td\", 25);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(51, 26);\n        i0.ɵɵtemplate(52, StockAlmacenesComponent_th_52_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(53, StockAlmacenesComponent_td_53_Template, 2, 1, \"td\", 25);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(54, 27);\n        i0.ɵɵtemplate(55, StockAlmacenesComponent_th_55_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(56, StockAlmacenesComponent_td_56_Template, 3, 4, \"td\", 29);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(57, 30);\n        i0.ɵɵtemplate(58, StockAlmacenesComponent_th_58_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(59, StockAlmacenesComponent_td_59_Template, 3, 4, \"td\", 29);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(60, 31);\n        i0.ɵɵtemplate(61, StockAlmacenesComponent_th_61_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(62, StockAlmacenesComponent_td_62_Template, 3, 4, \"td\", 29);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(63, 32);\n        i0.ɵɵtemplate(64, StockAlmacenesComponent_th_64_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(65, StockAlmacenesComponent_td_65_Template, 2, 1, \"td\", 29);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(66, 33);\n        i0.ɵɵtemplate(67, StockAlmacenesComponent_th_67_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(68, StockAlmacenesComponent_td_68_Template, 3, 4, \"td\", 29);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(69, StockAlmacenesComponent_tr_69_Template, 1, 0, \"tr\", 34);\n        i0.ɵɵtemplate(70, StockAlmacenesComponent_tr_70_Template, 1, 0, \"tr\", 35);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(71, \"mat-paginator\", 36, 37);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(27);\n        i0.ɵɵtextInterpolate1(\"\\u00A0 \", ctx.almacen.codigo, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\\u00A0 \", ctx.almacen.descripcion, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.myControl);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c2));\n      }\n    },\n    dependencies: [i8.MatTable, i8.MatHeaderCellDef, i8.MatHeaderRowDef, i8.MatColumnDef, i8.MatCellDef, i8.MatRowDef, i8.MatHeaderCell, i8.MatCell, i8.MatHeaderRow, i8.MatRow, i9.DefaultValueAccessor, i9.NgControlStatus, i9.PatternValidator, i9.FormControlDirective, i9.NgModel, i10.MatFormField, i10.MatLabel, i11.MatInput, i12.MatButton, i13.MatPaginator, i14.MatCard, i14.MatCardActions, i15.MatSort, i16.DecimalPipe],\n    styles: [\".th1[_ngcontent-%COMP%] {\\n  text-align: right;\\n  color: #fff;\\n}\\n\\n.th2[_ngcontent-%COMP%] {\\n  text-align: left;\\n  color: #fff;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%] {\\n  height: calc(1.7rem + 0px) !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(1.7rem + 0px) !important;\\n}\\n\\n.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%] {\\n  padding: 0 0px 0 12px;\\n}\\n\\n.mat-mdc-header-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%] {\\n  bottom: 0px;\\n  position: sticky;\\n  z-index: 10;\\n  background-color: #093070;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%] {\\n  bottom: 0px;\\n  position: sticky;\\n  z-index: 10;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  border-color: transparent;\\n  width: 65%;\\n}\\n\\n.mat-paginator-sticky[_ngcontent-%COMP%] {\\n  bottom: 0px;\\n  position: sticky;\\n  z-index: 10;\\n}\\n/*# sourceURL=webpack://./src/app/components/mantenimiento/inventario/almacen/stock-almacenes/stock-almacenes.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tYW50ZW5pbWllbnRvL2ludmVudGFyaW8vYWxtYWNlbi9zdG9jay1hbG1hY2VuZXMvc3RvY2stYWxtYWNlbmVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLFdBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQ0FBQTtBQUNGOztBQUVBO0VBQ0UsbUNBQUE7QUFDRjs7QUFFQTtFQUNFLHFDQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLFVBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi50aDEge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi50aDIge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBjb2xvcjogI2ZmZjtcbn1cblxudGQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLXJvdyB7XG4gIGhlaWdodDogY2FsYygxLjdyZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9fcm93IHtcbiAgaGVpZ2h0OiBjYWxjKDByZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9fcm93IHtcbiAgaGVpZ2h0OiBjYWxjKDEuN3JlbSArIDBweCkgIWltcG9ydGFudDtcbn1cblxuLm1kYy1kYXRhLXRhYmxlX19jZWxsLCAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIHtcbiAgcGFkZGluZzogMCAwcHggMCAxMnB4O1xufVxuXG4ubWF0LW1kYy1oZWFkZXItcm93LCAubWF0LWhlYWRlci1yb3cge1xuICBib3R0b206IDBweDtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgei1pbmRleDogMTA7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwOTMwNzA7XG59XG5cbi5tYXQtbWRjLXRhYmxlIHRib2R5LCAubWF0LW1kYy10YWJsZSB0Zm9vdCwgLm1hdC1tZGMtdGFibGUgdGhlYWQsIC5tYXQtbWRjLWNlbGwsIC5tYXQtbWRjLWZvb3Rlci1jZWxsLCAubWF0LW1kYy1oZWFkZXItcm93LCAubWF0LW1kYy1yb3csIC5tYXQtbWRjLWZvb3Rlci1yb3csIC5tYXQtbWRjLXRhYmxlIC5tYXQtbWRjLWhlYWRlci1jZWxsIHtcbiAgYm90dG9tOiAwcHg7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHotaW5kZXg6IDEwO1xufVxuXG5pbnB1dCB7XG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIHdpZHRoOiA2NSU7XG59XG5cbi5tYXQtcGFnaW5hdG9yLXN0aWNreSB7XG4gIGJvdHRvbTogMHB4O1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICB6LWluZGV4OiAxMDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return StockAlmacenesComponent;\n}();\nexport { StockAlmacenesComponent };","map":{"version":3,"mappings":"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","names":["FormControl","MAT_DIALOG_DATA","MatTableDataSource","i0","dialog","api","spinner","toastr","nombre_ventana_service","log_module","router","cod_almacen_stock","dialogRef","userConn","localStorage","getItem","undefined","JSON","parse","almacen","StockAlmacenesComponent","cargarTablaItems","errorMessage","getAll","codigo","subscribe","next","datav","_this","items","console","log","dataSource","paginator","dataSourceWithPageSize","paginatorPageSize","error","err","complete","name","filterValue","toLowerCase","options","filter","includes","event","target","value","trim","user","rowData","newValue","name_change","valorInput","valor","replace","numero","Number","isDuplicate","changedData","some","areObjectsEqual","item","index","findIndex","id","updatedRowData","smin","push","smax","ptopedido","codalmpedido","obj1","obj2","keys1","Object","keys","keys2","length","key","close","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\inventario\\almacen\\stock-almacenes\\stock-almacenes.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\inventario\\almacen\\stock-almacenes\\stock-almacenes.component.html"],"sourcesContent":["import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Router } from '@angular/router';\r\nimport { NombreVentanaService } from '@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service';\r\nimport { ApiService } from '@services/api.service';\r\nimport { LogService } from '@services/log-service.service';\r\nimport { Item } from '@services/modelos/objetos';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-stock-almacenes',\r\n  templateUrl: './stock-almacenes.component.html',\r\n  styleUrls: ['./stock-almacenes.component.scss']\r\n})\r\nexport class StockAlmacenesComponent implements OnInit {\r\n\r\n  userConn: string;\r\n  options: Item[] = [];\r\n  items: any = [];\r\n  almacen: any = [];\r\n  changedData: any[] = [];  \r\n  updatedRowData:any=[]\r\n  \r\n  index: number;\r\n  sminimo: number;\r\n  smaximo: number;\r\n  punto_pedido: number;\r\n  codalmpedidos: number;\r\n\r\n  dataSource = new MatTableDataSource();\r\n  dataSourceWithPageSize = new MatTableDataSource();\r\n\r\n  myControl = new FormControl<string | Item>('');\r\n  filteredOptions: Observable<Item[]>;\r\n\r\n  displayedColumns = ['item', 'descripcion', 'medida', 'smin', 'smax', 'ptopedido', 'unidad', 'codalmpedido'];\r\n\r\n  @ViewChild('paginator') paginator: MatPaginator;\r\n  @ViewChild('paginatorPageSize') paginatorPageSize: MatPaginator;\r\n\r\n  constructor(public dialog: MatDialog, private api: ApiService, private spinner: NgxSpinnerService, private toastr: ToastrService,\r\n    public nombre_ventana_service: NombreVentanaService, public log_module: LogService, public router: Router,\r\n    @Inject(MAT_DIALOG_DATA) public cod_almacen_stock: any, public dialogRef: MatDialogRef<StockAlmacenesComponent>) {\r\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n    \r\n    this.almacen = cod_almacen_stock.cod_almacen_stock;\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cargarTablaItems();\r\n  }\r\n\r\n  cargarTablaItems() {\r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\"\r\n    return this.api.getAll('/inventario/mant/abminstockalm/stockAlm/'+this.userConn+\"/\"+this.almacen.codigo)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.items = datav;\r\n          console.log(this.items);\r\n\r\n          this.dataSource = new MatTableDataSource(this.items);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n        },\r\n    \r\n        error: (err: any) => { \r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  private _filter(name: string): Item[] {\r\n    const filterValue = name.toLowerCase();\r\n\r\n    return this.options.filter(option => option.codigo.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n  displayFn(user: Item): string {\r\n    return user && user.codigo ? user.codigo : '';\r\n  }\r\n\r\n  submitData() { \r\n\r\n  }\r\n\r\n\r\n  onInputChange(rowData: any, newValue: any, name_change:any) {\r\n    const valorInput = (newValue.target as HTMLInputElement).value;\r\n    let valor = valorInput;\r\n    valor = valor.replace(\",\", \".\");\r\n    let numero = Number(valor);\r\n    console.log(numero, name_change);\r\n\r\n    const isDuplicate = this.changedData.some(item => this.areObjectsEqual(item, { ...rowData, value: item }));\r\n  \r\n    \r\n    \r\n    switch (name_change) {\r\n      case \"smin\":\r\n        // Encuentra el índice de rowData en changedData\r\n        this.index = this.changedData.findIndex(item => item.id === rowData.id);\r\n        this.updatedRowData = { ...rowData, smin: numero };\r\n        // Si la fila ya está en changedData, actualiza su valor\r\n        if (!isDuplicate) {\r\n          // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\r\n          \r\n          this.changedData.push(this.updatedRowData);\r\n        }\r\n        break;\r\n      case \"smax\":\r\n        // Encuentra el índice de rowData en changedData\r\n        this.index = this.changedData.findIndex(item => item.id === rowData.id);\r\n        \r\n        // Si la fila ya está en changedData, actualiza su valor\r\n\r\n          // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\r\n          this.updatedRowData = { ...rowData, smax: numero };\r\n          this.changedData.push(this.updatedRowData);\r\n        \r\n        break;\r\n      case \"ptopedido\":\r\n        // Encuentra el índice de rowData en changedData\r\n        this.index = this.changedData.findIndex(item => item.id === rowData.id);\r\n        \r\n        // Si la fila ya está en changedData, actualiza su valor\r\n\r\n          // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\r\n          this.updatedRowData = { ...rowData, ptopedido: numero };\r\n          this.changedData.push(this.updatedRowData);\r\n        \r\n        break;\r\n      case \"codalmpedido\":\r\n        // Encuentra el índice de rowData en changedData\r\n        this.index = this.changedData.findIndex(item => item.id === rowData.id);\r\n        \r\n        // Si la fila ya está en changedData, actualiza su valor\r\n\r\n          // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\r\n          this.updatedRowData = { ...rowData, codalmpedido: numero };\r\n          this.changedData.push(this.updatedRowData);\r\n        \r\n        break;\r\n      default:\r\n        console.log(\"NO HAY CAMBIOS!\");\r\n        break;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    // Encuentra el índice de rowData en changedData\r\n    const index = this.changedData.findIndex(item => item.id === rowData.id);\r\n    \r\n    // Si la fila ya está en changedData, actualiza su valor\r\n    // if (index !== -1) {\r\n    //   this.changedData[index].smin = numero;\r\n    // } else {\r\n    //   // Si la fila no está en changedData, agrega la fila completa con el nuevo valor\r\n    //   const updatedRowData = { ...rowData, smin: numero };\r\n    //   this.changedData.push(updatedRowData);\r\n    // }\r\n\r\n    console.log(this.changedData);\r\n  }\r\n\r\n\r\n  areObjectsEqual(obj1: any, obj2: any): boolean {\r\n    const keys1 = Object.keys(obj1);\r\n    const keys2 = Object.keys(obj2);\r\n    \r\n    if (keys1.length !== keys2.length) {\r\n      \r\n      console.log(\"MISMO TAMANIO\");\r\n      return false;\r\n    }\r\n    \r\n    for (const key of keys1) {\r\n      if (obj1[key] !== obj2[key]) {\r\n        console.log(\"NO ESTA EN EL ARRAY\");\r\n        return false;\r\n      }\r\n    }\r\n    console.log(\"YA ESTA EN EL ARRAY\");\r\n    \r\n    return true;\r\n  }\r\n\r\n  close(){\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"container-fluid p-2\">\r\n  <mat-card class=\"p-2\" style=\"background-color: #f9f9f9;\">\r\n    <span>Stock de Almacen</span>\r\n    <div class=\"row\">\r\n      <mat-card-actions align=\"start\">\r\n        <button mat-raised-button color=\"primary\" (click)=\"submitData()\"><i class=\"fa fa-save\"></i>\r\n          Grabar\r\n        </button>&nbsp;\r\n\r\n        <button mat-raised-button color=\"primary\"><i class=\"fa fa-cogs\"></i>\r\n          Actualizar Items\r\n        </button>&nbsp;\r\n\r\n        <button mat-raised-button class=\"danger\"><i class=\"fa fa-trash\"></i>\r\n          Vaciar Items</button>&nbsp;\r\n\r\n        <button mat-raised-button class=\"danger\" (click)=\"close()\">\r\n          <i class=\"fa fa-arrow-left\"></i> Cerrar</button>&nbsp;\r\n      </mat-card-actions>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"pl-2\">\r\n      <span><strong><u>Almacen: </u></strong>&nbsp; {{ almacen.codigo }}</span> &nbsp;\r\n      <span><strong><u>Descripcion: </u></strong>&nbsp; {{ almacen.descripcion }}</span>\r\n\r\n      <div style=\"float: right !important;\">\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <mat-label>Buscador Item </mat-label>\r\n          <input type=\"text\" matInput [formControl]=\"myControl\" (keyup)=\"applyFilter($event)\" placeholder=\"Codigo\"\r\n            #input>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg\">\r\n        <div class=\"team bg-white scrollmenu\">\r\n          <div class=\"col-lg-12\" style=\"width: 100%;overflow-x: auto;height: 430px !important;\">\r\n            <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows matSort class=\"mat-elevation-z8\">\r\n\r\n              <ng-container matColumnDef=\"item\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th2\"> Codigo </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{ element.item }} </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"descripcion\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th2\"> Descripción </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\">{{ element.descripcion }}\r\n                </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"medida\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th2\"> Medida </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\">{{ element.medida }} </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"smin\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th1\"> S. Minimo </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                  <input type=\"text\" min=\"0\" pattern=\"[0-9]*\" [ngModel]=\"element.smin | number: '1.2-2'\"\r\n                    (focusout)=\"onInputChange(element, $event, 'smin')\" style=\"text-align: right;\">\r\n                </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"smax\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th1\"> S. Maximo </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                  <input type=\"text\" min=\"0\" pattern=\"[0-9]*\" [ngModel]=\"element.smax | number: '1.2-2'\"\r\n                    (focusout)=\"onInputChange(element, $event, 'smax')\" style=\"text-align: right;\">\r\n                </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"ptopedido\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th1\"> Pto. Pedido </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                  <input type=\"text\" min=\"0\" pattern=\"[0-9]*\" [ngModel]=\"element.ptopedido | number: '1.2-2'\"\r\n                    (focusout)=\"onInputChange(element, $event, 'ptopedido')\" style=\"text-align: right;\">\r\n                </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"unidad\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th1\"> Unidad </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                  {{ element.unidad }} </td>\r\n              </ng-container>\r\n\r\n              <ng-container matColumnDef=\"codalmpedido\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"th1\"> Alm Pedido </th>\r\n                <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                  <input type=\"text\" min=\"0\" [ngModel]=\"element.codalmpedido | number: '1.2-2'\"\r\n                    (focusout)=\"onInputChange(element, $event, 'codalmpedido')\" style=\"text-align: right;\">\r\n                </td>\r\n              </ng-container>\r\n\r\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n            </table>\r\n            <mat-paginator #paginator class=\"mat-paginator-sticky\" [pageSizeOptions]=\"[15, 20, 25]\"\r\n              showFirstLastButtons></mat-paginator>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-card>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}