{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nimport { rangeEach } from \"../../../helpers/number.mjs\";\nimport { arrayEach } from \"../../../helpers/array.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nimport BaseUI from \"./_base.mjs\";\n/**\n * Class responsible for the Context Menu entries for the Nested Rows plugin.\n *\n * @private\n * @class ContextMenuUI\n * @augments BaseUI\n */\nvar _menuEntries = /*#__PURE__*/new WeakMap();\nclass ContextMenuUI extends BaseUI {\n  constructor() {\n    super(...arguments);\n    /**\n     * Reference to the DataManager instance connected with the Nested Rows plugin.\n     *\n     * @type {DataManager}\n     */\n    _defineProperty(this, \"dataManager\", this.plugin.dataManager);\n    _classPrivateFieldInitSpec(this, _menuEntries, {\n      writable: true,\n      value: {\n        row_above: (key, selection) => {\n          const lastSelection = selection[selection.length - 1];\n          this.dataManager.addSibling(lastSelection.start.row, 'above');\n        },\n        row_below: (key, selection) => {\n          const lastSelection = selection[selection.length - 1];\n          this.dataManager.addSibling(lastSelection.start.row, 'below');\n        }\n      }\n    });\n  }\n  /**\n   * Append options to the context menu. (Propagated from the `afterContextMenuDefaultOptions` hook callback)\n   * f.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu options.\n   * @returns {*}\n   */\n  appendOptions(defaultOptions) {\n    const newEntries = [{\n      key: 'add_child',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD);\n      },\n      callback: () => {\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]);\n        const parent = this.dataManager.getDataObject(translatedRowIndex);\n        this.dataManager.addChild(parent);\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        return !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      key: 'detach_from_parent',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD);\n      },\n      callback: () => {\n        this.dataManager.detachFromParent(this.hot.getSelectedLast());\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(selected[0]);\n        const parent = this.dataManager.getRowParent(translatedRowIndex);\n        return !parent || !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      name: '---------'\n    }];\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      if (i === 0) {\n        arrayEach(newEntries, (val, j) => {\n          defaultOptions.items.splice(i + j, 0, val);\n        });\n        return false;\n      }\n    });\n    return this.modifyRowInsertingOptions(defaultOptions);\n  }\n\n  /**\n   * Modify how the row inserting options work.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu items.\n   * @returns {*}\n   */\n  modifyRowInsertingOptions(defaultOptions) {\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      const option = _classPrivateFieldGet(this, _menuEntries)[defaultOptions.items[i].key];\n      if (option !== null && option !== undefined) {\n        defaultOptions.items[i].callback = option;\n      }\n    });\n    return defaultOptions;\n  }\n}\nexport default ContextMenuUI;","map":{"version":3,"names":["_classPrivateFieldInitSpec","obj","privateMap","value","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","_defineProperty","key","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","Number","_classPrivateFieldGet","receiver","descriptor","_classExtractFieldDescriptor","_classApplyDescriptorGet","action","get","rangeEach","arrayEach","C","BaseUI","_menuEntries","WeakMap","ContextMenuUI","constructor","arguments","plugin","dataManager","row_above","selection","lastSelection","length","addSibling","start","row","row_below","appendOptions","defaultOptions","newEntries","name","getTranslatedPhrase","CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD","callback","translatedRowIndex","translateTrimmedRow","hot","getSelectedLast","parent","getDataObject","addChild","disabled","selected","isSelectedByColumnHeader","countRows","getSettings","maxRows","CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD","detachFromParent","getRowParent","items","val","j","splice","modifyRowInsertingOptions","option","undefined"],"sources":["C:/laragon/www/SIAW-Angular-B/node_modules/handsontable/plugins/nestedRows/ui/contextMenu.mjs"],"sourcesContent":["import \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nimport { rangeEach } from \"../../../helpers/number.mjs\";\nimport { arrayEach } from \"../../../helpers/array.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nimport BaseUI from \"./_base.mjs\";\n/**\n * Class responsible for the Context Menu entries for the Nested Rows plugin.\n *\n * @private\n * @class ContextMenuUI\n * @augments BaseUI\n */\nvar _menuEntries = /*#__PURE__*/new WeakMap();\nclass ContextMenuUI extends BaseUI {\n  constructor() {\n    super(...arguments);\n    /**\n     * Reference to the DataManager instance connected with the Nested Rows plugin.\n     *\n     * @type {DataManager}\n     */\n    _defineProperty(this, \"dataManager\", this.plugin.dataManager);\n    _classPrivateFieldInitSpec(this, _menuEntries, {\n      writable: true,\n      value: {\n        row_above: (key, selection) => {\n          const lastSelection = selection[selection.length - 1];\n          this.dataManager.addSibling(lastSelection.start.row, 'above');\n        },\n        row_below: (key, selection) => {\n          const lastSelection = selection[selection.length - 1];\n          this.dataManager.addSibling(lastSelection.start.row, 'below');\n        }\n      }\n    });\n  }\n  /**\n   * Append options to the context menu. (Propagated from the `afterContextMenuDefaultOptions` hook callback)\n   * f.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu options.\n   * @returns {*}\n   */\n  appendOptions(defaultOptions) {\n    const newEntries = [{\n      key: 'add_child',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD);\n      },\n      callback: () => {\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]);\n        const parent = this.dataManager.getDataObject(translatedRowIndex);\n        this.dataManager.addChild(parent);\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        return !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      key: 'detach_from_parent',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD);\n      },\n      callback: () => {\n        this.dataManager.detachFromParent(this.hot.getSelectedLast());\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(selected[0]);\n        const parent = this.dataManager.getRowParent(translatedRowIndex);\n        return !parent || !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      name: '---------'\n    }];\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      if (i === 0) {\n        arrayEach(newEntries, (val, j) => {\n          defaultOptions.items.splice(i + j, 0, val);\n        });\n        return false;\n      }\n    });\n    return this.modifyRowInsertingOptions(defaultOptions);\n  }\n\n  /**\n   * Modify how the row inserting options work.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu items.\n   * @returns {*}\n   */\n  modifyRowInsertingOptions(defaultOptions) {\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      const option = _classPrivateFieldGet(this, _menuEntries)[defaultOptions.items[i].key];\n      if (option !== null && option !== undefined) {\n        defaultOptions.items[i].callback = option;\n      }\n    });\n    return defaultOptions;\n  }\n}\nexport default ContextMenuUI;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}