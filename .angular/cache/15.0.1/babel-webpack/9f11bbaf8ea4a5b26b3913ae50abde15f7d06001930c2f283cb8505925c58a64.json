{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/api.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@services/log-service.service\";\nimport * as i5 from \"ngx-spinner\";\nimport * as i6 from \"ngx-toastr\";\nimport * as i7 from \"@angular/material/snack-bar\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/material/menu\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"@angular/material/paginator\";\nimport * as i13 from \"@angular/material/card\";\nimport * as i14 from \"@angular/material/icon\";\nimport * as i15 from \"@angular/material/sort\";\nvar _c0 = [\"paginator\"];\nvar _c1 = [\"paginatorPageSize\"];\nfunction ClasificacionClientesComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 38);\n    i0.ÉµÉµtext(1, \" Clasificacion \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ClasificacionClientesComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 39);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    var element_r7 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", element_r7.clasificacion, \" \");\n  }\n}\nfunction ClasificacionClientesComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 38);\n    i0.ÉµÉµtext(1, \"Acci\\u00F3n\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ClasificacionClientesComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"td\", 39)(1, \"button\", 40);\n    i0.ÉµÉµelement(2, \"i\", 41);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"mat-menu\", null, 42)(5, \"button\", 43);\n    i0.ÉµÉµlistener(\"click\", function ClasificacionClientesComponent_td_25_Template_button_click_5_listener() {\n      var restoredCtx = i0.ÉµÉµrestoreView(_r11);\n      var element_r8 = restoredCtx.$implicit;\n      var ctx_r10 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r10.eliminar(element_r8));\n    });\n    i0.ÉµÉµelementStart(6, \"span\");\n    i0.ÉµÉµelement(7, \"i\", 44);\n    i0.ÉµÉµtext(8, \" Eliminar\");\n    i0.ÉµÉµelementEnd()()()();\n  }\n  if (rf & 2) {\n    var _r9 = i0.ÉµÉµreference(4);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"matMenuTriggerFor\", _r9);\n  }\n}\nfunction ClasificacionClientesComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 45);\n  }\n}\nfunction ClasificacionClientesComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 46);\n  }\n}\nvar _c2 = function () {\n  return [10, 15, 20, 25];\n};\nvar ClasificacionClientesComponent = /** @class */function () {\n  function ClasificacionClientesComponent(api, dialogRef, _formBuilder, log_module, spinner, toastr, _snackBar, nivel_get, dialog) {\n    this.api = api;\n    this.dialogRef = dialogRef;\n    this._formBuilder = _formBuilder;\n    this.log_module = log_module;\n    this.spinner = spinner;\n    this.toastr = toastr;\n    this._snackBar = _snackBar;\n    this.nivel_get = nivel_get;\n    this.dialog = dialog;\n    this.nivel = [];\n    this.nivel_clientes = [];\n    this.add_clasificacion = [];\n    this.displayedColumns = ['clasificacion', 'accion'];\n    this.dataSource = new MatTableDataSource();\n    this.dataSourceWithPageSize = new MatTableDataSource();\n    this.ventana = \"clasificacion-cliente-create\";\n    this.detalle = \"clasiCliente\";\n    this.tipo = \"clasiCliente-POST\";\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    this.nivel = this.nivel_get.nivel;\n    console.log(this.nivel_get);\n  }\n  ClasificacionClientesComponent.prototype.ngOnInit = function () {\n    this.getNivelesClientes();\n  };\n  ClasificacionClientesComponent.prototype.getNivelesClientes = function () {\n    var _this = this;\n    var errorMessage;\n    errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vedesnivel/vedesnivel_clasificacion/' + this.userConn + \"/\" + this.nivel.codigo).subscribe({\n      next: function (datav) {\n        _this.nivel_clientes = datav;\n        console.log('inlinea', datav);\n        _this.dataSource = new MatTableDataSource(_this.nivel_clientes);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  ClasificacionClientesComponent.prototype.agregarClasificacion = function () {\n    var _this = this;\n    var data = {\n      codvedesnivel: this.nivel.codigo,\n      clasificacion: this.clasificacion\n    };\n    console.log(data);\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:  /venta/mant/vedesnivel/ POST\";\n    return this.api.create(\"/venta/mant/vedesnivel/vedesnivel_clasificacion/\" + this.userConn, data).subscribe({\n      next: function (datav) {\n        _this.add_clasificacion = datav;\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.spinner.show();\n        _this.toastr.success('Guardado con Exito! ðŸŽ‰');\n        location.reload();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  ClasificacionClientesComponent.prototype.eliminar = function (element) {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\" + \"Ruta:--  seg_adm/mant/adarea/ Delete\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: element\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/venta/mant/vedesnivel/vedesnivel_clasificacion/' + _this.userConn + \"/\" + _this.nivel.codigo + \"/\" + element.clasificacion).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  ClasificacionClientesComponent.prototype.close = function () {\n    this.dialogRef.close();\n  };\n  ClasificacionClientesComponent.Éµfac = function ClasificacionClientesComponent_Factory(t) {\n    return new (t || ClasificacionClientesComponent)(i0.ÉµÉµdirectiveInject(i1.ApiService), i0.ÉµÉµdirectiveInject(i2.MatDialogRef), i0.ÉµÉµdirectiveInject(i3.FormBuilder), i0.ÉµÉµdirectiveInject(i4.LogService), i0.ÉµÉµdirectiveInject(i5.NgxSpinnerService), i0.ÉµÉµdirectiveInject(i6.ToastrService), i0.ÉµÉµdirectiveInject(i7.MatSnackBar), i0.ÉµÉµdirectiveInject(MAT_DIALOG_DATA), i0.ÉµÉµdirectiveInject(i2.MatDialog));\n  };\n  ClasificacionClientesComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: ClasificacionClientesComponent,\n    selectors: [[\"app-clasificacion-clientes\"]],\n    viewQuery: function ClasificacionClientesComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµviewQuery(_c0, 5);\n        i0.ÉµÉµviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ÉµÉµqueryRefresh(_t = i0.ÉµÉµloadQuery()) && (ctx.paginator = _t.first);\n        i0.ÉµÉµqueryRefresh(_t = i0.ÉµÉµloadQuery()) && (ctx.paginatorPageSize = _t.first);\n      }\n    },\n    decls: 67,\n    vars: 9,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"p-2\"], [2, \"background-color\", \"#f0f0f0\"], [1, \"col\"], [2, \"float\", \"right\"], [\"color\", \"primary\", 3, \"click\"], [1, \"team\", \"p-2\", \"bg-white\", \"scrollmenu\"], [1, \"col-lg-12\", \"pr-lg-4\", 2, \"width\", \"100%\", \"overflow-x\", \"auto\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"clasificacion\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"accion\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\"], [\"paginator\", \"\"], [1, \"row\", \"text-center\"], [2, \"padding-right\", \"16px\", \"padding-top\", \"7px\"], [\"required\", \"\", 2, \"width\", \"152px\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"AAA\"], [\"value\", \"AA\"], [\"value\", \"A\"], [\"value\", \"BBB\"], [\"value\", \"BB\"], [\"value\", \"B\"], [\"value\", \"CCC\"], [\"value\", \"CC\"], [\"value\", \"C\"], [\"value\", \"D\"], [\"value\", \"I\"], [\"value\", \"CSC\"], [\"align\", \"end\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button1\", \"\", 2, \"color\", \"#093070\", 3, \"matMenuTriggerFor\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-ellipsis-v\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function ClasificacionClientesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"mat-card\", 3)(4, \"mat-card-header\")(5, \"mat-card-title\")(6, \"strong\");\n        i0.ÉµÉµtext(7, \"Clasificacion de Clientes Permitidas\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(8, \"mat-card-subtitle\")(9, \"strong\");\n        i0.ÉµÉµtext(10, \"Nivel:\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(11);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(12, \"div\", 4)(13, \"div\", 5)(14, \"mat-icon\", 6);\n        i0.ÉµÉµlistener(\"click\", function ClasificacionClientesComponent_Template_mat_icon_click_14_listener() {\n          return ctx.close();\n        });\n        i0.ÉµÉµtext(15, \"close\");\n        i0.ÉµÉµelementEnd()()()();\n        i0.ÉµÉµelementStart(16, \"mat-card-content\")(17, \"div\", 7)(18, \"div\", 8)(19, \"table\", 9);\n        i0.ÉµÉµelementContainerStart(20, 10);\n        i0.ÉµÉµtemplate(21, ClasificacionClientesComponent_th_21_Template, 2, 0, \"th\", 11);\n        i0.ÉµÉµtemplate(22, ClasificacionClientesComponent_td_22_Template, 2, 1, \"td\", 12);\n        i0.ÉµÉµelementContainerEnd();\n        i0.ÉµÉµelementContainerStart(23, 13);\n        i0.ÉµÉµtemplate(24, ClasificacionClientesComponent_th_24_Template, 2, 0, \"th\", 11);\n        i0.ÉµÉµtemplate(25, ClasificacionClientesComponent_td_25_Template, 9, 1, \"td\", 12);\n        i0.ÉµÉµelementContainerEnd();\n        i0.ÉµÉµtemplate(26, ClasificacionClientesComponent_tr_26_Template, 1, 0, \"tr\", 14);\n        i0.ÉµÉµtemplate(27, ClasificacionClientesComponent_tr_27_Template, 1, 0, \"tr\", 15);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelement(28, \"mat-paginator\", 16, 17);\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(30, \"div\", 18)(31, \"mat-label\", 19)(32, \"u\");\n        i0.ÉµÉµtext(33, \"Clasificacion\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(34, \"select\", 20);\n        i0.ÉµÉµlistener(\"ngModelChange\", function ClasificacionClientesComponent_Template_select_ngModelChange_34_listener($event) {\n          return ctx.clasificacion = $event;\n        });\n        i0.ÉµÉµelementStart(35, \"option\", 21);\n        i0.ÉµÉµtext(36, \"AAA\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(37, \"option\", 22);\n        i0.ÉµÉµtext(38, \"AA\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(39, \"option\", 23);\n        i0.ÉµÉµtext(40, \"A\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(41, \"option\", 24);\n        i0.ÉµÉµtext(42, \"BBB\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(43, \"option\", 25);\n        i0.ÉµÉµtext(44, \"BB\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(45, \"option\", 26);\n        i0.ÉµÉµtext(46, \"B\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(47, \"option\", 27);\n        i0.ÉµÉµtext(48, \"CCC\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(49, \"option\", 28);\n        i0.ÉµÉµtext(50, \"CC\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(51, \"option\", 29);\n        i0.ÉµÉµtext(52, \"C\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(53, \"option\", 30);\n        i0.ÉµÉµtext(54, \"D\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(55, \"option\", 31);\n        i0.ÉµÉµtext(56, \"I\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(57, \"option\", 32);\n        i0.ÉµÉµtext(58, \"CSC\");\n        i0.ÉµÉµelementEnd()()()();\n        i0.ÉµÉµelementStart(59, \"mat-card-actions\", 33)(60, \"button\", 34);\n        i0.ÉµÉµlistener(\"click\", function ClasificacionClientesComponent_Template_button_click_60_listener() {\n          return ctx.agregarClasificacion();\n        });\n        i0.ÉµÉµelement(61, \"i\", 35);\n        i0.ÉµÉµtext(62, \" Grabar \");\n        i0.ÉµÉµelementEnd()()()();\n        i0.ÉµÉµelementStart(63, \"ngx-spinner\", 36);\n        i0.ÉµÉµelement(64, \"br\");\n        i0.ÉµÉµelementStart(65, \"p\", 37);\n        i0.ÉµÉµtext(66, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ÉµÉµelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ÉµÉµadvance(11);\n        i0.ÉµÉµtextInterpolate1(\" \", ctx.nivel.codigo, \" \");\n        i0.ÉµÉµadvance(8);\n        i0.ÉµÉµproperty(\"dataSource\", ctx.dataSource);\n        i0.ÉµÉµadvance(7);\n        i0.ÉµÉµproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"pageSizeOptions\", i0.ÉµÉµpureFunction0(8, _c2));\n        i0.ÉµÉµadvance(6);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.clasificacion);\n        i0.ÉµÉµadvance(26);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.clasificacion);\n        i0.ÉµÉµadvance(3);\n        i0.ÉµÉµproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [i8.MatTable, i8.MatHeaderCellDef, i8.MatHeaderRowDef, i8.MatColumnDef, i8.MatCellDef, i8.MatRowDef, i8.MatHeaderCell, i8.MatCell, i8.MatHeaderRow, i8.MatRow, i9.MatMenu, i9.MatMenuItem, i9.MatMenuTrigger, i3.NgSelectOption, i3.ÉµNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.RequiredValidator, i3.NgModel, i10.MatLabel, i11.MatButton, i12.MatPaginator, i5.NgxSpinnerComponent, i13.MatCard, i13.MatCardActions, i13.MatCardContent, i13.MatCardHeader, i13.MatCardSubtitle, i13.MatCardTitle, i14.MatIcon, i15.MatSort],\n    styles: [\".mat-mdc-header-row[_ngcontent-%COMP%] {\\n  background: #093070;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\nth[_ngcontent-%COMP%], mat-sort-header[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%] {\\n  height: calc(1.6rem + 0px) !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\nspan[_ngcontent-%COMP%] {\\n  color: #093070 !important;\\n}\\n/*# sourceURL=webpack://./src/app/components/mantenimiento/ventas/niveles-descuentos/clasificacion-clientes/clasificacion-clientes.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tYW50ZW5pbWllbnRvL3ZlbnRhcy9uaXZlbGVzLWRlc2N1ZW50b3MvY2xhc2lmaWNhY2lvbi1jbGllbnRlcy9jbGFzaWZpY2FjaW9uLWNsaWVudGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQUE7RUFDSSxZQUFBO0VBQ0EsNkJBQUE7QUFHSjs7QUFEQTtFQUNJLHFDQUFBO0FBSUo7O0FBRkE7RUFDSSxtQ0FBQTtBQUtKOztBQUhBO0VBQ0kseUJBQUE7QUFNSiIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtbWRjLWhlYWRlci1yb3cge1xuICBiYWNrZ3JvdW5kOiAjMDkzMDcwO1xufVxuXG50ZCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxudGgsIG1hdC1zb3J0LWhlYWRlciB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLXJvdyB7XG4gIGhlaWdodDogY2FsYygxLjZyZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9fcm93IHtcbiAgaGVpZ2h0OiBjYWxjKDByZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbnNwYW4ge1xuICBjb2xvcjogIzA5MzA3MCAhaW1wb3J0YW50O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n  return ClasificacionClientesComponent;\n}();\nexport { ClasificacionClientesComponent };","map":{"version":3,"mappings":"AAGA,SAASA,eAAe,QAAiC,0BAA0B;AAGnF,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,qBAAqB,QAAQ,gDAAgD;;;;;;;;;;;;;;;;;;;;;ICapEC,8BAAsC;IAACA,+BAAc;IAAAA,iBAAK;;;;;IAC1DA,8BAAuC;IAACA,YAA4B;IAAAA,iBAAK;;;;IAAjCA,eAA4B;IAA5BA,yDAA4B;;;;;IAIpEA,8BAAsC;IAAAA,2BAAM;IAAAA,iBAAK;;;;;;IACjDA,8BAAuC;IAEnCA,wBAAmD;IACrDA,iBAAS;IACTA,0CAA0B;IACFA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAiB;IAAA,EAAE;IAChDA,4BAAM;IAAAA,wBAA2B;IAACA,yBAAQ;IAAAA,iBAAO;;;;IAL5BA,eAA0B;IAA1BA,uCAA0B;;;;;IAWvDA,yBAA4D;;;;;IAC5DA,yBAAkE;;;;;;AD1BlF;EA2BE,wCAAoBC,GAAc,EAASC,SAAuD,EACxFC,YAAyB,EAASC,UAAsB,EAAUC,OAA0B,EAC5FC,MAAqB,EAASC,SAAsB,EAAkCC,SAAc,EACrGC,MAAiB;IAHN,QAAG,GAAHR,GAAG;IAAoB,cAAS,GAATC,SAAS;IAC1C,iBAAY,GAAZC,YAAY;IAAsB,eAAU,GAAVC,UAAU;IAAsB,YAAO,GAAPC,OAAO;IACzE,WAAM,GAANC,MAAM;IAAwB,cAAS,GAATC,SAAS;IAA+C,cAAS,GAATC,SAAS;IAChG,WAAM,GAANC,MAAM;IAnBf,UAAK,GAAQ,EAAE;IACf,mBAAc,GAAQ,EAAE;IACxB,sBAAiB,GAAQ,EAAE;IAE3B,qBAAgB,GAAG,CAAC,eAAe,EAAC,QAAQ,CAAC;IAE7C,eAAU,GAAG,IAAIX,kBAAkB,EAAE;IACrC,2BAAsB,GAAG,IAAIA,kBAAkB,EAAE;IAK1C,YAAO,GAAC,8BAA8B;IACtC,YAAO,GAAC,cAAc;IACtB,SAAI,GAAC,mBAAmB;IAO7B,IAAI,CAACY,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,KAAKC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI;IACtH,IAAI,CAACI,eAAe,GAAGL,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,KAAKC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC,GAAG,IAAI;IAE3I,IAAI,CAACK,KAAK,GAAG,IAAI,CAACT,SAAS,CAACS,KAAK;IACjCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,SAAS,CAAC;EAC7B;EAEAY,iDAAQ,GAAR;IACE,IAAI,CAACC,kBAAkB,EAAE;EAC3B,CAAC;EAEDD,2DAAkB,GAAlB;IAAA;IACE,IAAIE,YAAmB;IACvBA,YAAY,GAAG,6DAA6D;IAC5E,OAAO,IAAI,CAACrB,GAAG,CAACsB,MAAM,CAAC,kDAAkD,GAAC,IAAI,CAACb,QAAQ,GAAC,GAAG,GAAC,IAAI,CAACO,KAAK,CAACO,MAAM,CAAC,CAC3GC,SAAS,CAAC;MACTC,IAAI,EAAE,UAACC,KAAK;QACVC,KAAI,CAACC,cAAc,GAAGF,KAAK;QAC3BT,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEQ,KAAK,CAAC;QAE7BC,KAAI,CAACE,UAAU,GAAG,IAAIhC,kBAAkB,CAAC8B,KAAI,CAACC,cAAc,CAAC;QAC7DD,KAAI,CAACE,UAAU,CAACC,SAAS,GAAGH,KAAI,CAACG,SAAS;QAC1CH,KAAI,CAACI,sBAAsB,CAACD,SAAS,GAAGH,KAAI,CAACK,iBAAiB;MAChE,CAAC;MAEDC,KAAK,EAAE,UAACC,GAAQ;QACdjB,OAAO,CAACC,GAAG,CAACgB,GAAG,EAAEb,YAAY,CAAC;MAChC,CAAC;MACDc,QAAQ,EAAE,aAAQ;KACnB,CAAC;EACN,CAAC;EAEDhB,6DAAoB,GAApB;IAAA;IACE,IAAIiB,IAAI,GAAG;MACGC,aAAa,EAAE,IAAI,CAACrB,KAAK,CAACO,MAAM;MAChCe,aAAa,EAAE,IAAI,CAACA;KACrB;IACbrB,OAAO,CAACC,GAAG,CAACkB,IAAI,CAAC;IAEjB,IAAIf,YAAY,GAAG,8CAA8C,GAAC,qCAAqC;IACvG,OAAO,IAAI,CAACrB,GAAG,CAACuC,MAAM,CAAC,kDAAkD,GAAC,IAAI,CAAC9B,QAAQ,EAAE2B,IAAI,CAAC,CAC3FZ,SAAS,CAAC;MACTC,IAAI,EAAE,UAACC,KAAK;QACVC,KAAI,CAACa,iBAAiB,GAAGd,KAAK;QAE9BC,KAAI,CAACxB,UAAU,CAACsC,UAAU,CAACd,KAAI,CAACe,OAAO,EAACf,KAAI,CAACgB,OAAO,EAAEhB,KAAI,CAACiB,IAAI,CAAC;QAChEjB,KAAI,CAACvB,OAAO,CAACyC,IAAI,EAAE;QACnBlB,KAAI,CAACtB,MAAM,CAACyC,OAAO,CAAC,wBAAwB,CAAC;QAE7CC,QAAQ,CAACC,MAAM,EAAE;MACnB,CAAC;MAEDf,KAAK,EAAE,UAACC,GAAG;QACTjB,OAAO,CAACC,GAAG,CAACgB,GAAG,EAAEb,YAAY,CAAC;MAChC,CAAC;MACDc,QAAQ,EAAE,aAAQ;KACnB,CAAC;EACN,CAAC;EAEDhB,iDAAQ,GAAR,UAAS8B,OAAO;IAAhB;IACE,IAAI5B,YAAY,GAAG,4DAA4D,GAAC,sCAAsC;IAEtH,IAAMpB,SAAS,GAAG,IAAI,CAACO,MAAM,CAAC0C,IAAI,CAACpD,qBAAqB,EAAE;MACxDqD,KAAK,EAAE,MAAM;MACbC,MAAM,EAAC,MAAM;MACbhB,IAAI,EAAC;QAACiB,eAAe,EAACJ;MAAO;KAC9B,CAAC;IAEFhD,SAAS,CAACqD,WAAW,EAAE,CAAC9B,SAAS,CAAC,UAAC+B,MAAe;MAChD,IAAGA,MAAM,EAAE;QACT,OAAO5B,KAAI,CAAC3B,GAAG,CAACwD,MAAM,CAAC,kDAAkD,GAAC7B,KAAI,CAAClB,QAAQ,GAAC,GAAG,GAACkB,KAAI,CAACX,KAAK,CAACO,MAAM,GAAC,GAAG,GAAC0B,OAAO,CAACX,aAAa,CAAC,CACvId,SAAS,CAAC;UACTC,IAAI,EAAE;YACJE,KAAI,CAACxB,UAAU,CAACsC,UAAU,CAACd,KAAI,CAACe,OAAO,EAAEf,KAAI,CAACgB,OAAO,EAAEhB,KAAI,CAACiB,IAAI,CAAC;YAEjEjB,KAAI,CAACtB,MAAM,CAACyC,OAAO,CAAC,0BAA0B,CAAC;YAC/CC,QAAQ,CAACC,MAAM,EAAE;UACnB,CAAC;UACDf,KAAK,EAAE,UAACC,GAAQ;YACdjB,OAAO,CAACC,GAAG,CAACgB,GAAG,EAAEb,YAAY,CAAC;YAC9BM,KAAI,CAACtB,MAAM,CAAC4B,KAAK,CAAC,kBAAkB,CAAC;UACvC,CAAC;UACDE,QAAQ,EAAE,aAAQ;SACnB,CAAC;OACH,MAAI;QACHR,KAAI,CAACtB,MAAM,CAAC4B,KAAK,CAAC,eAAe,CAAC;;IAEtC,CAAC,CAAC;EACF,CAAC;EAEHd,8CAAK,GAAL;IACE,IAAI,CAAClB,SAAS,CAACwD,KAAK,EAAE;EACxB,CAAC;;qBAvHUtC,8BAA8B,wSAwB+BvB,eAAe;EAAA;;UAxB5EuB,8BAA8B;IAAAuC;IAAAC;MAAA;;;;;;;;;;;;;;;QClB3C5D,kCAAyB;QAKSA,oDAAoC;QAAAA,iBAAS;QACrEA,yCAAmB;QAAQA,uBAAM;QAAAA,iBAAS;QAACA,aAAmB;QAAAA,iBAAoB;QAClFA,+BAAiB;QAEaA;UAAA,OAAS6D,WAAO;QAAA,EAAC;QAAC7D,sBAAK;QAAAA,iBAAW;QAKlEA,yCAAkB;QAKVA,kCAA2C;QACzCA,gFAA0D;QAC1DA,gFAAyE;QAC3EA,0BAAe;QAEfA,kCAAoC;QAClCA,gFAAiD;QACjDA,gFASK;QACPA,0BAAe;QAEfA,gFAA4D;QAC5DA,gFAAkE;QACpEA,iBAAQ;QACRA,yCAAoG;QACtGA,iBAAM;QAGRA,gCAA6B;QACiCA,8BAAa;QAAAA,iBAAI;QAC7EA,mCAAmE;QAArCA;UAAA;QAAA,EAA2B;QACvDA,mCAAoB;QAAAA,oBAAG;QAAAA,iBAAS;QAChCA,mCAAmB;QAAAA,mBAAE;QAAAA,iBAAS;QAC9BA,mCAAkB;QAAAA,kBAAC;QAAAA,iBAAS;QAC5BA,mCAAoB;QAAAA,oBAAG;QAAAA,iBAAS;QAChCA,mCAAmB;QAAAA,mBAAE;QAAAA,iBAAS;QAC9BA,mCAAkB;QAAAA,kBAAC;QAAAA,iBAAS;QAC5BA,mCAAoB;QAAAA,oBAAG;QAAAA,iBAAS;QAChCA,mCAAmB;QAAAA,mBAAE;QAAAA,iBAAS;QAC9BA,mCAAkB;QAAAA,kBAAC;QAAAA,iBAAS;QAC5BA,mCAAkB;QAAAA,kBAAC;QAAAA,iBAAS;QAC5BA,mCAAkB;QAAAA,kBAAC;QAAAA,iBAAS;QAC5BA,mCAAoB;QAAAA,oBAAG;QAAAA,iBAAS;QAKtCA,6CAA8B;QACcA;UAAA,OAAS6D,0BAAsB;QAAA,EAAE;QAA6B7D,yBAC7E;QAACA,yBAC5B;QAAAA,iBAAS;QAKfA,wCAAoH;QAClHA,sBAAI;QACJA,8BAAkD;QAAAA,sDAAiB;QAAAA,iBAAI;;;QApExBA,gBAAmB;QAAnBA,iDAAmB;QAWzCA,eAAyB;QAAzBA,2CAAyB;QAqBpBA,eAAiC;QAAjCA,sDAAiC;QACpBA,eAA0B;QAA1BA,uDAA0B;QAEnCA,eAAoC;QAApCA,4DAAoC;QAMlCA,eAA2B;QAA3BA,2CAA2B;QAkBiBA,gBAA2B;QAA3BA,6CAA2B;QAObA,eAAmB;QAAnBA,iCAAmB;;;;;;uCDxEvH;CA0IC,EA7HD;SAKaoB,8BAA8B","names":["MAT_DIALOG_DATA","MatTableDataSource","DialogDeleteComponent","i0","api","dialogRef","_formBuilder","log_module","spinner","toastr","_snackBar","nivel_get","dialog","userConn","localStorage","getItem","undefined","JSON","parse","usuarioLogueado","nivel","console","log","ClasificacionClientesComponent","getNivelesClientes","errorMessage","getAll","codigo","subscribe","next","datav","_this","nivel_clientes","dataSource","paginator","dataSourceWithPageSize","paginatorPageSize","error","err","complete","data","codvedesnivel","clasificacion","create","add_clasificacion","guardarLog","ventana","detalle","tipo","show","success","location","reload","element","open","width","height","dataUsuarioEdit","afterClosed","result","delete","close","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\niveles-descuentos\\clasificacion-clientes\\clasificacion-clientes.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\niveles-descuentos\\clasificacion-clientes\\clasificacion-clientes.component.html"],"sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { ApiService } from '@services/api.service';\nimport { LogService } from '@services/log-service.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-clasificacion-clientes',\n  templateUrl: './clasificacion-clientes.component.html',\n  styleUrls: ['./clasificacion-clientes.component.scss']\n})\nexport class ClasificacionClientesComponent implements OnInit {\n  \n  userConn: any;\n  usuarioLogueado: any;\n  clasificacion: string;\n  \n  nivel: any = [];\n  nivel_clientes: any = [];\n  add_clasificacion: any = [];\n\n  displayedColumns = ['clasificacion','accion'];\n\n  dataSource = new MatTableDataSource();\n  dataSourceWithPageSize = new MatTableDataSource();\n\n  @ViewChild('paginator') paginator: MatPaginator;\n  @ViewChild('paginatorPageSize') paginatorPageSize: MatPaginator;\n  \n  public ventana=\"clasificacion-cliente-create\"\n  public detalle=\"clasiCliente\";\n  public tipo=\"clasiCliente-POST\";\n\n  constructor(private api:ApiService, public dialogRef: MatDialogRef<ClasificacionClientesComponent>,\n    private _formBuilder: FormBuilder, public log_module: LogService, private spinner: NgxSpinnerService,\n    private toastr: ToastrService, public _snackBar: MatSnackBar, @Inject(MAT_DIALOG_DATA) public nivel_get: any,\n    public dialog: MatDialog) {\n    \n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n\n    this.nivel = this.nivel_get.nivel;\n    console.log(this.nivel_get);\n  }\n\n  ngOnInit() {\n    this.getNivelesClientes();\n  }\n\n  getNivelesClientes(){\n    let errorMessage:string;\n    errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/vedesnivel/vedesnivel_clasificacion/'+this.userConn+\"/\"+this.nivel.codigo)\n      .subscribe({\n        next: (datav) => {\n          this.nivel_clientes = datav;\n          console.log('inlinea', datav);\n\n          this.dataSource = new MatTableDataSource(this.nivel_clientes);\n          this.dataSource.paginator = this.paginator;\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\n        },\n                \n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  agregarClasificacion() { \n    let data = {\n                  codvedesnivel: this.nivel.codigo,\n                  clasificacion: this.clasificacion\n                };\n    console.log(data);\n    \n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:  /venta/mant/vedesnivel/ POST\";\n    return this.api.create(\"/venta/mant/vedesnivel/vedesnivel_clasificacion/\"+this.userConn, data)\n      .subscribe({\n        next: (datav) => {\n          this.add_clasificacion = datav;\n\n          this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\n          this.spinner.show();\n          this.toastr.success('Guardado con Exito! ðŸŽ‰');  \n          \n          location.reload();\n        },\n    \n        error: (err) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  eliminar(element): void{\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\"+\"Ruta:--  seg_adm/mant/adarea/ Delete\";\n\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height:'auto',\n      data:{dataUsuarioEdit:element},\n    });\n\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\n      if(result) {\n        return this.api.delete('/venta/mant/vedesnivel/vedesnivel_clasificacion/'+this.userConn+\"/\"+this.nivel.codigo+\"/\"+element.clasificacion)\n        .subscribe({\n          next: () => {\n            this.log_module.guardarLog(this.ventana, this.detalle, this.tipo);\n            \n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: (err: any) => { \n            console.log(err, errorMessage);\n            this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: () => { }\n        })\n      }else{\n        this.toastr.error('! CANCELADO !');\n      }\n    });\n    }\n  \n  close(){\n    this.dialogRef.close();\n  }\n}\n","<section class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"p-2\">\n      <mat-card style=\"background-color: #f0f0f0;\">\n        <mat-card-header>\n          <mat-card-title><strong>Clasificacion de Clientes Permitidas</strong> </mat-card-title>\n          <mat-card-subtitle><strong>Nivel:</strong> {{ nivel.codigo }} </mat-card-subtitle>\n          <div class=\"col\">\n            <div style=\"float: right;\">\n              <mat-icon color=\"primary\" (click)=\"close()\">close</mat-icon>\n            </div>\n          </div>\n        </mat-card-header>\n\n        <mat-card-content>\n          <div class=\"team p-2 bg-white scrollmenu\">\n            <div class=\"col-lg-12 pr-lg-4\" style=\"width: 100%;overflow-x: auto;\">\n              <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows matSort class=\"mat-elevation-z8\">\n\n                <ng-container matColumnDef=\"clasificacion\">\n                  <th mat-header-cell *matHeaderCellDef> Clasificacion </th>\n                  <td mat-cell *matCellDef=\"let element\"> {{ element.clasificacion }} </td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"accion\">\n                  <th mat-header-cell *matHeaderCellDef>AcciÃ³n</th>\n                  <td mat-cell *matCellDef=\"let element\">\n                    <button mat-icon-button1 [matMenuTriggerFor]=\"menu\" style=\"color: #093070;\">\n                      <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>\n                    </button>\n                    <mat-menu #menu=\"matMenu\">\n                      <button mat-menu-item (click)=\"eliminar(element);\">\n                        <span><i class=\"fa fa-trash\"></i> Eliminar</span>\n                      </button>\n                    </mat-menu>\n                  </td>\n                </ng-container>\n\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n              </table>\n              <mat-paginator #paginator [pageSizeOptions]=\"[10 ,15, 20, 25]\" showFirstLastButtons></mat-paginator>\n            </div>\n          </div>\n\n          <div class=\"row text-center\">\n            <mat-label style=\"padding-right: 16px;padding-top: 7px;\"><u>Clasificacion</u></mat-label>\n            <select style=\"width: 152px;\" [(ngModel)]=\"clasificacion\" required>\n              <option value=\"AAA\">AAA</option>\n              <option value=\"AA\">AA</option>\n              <option value=\"A\">A</option>\n              <option value=\"BBB\">BBB</option>\n              <option value=\"BB\">BB</option>\n              <option value=\"B\">B</option>\n              <option value=\"CCC\">CCC</option>\n              <option value=\"CC\">CC</option>\n              <option value=\"C\">C</option>\n              <option value=\"D\">D</option>\n              <option value=\"I\">I</option>\n              <option value=\"CSC\">CSC</option>\n            </select>\n          </div>\n        </mat-card-content>\n\n        <mat-card-actions align=\"end\">\n          <button mat-raised-button color=\"primary\" (click)=\"agregarClasificacion();\" [disabled]=\"!clasificacion\"><i\n              class=\"fa fa-save\"></i> Grabar\n          </button>\n        </mat-card-actions>\n      </mat-card>\n    </div>\n\n    <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\" [fullScreen]=\"true\">\n      <br>\n      <p style=\"font-size: 25px; color: rgb(9,48,112,)\">ðŸ”© Cargando... ðŸ”©</p>\n    </ngx-spinner>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}