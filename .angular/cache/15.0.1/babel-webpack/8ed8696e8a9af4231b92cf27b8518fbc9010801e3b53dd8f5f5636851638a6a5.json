{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { CatalogoPersonaComponent } from '../../catalogo-persona/catalogo-persona.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@components/mantenimiento/persona-catalogo/service-persona/service-persona.service\";\nimport * as i3 from \"@services/api.service\";\nimport * as i4 from \"@services/log-service.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ngx-toastr\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"ngx-spinner\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/card\";\nimport * as i12 from \"@angular/material/expansion\";\nimport * as i13 from \"@angular/material/icon\";\nimport * as i14 from \"@angular/material/tabs\";\nvar _c0 = [\"paginator\"];\nvar _c1 = [\"paginatorPageSize\"];\nfunction GruposInventariosComponent_ng_container_28_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelementStart(1, \"div\", 25)(2, \"div\", 26)(3, \"span\");\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(5, \"div\", 27)(6, \"button\", 28);\n    i0.ÉµÉµlistener(\"click\", function GruposInventariosComponent_ng_container_28_ng_container_14_Template_button_click_6_listener() {\n      var restoredCtx = i0.ÉµÉµrestoreView(_r5);\n      var integrantes_grupos_r3 = restoredCtx.$implicit;\n      var ctx_r4 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r4.eliminarGrupoPersona(integrantes_grupos_r3));\n    });\n    i0.ÉµÉµelementStart(7, \"mat-icon\", 29);\n    i0.ÉµÉµtext(8, \"delete\");\n    i0.ÉµÉµelementEnd()()()();\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    var integrantes_grupos_r3 = ctx.$implicit;\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate2(\"\", integrantes_grupos_r3.codpersona, \" - \", integrantes_grupos_r3.nomPersona, \"\");\n  }\n}\nfunction GruposInventariosComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelementStart(1, \"mat-expansion-panel\", 20);\n    i0.ÉµÉµlistener(\"opened\", function GruposInventariosComponent_ng_container_28_Template_mat_expansion_panel_opened_1_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      var ctx_r6 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r6.panelOpenState = true);\n    })(\"closed\", function GruposInventariosComponent_ng_container_28_Template_mat_expansion_panel_closed_1_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      var ctx_r8 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r8.panelOpenState = false);\n    })(\"click\", function GruposInventariosComponent_ng_container_28_Template_mat_expansion_panel_click_1_listener() {\n      var restoredCtx = i0.ÉµÉµrestoreView(_r7);\n      var grupos_r1 = restoredCtx.$implicit;\n      var ctx_r9 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r9.cargarIntegrantesGrupo(grupos_r1.codigo));\n    });\n    i0.ÉµÉµelementStart(2, \"mat-expansion-panel-header\")(3, \"mat-panel-title\")(4, \"strong\");\n    i0.ÉµÉµtext(5, \"Grupo #\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"mat-panel-description\")(8, \"button\", 21);\n    i0.ÉµÉµlistener(\"click\", function GruposInventariosComponent_ng_container_28_Template_button_click_8_listener() {\n      var restoredCtx = i0.ÉµÉµrestoreView(_r7);\n      var grupos_r1 = restoredCtx.$implicit;\n      var ctx_r10 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r10.eliminarGrupo(grupos_r1.codigo));\n    });\n    i0.ÉµÉµelement(9, \"i\", 22);\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(10, \"p\")(11, \"strong\")(12, \"u\");\n    i0.ÉµÉµtext(13, \"Integrantes\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµtemplate(14, GruposInventariosComponent_ng_container_28_ng_container_14_Template, 9, 2, \"ng-container\", 17);\n    i0.ÉµÉµelementStart(15, \"p\")(16, \"strong\")(17, \"u\");\n    i0.ÉµÉµtext(18, \"Observaciones\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(19, \"p\");\n    i0.ÉµÉµtext(20);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(21, \"button\", 23);\n    i0.ÉµÉµlistener(\"click\", function GruposInventariosComponent_ng_container_28_Template_button_click_21_listener() {\n      var restoredCtx = i0.ÉµÉµrestoreView(_r7);\n      var grupos_r1 = restoredCtx.$implicit;\n      var ctx_r11 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r11.catalogoPepersona(grupos_r1.codigo));\n    });\n    i0.ÉµÉµelement(22, \"i\", 24);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    var grupos_r1 = ctx.$implicit;\n    var ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate1(\" \", grupos_r1.nro, \" \");\n    i0.ÉµÉµadvance(8);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.integrantes_grupo);\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate(grupos_r1.obs);\n  }\n}\nvar GruposInventariosComponent = /** @class */function () {\n  function GruposInventariosComponent(dialog, servicioPersona, dialogRef, api, dataInventario, log_module, _formBuilder, toastr, datePipe, spinner) {\n    this.dialog = dialog;\n    this.servicioPersona = servicioPersona;\n    this.dialogRef = dialogRef;\n    this.api = api;\n    this.dataInventario = dataInventario;\n    this.log_module = log_module;\n    this._formBuilder = _formBuilder;\n    this.toastr = toastr;\n    this.datePipe = datePipe;\n    this.spinner = spinner;\n    this.fecha_actual = new Date();\n    this.hora_actual = new Date();\n    this.array = [];\n    this.array_new = [];\n    this.grupo_inventario = [];\n    this.persona_get = [];\n    this.grupo = [];\n    this.integrantes_grupo = [];\n    this.data_inventario = [];\n    this.grupo_create = [];\n    this.panelOpenState = false;\n    this.dataform = '';\n    this.displayedColumns = ['codigo', 'nombre'];\n    this.dataSource = new MatTableDataSource();\n    this.dataSourceWithPageSize = new MatTableDataSource();\n    this.nombre_ventana = \"abmingrupoper.vb\";\n    this.ventana = \"grupo-inventario\";\n    this.detalle = \"grupo-inventario-create\";\n    this.tipo = \"grupo-inventario-CREATE\";\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.data_inventario = this.dataInventario.dataInventario;\n    console.log(this.data_inventario);\n    this.cargarGrupos();\n    this.FormularioData = this.createForm();\n  }\n  GruposInventariosComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.servicioPersona.disparadorDePersonas.subscribe(function (data) {\n      // console.log(\"Recibiendo Persona: \" , data);\n      _this.persona_get = data;\n      _this.array.push(_this.persona_get);\n      _this.dataSource = new MatTableDataSource(_this.array);\n      _this.dataSource.paginator = _this.paginator;\n      _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n    });\n  };\n  GruposInventariosComponent.prototype.createForm = function () {\n    var usuario_logueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    console.log(usuario_logueado);\n    var hour = this.hora_actual.getHours();\n    var minuts = this.hora_actual.getMinutes();\n    var hora_actual_complete = hour + \":\" + minuts;\n    return this._formBuilder.group({\n      // codigo: [this.dataform.codigo],\n      codinvconsol: [this.data_inventario.codigo],\n      nro: [this.dataform.nro, Validators.compose([Validators.required])],\n      obs: [this.dataform.obs],\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      horareg: [hora_actual_complete],\n      usuarioreg: [usuario_logueado]\n    });\n  };\n  GruposInventariosComponent.prototype.submitData = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- /inventario/mant/ingrupoper/\";\n    return this.api.create(\"/inventario/mant/ingrupoper/\" + this.userConn, data).subscribe({\n      next: function (datav) {\n        _this.grupo_create = datav;\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.onNoClick();\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 1500);\n        _this.toastr.success('Guardado con Exito! ðŸŽ‰');\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! NO SE GUARDO !');\n      },\n      complete: function () {}\n    });\n  };\n  GruposInventariosComponent.prototype.agregarPersonas = function () {\n    // console.log(this.array);\n    // {\n    //   \"codgrupoper\": 0,\n    //   \"codpersona\": 0\n    // }\n    // mapeo que cambia un valor de un array\n    this.array_new.map(function (dato) {\n      console.log(dato);\n      dato.codgrupoper = \"store\";\n      dato.codpersona = \"store\";\n    });\n  };\n  GruposInventariosComponent.prototype.cargarGrupos = function () {\n    var _this = this;\n    var code = this.data_inventario.codigo;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/inventario/mant/ingrupoper/\";\n    return this.api.getAll('/inventario/mant/ingrupoper/' + this.userConn + \"/\" + code).subscribe({\n      next: function (datav) {\n        _this.grupo = datav;\n        console.log(_this.grupo);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  GruposInventariosComponent.prototype.cargarIntegrantesGrupo = function (codigo_grupo) {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/inventario/mant/ingrupoper1/\";\n    return this.api.getAll('/inventario/mant/ingrupoper1/' + this.userConn + \"/\" + codigo_grupo).subscribe({\n      next: function (datav) {\n        _this.integrantes_grupo = datav;\n        console.log(_this.integrantes_grupo);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  GruposInventariosComponent.prototype.catalogoPepersona = function (codigo_grupo) {\n    this.dialog.open(CatalogoPersonaComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        codigo_grupo: codigo_grupo\n      }\n    });\n  };\n  GruposInventariosComponent.prototype.eliminar = function () {\n    this.array.pop();\n    console.log(this.array);\n    this.dataSource = new MatTableDataSource(this.array);\n    this.dataSource.paginator = this.paginator;\n    this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\n  };\n  GruposInventariosComponent.prototype.eliminarGrupo = function (element) {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/mant/ingrupoper/ Delete\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: element\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/inventario/mant/ingrupoper/' + _this.userConn + \"/\" + element).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            _this.cargarGrupos();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  GruposInventariosComponent.prototype.eliminarGrupoPersona = function (integrante_codigo) {\n    var _this = this;\n    console.log(integrante_codigo.codgrupoper, integrante_codigo.codpersona);\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/mant/ingrupoper1/ Delete\";\n    var ventana = \"grupo-inventario\";\n    var detalle = \"grupo-inventario-delete\";\n    var tipo = \"grupo-inventario-DELETE\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: integrante_codigo\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/inventario/mant/ingrupoper1/' + _this.userConn + \"/\" + integrante_codigo.codgrupoper + \"/\" + integrante_codigo.codpersona).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            _this.cargarGrupos();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  GruposInventariosComponent.prototype.onNoClick = function () {\n    this.dialogRef.close();\n  };\n  GruposInventariosComponent.prototype.close = function () {\n    this.dialogRef.close();\n  };\n  GruposInventariosComponent.Éµfac = function GruposInventariosComponent_Factory(t) {\n    return new (t || GruposInventariosComponent)(i0.ÉµÉµdirectiveInject(i1.MatDialog), i0.ÉµÉµdirectiveInject(i2.ServicePersonaService), i0.ÉµÉµdirectiveInject(i1.MatDialogRef), i0.ÉµÉµdirectiveInject(i3.ApiService), i0.ÉµÉµdirectiveInject(MAT_DIALOG_DATA), i0.ÉµÉµdirectiveInject(i4.LogService), i0.ÉµÉµdirectiveInject(i5.FormBuilder), i0.ÉµÉµdirectiveInject(i6.ToastrService), i0.ÉµÉµdirectiveInject(i7.DatePipe), i0.ÉµÉµdirectiveInject(i8.NgxSpinnerService));\n  };\n  GruposInventariosComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: GruposInventariosComponent,\n    selectors: [[\"app-grupos-inventarios\"]],\n    viewQuery: function GruposInventariosComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµviewQuery(_c0, 5);\n        i0.ÉµÉµviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ÉµÉµqueryRefresh(_t = i0.ÉµÉµloadQuery()) && (ctx.paginator = _t.first);\n        i0.ÉµÉµqueryRefresh(_t = i0.ÉµÉµloadQuery()) && (ctx.paginatorPageSize = _t.first);\n      }\n    },\n    decls: 33,\n    vars: 4,\n    consts: [[1, \"p-2\"], [2, \"background-color\", \"#f0f0f0\"], [2, \"font-size\", \"0.8rem\"], [1, \"col\"], [2, \"float\", \"right\"], [\"color\", \"primary\", 3, \"click\"], [2, \"height\", \"50vh !important\"], [2, \"height\", \"45.5vh !important\"], [\"label\", \"Crear Grupo\"], [1, \"example-form\", 2, \"margin-bottom\", \"30px\", 3, \"formGroup\", \"ngSubmit\"], [2, \"padding-right\", \"19px\", \"padding-top\", \"9px\"], [\"type\", \"text\", \"formControlName\", \"nro\", \"maxlength\", \"6\", \"required\", \"\"], [2, \"padding-right\", \"5px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"obs\", \"maxlength\", \"15\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 2, \"float\", \"right\", \"margin-top\", \"4px\", 3, \"disabled\"], [1, \"fa\", \"fa-save\"], [\"label\", \"Ver Grupos\"], [4, \"ngFor\", \"ngForOf\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [3, \"opened\", \"closed\", \"click\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"mat-raised-button\", \"\", 1, \"success\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [1, \"row\"], [1, \"col-md-10\"], [1, \"col-md-2\", 2, \"float\", \"right !important\"], [\"mat-mini-fab\", \"\", 2, \"width\", \"20px\", \"height\", \"20px\", 3, \"click\"], [2, \"font-size\", \"0.9rem\", \"margin-block-start\", \"10px\"]],\n    template: function GruposInventariosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"mat-card-header\")(3, \"mat-card-title\", 2);\n        i0.ÉµÉµtext(4, \"Grupo de Personas\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"mat-icon\", 5);\n        i0.ÉµÉµlistener(\"click\", function GruposInventariosComponent_Template_mat_icon_click_7_listener() {\n          return ctx.close();\n        });\n        i0.ÉµÉµtext(8, \"close\");\n        i0.ÉµÉµelementEnd()()()();\n        i0.ÉµÉµelementStart(9, \"mat-card-content\", 6)(10, \"mat-tab-group\", 7)(11, \"mat-tab\", 8);\n        i0.ÉµÉµelement(12, \"br\");\n        i0.ÉµÉµelementStart(13, \"form\", 9);\n        i0.ÉµÉµlistener(\"ngSubmit\", function GruposInventariosComponent_Template_form_ngSubmit_13_listener() {\n          return ctx.submitData();\n        });\n        i0.ÉµÉµelementStart(14, \"mat-label\", 10)(15, \"u\");\n        i0.ÉµÉµtext(16, \"Grupo Nro\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelement(17, \"input\", 11);\n        i0.ÉµÉµelementStart(18, \"mat-label\", 12)(19, \"u\");\n        i0.ÉµÉµtext(20, \"Observaci\\u00F3n\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelement(21, \"input\", 13)(22, \"br\");\n        i0.ÉµÉµelementStart(23, \"button\", 14);\n        i0.ÉµÉµelement(24, \"i\", 15);\n        i0.ÉµÉµtext(25, \" Grabar \");\n        i0.ÉµÉµelementEnd()()();\n        i0.ÉµÉµelementStart(26, \"mat-tab\", 16)(27, \"mat-accordion\");\n        i0.ÉµÉµtemplate(28, GruposInventariosComponent_ng_container_28_Template, 23, 3, \"ng-container\", 17);\n        i0.ÉµÉµelementEnd()()()()()();\n        i0.ÉµÉµelementStart(29, \"ngx-spinner\", 18);\n        i0.ÉµÉµelement(30, \"br\");\n        i0.ÉµÉµelementStart(31, \"p\", 19);\n        i0.ÉµÉµtext(32, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ÉµÉµelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ÉµÉµadvance(13);\n        i0.ÉµÉµproperty(\"formGroup\", ctx.FormularioData);\n        i0.ÉµÉµadvance(10);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.FormularioData.valid);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngForOf\", ctx.grupo);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [i7.NgForOf, i5.ÉµNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MaxLengthValidator, i5.FormGroupDirective, i5.FormControlName, i9.MatLabel, i10.MatButton, i10.MatMiniFabButton, i8.NgxSpinnerComponent, i11.MatCard, i11.MatCardContent, i11.MatCardHeader, i11.MatCardTitle, i12.MatAccordion, i12.MatExpansionPanel, i12.MatExpansionPanelHeader, i12.MatExpansionPanelTitle, i12.MatExpansionPanelDescription, i13.MatIcon, i14.MatTab, i14.MatTabGroup],\n    styles: [\".tg[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n}\\n\\n.mat-mdc-header-row[_ngcontent-%COMP%] {\\n  background: #093070;\\n}\\n\\n.th1[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #fff;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%] {\\n  height: calc(1.4rem + 0px) !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\n.mat-mdc-tab-body-wrapper[_ngcontent-%COMP%] {\\n  height: 25vh !important;\\n}\\n\\n.mat-mdc-tab-body-content[_ngcontent-%COMP%] {\\n  height: 25vh !important;\\n}\\n/*# sourceURL=webpack://./src/app/components/inventario/toma-inventario-consolidado/grupos-inventarios/grupos-inventarios/grupos-inventarios.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9pbnZlbnRhcmlvL3RvbWEtaW52ZW50YXJpby1jb25zb2xpZGFkby9ncnVwb3MtaW52ZW50YXJpb3MvZ3J1cG9zLWludmVudGFyaW9zL2dydXBvcy1pbnZlbnRhcmlvcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFDQTtFQUNFLG1CQUFBO0FBRUY7O0FBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUFHRjs7QUFEQTtFQUNFLGtCQUFBO0FBSUY7O0FBRkE7RUFDRSxxQ0FBQTtBQUtGOztBQUhBO0VBQ0UsbUNBQUE7QUFNRjs7QUFKQTtFQUNFLHVCQUFBO0FBT0Y7O0FBTEE7RUFDRSx1QkFBQTtBQVFGIiwic291cmNlc0NvbnRlbnQiOlsiLnRnIHtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XG59XG5cbi5tYXQtbWRjLWhlYWRlci1yb3cge1xuICBiYWNrZ3JvdW5kOiAjMDkzMDcwO1xufVxuXG4udGgxIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2ZmZjtcbn1cblxudGQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLXJvdyB7XG4gIGhlaWdodDogY2FsYygxLjRyZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYmxlIC5tZGMtZGF0YS10YWJsZV9fcm93IHtcbiAgaGVpZ2h0OiBjYWxjKDByZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtbWRjLXRhYi1ib2R5LXdyYXBwZXIge1xuICBoZWlnaHQ6IDI1dmggIWltcG9ydGFudDtcbn1cblxuLm1hdC1tZGMtdGFiLWJvZHktY29udGVudCB7XG4gIGhlaWdodDogMjV2aCAhaW1wb3J0YW50O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n  return GruposInventariosComponent;\n}();\nexport { GruposInventariosComponent };","map":{"version":3,"mappings":"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","names":["Validators","MAT_DIALOG_DATA","MatTableDataSource","DialogDeleteComponent","CatalogoPersonaComponent","i0","dialog","servicioPersona","dialogRef","api","dataInventario","log_module","_formBuilder","toastr","datePipe","spinner","Date","userConn","localStorage","getItem","undefined","JSON","parse","data_inventario","console","log","cargarGrupos","FormularioData","createForm","GruposInventariosComponent","disparadorDePersonas","subscribe","_this","persona_get","data","array","push","dataSource","paginator","dataSourceWithPageSize","paginatorPageSize","usuario_logueado","hour","hora_actual","getHours","minuts","getMinutes","hora_actual_complete","group","codinvconsol","codigo","nro","dataform","compose","required","obs","fechareg","transform","fecha_actual","horareg","usuarioreg","value","errorMessage","create","next","datav","grupo_create","guardarLog","ventana","detalle","tipo","onNoClick","show","setTimeout","hide","success","error","err","complete","array_new","map","dato","codgrupoper","codpersona","code","getAll","grupo","codigo_grupo","integrantes_grupo","open","width","height","pop","element","dataUsuarioEdit","afterClosed","result","delete","integrante_codigo","close","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\inventario\\toma-inventario-consolidado\\grupos-inventarios\\grupos-inventarios\\grupos-inventarios.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\inventario\\toma-inventario-consolidado\\grupos-inventarios\\grupos-inventarios\\grupos-inventarios.component.html"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { ServicePersonaService } from '@components/mantenimiento/persona-catalogo/service-persona/service-persona.service';\r\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\r\nimport { ApiService } from '@services/api.service';\r\nimport { LogService } from '@services/log-service.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CatalogoPersonaComponent } from '../../catalogo-persona/catalogo-persona.component';\r\n\r\n@Component({\r\n  selector: 'app-grupos-inventarios',\r\n  templateUrl: './grupos-inventarios.component.html',\r\n  styleUrls: ['./grupos-inventarios.component.scss']\r\n})\r\nexport class GruposInventariosComponent implements OnInit {\r\n\r\n  FormularioData: FormGroup;\r\n  fecha_actual = new Date();\r\n  hora_actual = new Date();\r\n\r\n  array: any = [];\r\n  array_new: any = [];\r\n  grupo_inventario: any = [];\r\n  persona_get: any = [];\r\n  grupo: any = [];\r\n  integrantes_grupo: any = [];\r\n  data_inventario: any = [];\r\n  grupo_create: any = [];\r\n  data: [];\r\n  panelOpenState = false; \r\n  userConn: any;\r\n  dataform:any='';\r\n\r\n  displayedColumns = ['codigo','nombre'];\r\n\r\n  dataSource = new MatTableDataSource();\r\n  dataSourceWithPageSize = new MatTableDataSource();\r\n\r\n  @ViewChild('paginator') paginator: MatPaginator;\r\n  @ViewChild('paginatorPageSize') paginatorPageSize: MatPaginator;\r\n\r\n  nombre_ventana: string = \"abmingrupoper.vb\";\r\n   \r\n  public ventana=\"grupo-inventario\"\r\n  public detalle=\"grupo-inventario-create\";\r\n  public tipo = \"grupo-inventario-CREATE\";\r\n\r\n  constructor(public dialog: MatDialog, public servicioPersona: ServicePersonaService, public dialogRef: MatDialogRef<GruposInventariosComponent>,\r\n    private api: ApiService, @Inject(MAT_DIALOG_DATA) public dataInventario: any, public log_module: LogService,private _formBuilder: FormBuilder,\r\n    private toastr: ToastrService, private datePipe: DatePipe,private spinner: NgxSpinnerService) {\r\n    \r\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n\r\n    this.data_inventario = this.dataInventario.dataInventario;\r\n    console.log(this.data_inventario);\r\n\r\n    this.cargarGrupos();\r\n    this.FormularioData = this.createForm();\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.servicioPersona.disparadorDePersonas.subscribe(data =>{\r\n      // console.log(\"Recibiendo Persona: \" , data);\r\n      this.persona_get = data;\r\n\r\n      this.array.push(this.persona_get);\r\n      this.dataSource = new MatTableDataSource(this.array);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n    });\r\n\r\n  }\r\n\r\n  createForm(): FormGroup{\r\n    let usuario_logueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\r\n    console.log(usuario_logueado);\r\n\r\n    let hour = this.hora_actual.getHours();\r\n    let minuts = this.hora_actual.getMinutes();\r\n    let hora_actual_complete = hour + \":\" + minuts;  \r\n\r\n    return this._formBuilder.group({\r\n      // codigo: [this.dataform.codigo],\r\n      codinvconsol: [this.data_inventario.codigo],\r\n      nro: [this.dataform.nro, Validators.compose([Validators.required])],\r\n      obs: [this.dataform.obs],\r\n      fechareg: [this.datePipe.transform(this.fecha_actual,\"yyyy-MM-dd\")],\r\n      horareg: [hora_actual_complete],\r\n      usuarioreg: [usuario_logueado],\r\n    });\r\n  }\r\n\r\n  submitData(){\r\n  let data = this.FormularioData.value;\r\n  let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:-- /inventario/mant/ingrupoper/\";\r\n  \r\n  return this.api.create(\"/inventario/mant/ingrupoper/\"+this.userConn, data)\r\n    .subscribe({\r\n      next: (datav) => {\r\n        this.grupo_create = datav;\r\n        \r\n          this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\r\n          this.onNoClick();\r\n          this.spinner.show();\r\n            setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1500);\r\n          this.toastr.success('Guardado con Exito! ðŸŽ‰');      \r\n      },\r\n  \r\n      error: (err) => { \r\n        console.log(err, errorMessage);\r\n        this.toastr.error('! NO SE GUARDO !');\r\n\r\n      },\r\n      complete: () => { }\r\n    })\r\n  }\r\n\r\n  agregarPersonas(){\r\n    // console.log(this.array);\r\n\r\n    // {\r\n    //   \"codgrupoper\": 0,\r\n    //   \"codpersona\": 0\r\n    // }\r\n\r\n    // mapeo que cambia un valor de un array\r\n    this.array_new.map(function (dato) {\r\n      console.log(dato);\r\n      \r\n      dato.codgrupoper = \"store\";\r\n      dato.codpersona = \"store\";\r\n\r\n    })\r\n  }\r\n\r\n  cargarGrupos(){ \r\n    let code = this.data_inventario.codigo;\r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/inventario/mant/ingrupoper/\"\r\n\r\n    return this.api.getAll('/inventario/mant/ingrupoper/'+this.userConn+\"/\"+code)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.grupo = datav;\r\n          console.log(this.grupo);\r\n        },\r\n    \r\n        error: (err: any) => { \r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  cargarIntegrantesGrupo(codigo_grupo){ \r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET -/inventario/mant/ingrupoper1/\"\r\n\r\n    return this.api.getAll('/inventario/mant/ingrupoper1/'+this.userConn+\"/\"+codigo_grupo)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.integrantes_grupo = datav;\r\n          console.log(this.integrantes_grupo);\r\n        },\r\n    \r\n        error: (err: any) => { \r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  catalogoPepersona(codigo_grupo) { \r\n    this.dialog.open(CatalogoPersonaComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data:{codigo_grupo:codigo_grupo},\r\n    });\r\n  }\r\n\r\n  eliminar(){ \r\n    this.array.pop();\r\n    console.log(this.array);\r\n\r\n    this.dataSource = new MatTableDataSource(this.array);\r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n  }\r\n\r\n  eliminarGrupo(element){\r\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:- /inventario/mant/ingrupoper/ Delete\";\r\n\r\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\r\n      width: 'auto',\r\n      height:'auto',\r\n      data:{dataUsuarioEdit:element},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\r\n      if(result){\r\n        return this.api.delete('/inventario/mant/ingrupoper/'+this.userConn+\"/\"+element)\r\n        .subscribe({\r\n          next: () => {\r\n            this.log_module.guardarLog(this.ventana, this.detalle, this.tipo);\r\n            \r\n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\r\n            this.cargarGrupos();\r\n          },\r\n          error: (err: any) => { \r\n            console.log(err, errorMessage);\r\n            this.toastr.error('! NO ELIMINADO !');\r\n          },\r\n          complete: () => { }\r\n        })\r\n      }else{\r\n        this.toastr.error('! CANCELADO !');\r\n      }\r\n    });\r\n  }\r\n\r\n  eliminarGrupoPersona(integrante_codigo) {\r\n    console.log(integrante_codigo.codgrupoper, integrante_codigo.codpersona);\r\n    \r\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:- /inventario/mant/ingrupoper1/ Delete\";\r\n\r\n    let ventana=\"grupo-inventario\"\r\n    let detalle=\"grupo-inventario-delete\";\r\n    let tipo = \"grupo-inventario-DELETE\";\r\n\r\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\r\n      width: 'auto',\r\n      height:'auto',\r\n      data:{dataUsuarioEdit:integrante_codigo},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\r\n      if(result) {\r\n        return this.api.delete('/inventario/mant/ingrupoper1/'+this.userConn+\"/\"+integrante_codigo.codgrupoper+\"/\"+integrante_codigo.codpersona)\r\n        .subscribe({\r\n          next: () => {\r\n            this.log_module.guardarLog(ventana, detalle, tipo);\r\n            \r\n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\r\n            this.cargarGrupos();\r\n          },\r\n          error: (err: any) => { \r\n            console.log(err, errorMessage);\r\n            this.toastr.error('! NO ELIMINADO !');\r\n          },\r\n          complete: () => { }\r\n        })\r\n      }else{\r\n        this.toastr.error('! CANCELADO !');\r\n      }\r\n    });\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  close(){ \r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"p-2\">\r\n  <mat-card style=\"background-color: #f0f0f0;\">\r\n    <mat-card-header>\r\n      <mat-card-title style=\"font-size: 0.8rem;\">Grupo de Personas</mat-card-title>\r\n      <div class=\"col\">\r\n        <div style=\"float: right;\">\r\n          <mat-icon color=\"primary\" (click)=\"close()\">close</mat-icon>\r\n        </div>\r\n      </div>\r\n    </mat-card-header>\r\n\r\n    <mat-card-content style=\"height: 50vh !important;\">\r\n      <mat-tab-group style=\"height: 45.5vh !important;\">\r\n        <mat-tab label=\"Crear Grupo\"><br>\r\n          <form class=\"example-form\" [formGroup]=\"FormularioData\" (ngSubmit)=\"submitData()\"\r\n            style=\"margin-bottom: 30px;\">\r\n\r\n            <mat-label style=\"padding-right: 19px;padding-top: 9px;\"><u>Grupo Nro</u></mat-label>\r\n            <input type=\"text\" formControlName=\"nro\" maxlength=\"6\" required>\r\n\r\n            <mat-label style=\"padding-right: 5px;padding-top: 7px;\"><u>ObservaciÃ³n</u></mat-label>\r\n            <input type=\"text\" formControlName=\"obs\" maxlength=\"15\"><br>\r\n\r\n            <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"!FormularioData.valid\"\r\n              style=\"float: right;margin-top: 4px;\">\r\n              <i class=\"fa fa-save\"></i> Grabar\r\n            </button>\r\n          </form>\r\n        </mat-tab>\r\n\r\n        <mat-tab label=\"Ver Grupos\">\r\n          <mat-accordion>\r\n            <ng-container *ngFor=\"let grupos of grupo\">\r\n              <mat-expansion-panel (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\"\r\n                (click)=\"cargarIntegrantesGrupo(grupos.codigo)\">\r\n                <!--<mat-expansion-panel (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\"> -->\r\n\r\n                <mat-expansion-panel-header>\r\n                  <mat-panel-title>\r\n                    <strong>Grupo #</strong> {{ grupos.nro }}\r\n                  </mat-panel-title>\r\n                  <mat-panel-description>\r\n                    <button mat-raised-button class=\"danger\" (click)=\"eliminarGrupo(grupos.codigo)\"><i\r\n                        class=\"fa fa-trash\"></i></button>\r\n                    <!-- {{panelOpenState ? 'open' : 'closed'}} -->\r\n                  </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n\r\n                <p><strong><u>Integrantes</u></strong></p>\r\n                <ng-container *ngFor=\"let integrantes_grupos of integrantes_grupo\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-10\">\r\n                      <span>{{ integrantes_grupos.codpersona }} - {{ integrantes_grupos.nomPersona }}</span>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-2\" style=\"float: right !important;\">\r\n                      <button mat-mini-fab style=\"width: 20px;height: 20px;\"\r\n                        (click)=\"eliminarGrupoPersona(integrantes_grupos);\">\r\n                        <mat-icon style=\"font-size: 0.9rem;margin-block-start: 10px;\">delete</mat-icon>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </ng-container>\r\n\r\n                <p><strong><u>Observaciones</u></strong></p>\r\n                <p>{{ grupos.obs }}</p>\r\n\r\n                <button mat-raised-button class=\"success\" (click)=\"catalogoPepersona(grupos.codigo)\"><i\r\n                    class=\"fa fa-plus\"></i></button>\r\n\r\n                <!-- <ng-container *ngIf=\"tabla\">\r\n                  <div class=\"col\">\r\n                    <table class=\"tg\">\r\n                      <div class=\"col-lg\">\r\n                        <div class=\"team p-2 scrollmenu\">\r\n                          <div class=\"col-lg-12 pr-lg-4\" style=\"width: 100%;overflow-x: auto;\">\r\n                            <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows matSort\r\n                              class=\"mat-elevation-z8\">\r\n\r\n                              <ng-container matColumnDef=\"codigo\">\r\n                                <th mat-header-cell *matHeaderCellDef class=\"th1\"> Codigo </th>\r\n                                <td mat-cell *matCellDef=\"let element\"> {{ element.persona.codigo }} </td>\r\n                              </ng-container>\r\n\r\n                              <ng-container matColumnDef=\"nombre\">\r\n                                <th mat-header-cell *matHeaderCellDef class=\"th1\"> Nombre </th>\r\n                                <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\">\r\n                                  {{ element.persona.descrip }}\r\n                                </td>\r\n                              </ng-container>\r\n\r\n                              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n                            </table>\r\n                            <mat-paginator #paginator [pageSizeOptions]=\"[5, 10, 15]\" showFirstLastButtons>\r\n                            </mat-paginator>\r\n\r\n                            <div style=\"float: left;\">\r\n                              <button mat-raised-button class=\"secondary\" (click)=\"catalogoPepersona()\"><i\r\n                                  class=\"fa fa-plus\"></i></button>\r\n                            </div>\r\n\r\n                            <div style=\"float: right;\">\r\n                              <button mat-raised-button class=\"secondary\" (click)=\"eliminar()\"><i\r\n                                  class=\"fa fa-minus\"></i></button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <button mat-raised-button color=\"primary\" style=\"float: right;margin-top: 4px;\"\r\n                        (click)=\"agregarPersonas()\">\r\n                        <i class=\"fa fa-save\"></i> Agregar Persona\r\n                      </button>\r\n                    </table>\r\n                  </div>\r\n                </ng-container> -->\r\n              </mat-expansion-panel>\r\n            </ng-container>\r\n          </mat-accordion>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n\r\n<ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\" [fullScreen]=\"true\"><br>\r\n  <p style=\"font-size: 25px; color: rgb(9,48,112,)\">ðŸ”© Cargando... ðŸ”©</p>\r\n</ngx-spinner>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}