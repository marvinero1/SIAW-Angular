{"ast":null,"code":"import { CatalogoProformasComponent } from '../transacciones/proforma/catalogo-proformas/catalogo-proformas.component';\nimport { CatalogoCotizacionComponent } from '../transacciones/cotizacion/catalogo-cotizacion/catalogo-cotizacion.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@services/api.service\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"../transacciones/proforma/sevicio-catalogo-proformas/servicio-catalogo-proformas.service\";\nimport * as i6 from \"./servicio-transfe-a-proforma/servicio-transfe-a-proforma.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/material/slide-toggle\";\nimport * as i11 from \"@angular/material/card\";\nimport * as i12 from \"@angular/material/icon\";\nfunction ModalTransfeProformaComponent_ng_container_40_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ModalTransfeProformaComponent_ng_container_40_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.transferirProforma());\n    });\n    i0.ɵɵelement(2, \"i\", 24);\n    i0.ɵɵtext(3, \" Transferir Proforma \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.id_proformas);\n  }\n}\nfunction ModalTransfeProformaComponent_ng_container_41_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ModalTransfeProformaComponent_ng_container_41_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.transferirCotizaciones());\n    });\n    i0.ɵɵelement(2, \"i\", 24);\n    i0.ɵɵtext(3, \" Transferir Cotizaci\\u00F3n \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.id_cotizaciones);\n  }\n}\nvar ModalTransfeProformaComponent = /** @class */function () {\n  function ModalTransfeProformaComponent(dialog, api, dialogRef, spinner, toastr, servicioCatalogoProformas, servicioTransfeProformaCotizacion) {\n    this.dialog = dialog;\n    this.api = api;\n    this.dialogRef = dialogRef;\n    this.spinner = spinner;\n    this.toastr = toastr;\n    this.servicioCatalogoProformas = servicioCatalogoProformas;\n    this.servicioTransfeProformaCotizacion = servicioTransfeProformaCotizacion;\n    this.transferir_get = [];\n    this.id_numero_id_proforma = [];\n    this.cotizaciones = [];\n    this.isCheckedProformas = true;\n    this.isCheckedCotizaciones = false;\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n  }\n  ModalTransfeProformaComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    //CatalogoProforma\n    this.servicioCatalogoProformas.disparadorDeIDProforma.subscribe(function (data) {\n      console.log(\"Recibiendo Proforma: \", data);\n      _this.id_numero_id_proforma = data;\n      _this.id_proformas = data.proforma.id;\n    });\n    //\n    //CatalogoCotizacion\n    this.servicioCatalogoProformas.disparadorDeIDCotizacion.subscribe(function (data) {\n      console.log(\"Recibiendo Cotizacion: \", data);\n      _this.cotizaciones = data;\n      _this.id_cotizaciones = data.cotizacion.id;\n    });\n    //\n  };\n\n  ModalTransfeProformaComponent.prototype.transferirProforma = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --vedescuento/catalogo\";\n    return this.api.getAll('/venta/transac/veproforma/transfDatosProforma/' + this.userConn + \"/\" + this.id_proformas + \"/\" + this.numero_id_proformas).subscribe({\n      next: function (datav) {\n        _this.transferir_get = datav;\n        console.log(_this.transferir_get);\n        _this.toastr.success('! TRANSFERENCIA EN PROGESO ! ✅');\n        _this.transferirProformaAProforma(_this.transferir_get);\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 1500);\n        _this.close();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! TRANSFERENCIA FALLO ! ❌');\n      },\n      complete: function () {\n        _this.close();\n      }\n    });\n  };\n  ModalTransfeProformaComponent.prototype.transferirCotizaciones = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --vedescuento/catalogo\";\n    return this.api.getAll('/venta/transac/veproforma/transfDatosCotizacion/' + this.userConn + \"/\" + this.id_cotizaciones + \"/\" + this.numero_id_cotizaciones).subscribe({\n      next: function (datav) {\n        _this.transferir_get = datav;\n        console.log(_this.transferir_get);\n        _this.toastr.success('! TRANSFERENCIA EN PROGESO ! ✅');\n        _this.transferirACotizacion(_this.transferir_get);\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 1500);\n        _this.close();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! TRANSFERENCIA FALLO ! ❌');\n      },\n      complete: function () {}\n    });\n  };\n  ModalTransfeProformaComponent.prototype.proformaHabilitar = function () {\n    console.log(this.isCheckedCotizaciones);\n    if (!this.isCheckedCotizaciones) {\n      this.isCheckedProformas = true;\n    } else {\n      this.isCheckedProformas = false;\n      this.id_proformas = \"\";\n    }\n  };\n  ModalTransfeProformaComponent.prototype.cotizacionHabilitar = function () {\n    console.log(this.isCheckedProformas);\n    if (!this.isCheckedProformas) {\n      this.isCheckedCotizaciones = true;\n    } else {\n      this.isCheckedCotizaciones = false;\n      this.id_cotizaciones = \"\";\n    }\n  };\n  ModalTransfeProformaComponent.prototype.transferirProformaAProforma = function (proforma_get) {\n    this.servicioTransfeProformaCotizacion.disparadorDeProformaTransferir.emit({\n      proforma_transferir: proforma_get\n    });\n  };\n  ModalTransfeProformaComponent.prototype.transferirACotizacion = function (cotizacion_get) {\n    this.servicioTransfeProformaCotizacion.disparadorDeCotizacionTransferir.emit({\n      cotizacion_transferir: cotizacion_get\n    });\n  };\n  ModalTransfeProformaComponent.prototype.modalCatalogoProformas = function () {\n    this.dialog.open(CatalogoProformasComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  ModalTransfeProformaComponent.prototype.modalCatalogoCotizaciones = function () {\n    this.dialog.open(CatalogoCotizacionComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  ModalTransfeProformaComponent.prototype.close = function () {\n    this.dialogRef.close();\n  };\n  ModalTransfeProformaComponent.ɵfac = function ModalTransfeProformaComponent_Factory(t) {\n    return new (t || ModalTransfeProformaComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.ServicioCatalogoProformasService), i0.ɵɵdirectiveInject(i6.ServicioTransfeAProformaService));\n  };\n  ModalTransfeProformaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalTransfeProformaComponent,\n    selectors: [[\"app-modal-transfe-proforma\"]],\n    decls: 42,\n    vars: 15,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-9\"], [2, \"font-size\", \"0.75rem\"], [1, \"col-md-3\", \"float-right\"], [1, \"text-right\"], [\"color\", \"primary\", 3, \"click\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [1, \"p-2\"], [1, \"col-md-4\"], [1, \"example-margin\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [1, \"col-md-8\"], [1, \"input-group\"], [\"type\", \"text\", 2, \"width\", \"30%\", 3, \"disabled\", \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"form-control-sm\", 2, \"border-color\", \"#093070\", \"padding\", \"5px\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-search\"], [\"type\", \"text\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", 3, \"disabled\", \"ngModel\", \"ngModelChange\"], [2, \"text-align\", \"center\"], [4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-paper-plane\"]],\n    template: function ModalTransfeProformaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"mat-card-title\", 4);\n        i0.ɵɵtext(6, \"Transferir a Proforma\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"mat-icon\", 7);\n        i0.ɵɵlistener(\"click\", function ModalTransfeProformaComponent_Template_mat_icon_click_9_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵtext(10, \"close\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(11, \"ngx-spinner\", 8);\n        i0.ɵɵelement(12, \"br\");\n        i0.ɵɵelementStart(13, \"p\", 9);\n        i0.ɵɵtext(14, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 2)(17, \"div\", 11)(18, \"mat-slide-toggle\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_mat_slide_toggle_ngModelChange_18_listener($event) {\n          return ctx.isCheckedProformas = $event;\n        })(\"click\", function ModalTransfeProformaComponent_Template_mat_slide_toggle_click_18_listener() {\n          return ctx.cotizacionHabilitar();\n        });\n        i0.ɵɵtext(19, \" DE PROFORMAS: \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 13)(21, \"div\", 14)(22, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.id_proformas = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 16)(24, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ModalTransfeProformaComponent_Template_button_click_24_listener() {\n          return ctx.modalCatalogoProformas();\n        });\n        i0.ɵɵelement(25, \"i\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.numero_id_proformas = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(27, \"div\", 2)(28, \"div\", 11)(29, \"mat-slide-toggle\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_mat_slide_toggle_ngModelChange_29_listener($event) {\n          return ctx.isCheckedCotizaciones = $event;\n        })(\"click\", function ModalTransfeProformaComponent_Template_mat_slide_toggle_click_29_listener() {\n          return ctx.proformaHabilitar();\n        });\n        i0.ɵɵtext(30, \" DE COTIZACIONES: \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 13)(32, \"div\", 14)(33, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_input_ngModelChange_33_listener($event) {\n          return ctx.id_cotizaciones = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 16)(35, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ModalTransfeProformaComponent_Template_button_click_35_listener() {\n          return ctx.modalCatalogoCotizaciones();\n        });\n        i0.ɵɵelement(36, \"i\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalTransfeProformaComponent_Template_input_ngModelChange_37_listener($event) {\n          return ctx.numero_id_cotizaciones = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementStart(39, \"div\", 21);\n        i0.ɵɵtemplate(40, ModalTransfeProformaComponent_ng_container_40_Template, 4, 1, \"ng-container\", 22);\n        i0.ɵɵtemplate(41, ModalTransfeProformaComponent_ng_container_41_Template, 4, 1, \"ng-container\", 22);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"fullScreen\", true);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.isCheckedProformas);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isCheckedCotizaciones)(\"ngModel\", ctx.id_proformas);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.isCheckedCotizaciones);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.numero_id_proformas)(\"disabled\", ctx.isCheckedCotizaciones);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.isCheckedCotizaciones);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isCheckedProformas)(\"ngModel\", ctx.id_cotizaciones);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.isCheckedProformas);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.isCheckedProformas)(\"ngModel\", ctx.numero_id_cotizaciones);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isCheckedProformas);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isCheckedCotizaciones);\n      }\n    },\n    dependencies: [i7.NgIf, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i9.MatButton, i3.NgxSpinnerComponent, i10.MatSlideToggle, i11.MatCardTitle, i12.MatIcon],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n  return ModalTransfeProformaComponent;\n}();\nexport { ModalTransfeProformaComponent };","map":{"version":3,"mappings":"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","names":["CatalogoProformasComponent","CatalogoCotizacionComponent","i0","dialog","api","dialogRef","spinner","toastr","servicioCatalogoProformas","servicioTransfeProformaCotizacion","userConn","localStorage","getItem","undefined","JSON","parse","ModalTransfeProformaComponent","disparadorDeIDProforma","subscribe","console","log","data","_this","id_numero_id_proforma","id_proformas","proforma","id","disparadorDeIDCotizacion","cotizaciones","id_cotizaciones","cotizacion","errorMessage","getAll","numero_id_proformas","next","datav","transferir_get","success","transferirProformaAProforma","show","setTimeout","hide","close","error","err","complete","numero_id_cotizaciones","transferirACotizacion","isCheckedCotizaciones","isCheckedProformas","proforma_get","disparadorDeProformaTransferir","emit","proforma_transferir","cotizacion_get","disparadorDeCotizacionTransferir","cotizacion_transferir","open","width","height","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\modal-transfe-proforma\\modal-transfe-proforma.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\modal-transfe-proforma\\modal-transfe-proforma.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { ApiService } from '@services/api.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ToastrService } from 'ngx-toastr';\nimport { CatalogoProformasComponent } from '../transacciones/proforma/catalogo-proformas/catalogo-proformas.component';\nimport { CatalogoCotizacionComponent } from '../transacciones/cotizacion/catalogo-cotizacion/catalogo-cotizacion.component';\nimport { ServicioCatalogoProformasService } from '../transacciones/proforma/sevicio-catalogo-proformas/servicio-catalogo-proformas.service';\nimport { ServicioTransfeAProformaService } from './servicio-transfe-a-proforma/servicio-transfe-a-proforma.service';\n@Component({\n  selector: 'app-modal-transfe-proforma',\n  templateUrl: './modal-transfe-proforma.component.html',\n  styleUrls: ['./modal-transfe-proforma.component.scss']\n})\nexport class ModalTransfeProformaComponent implements OnInit {\n\n  transferir_get: any = [];\n  id_numero_id_proforma: any = [];\n  cotizaciones: any = [];\n\n  id_proformas: any;\n  numero_id_proformas: any;\n  id_cotizaciones: any;\n  numero_id_cotizaciones: any;\n  userConn: any;\n\n  isCheckedProformas: boolean = true;\n  isCheckedCotizaciones: boolean = false;\n\n  constructor(public dialog: MatDialog, private api: ApiService,\n    public dialogRef: MatDialogRef<ModalTransfeProformaComponent>,\n    private spinner: NgxSpinnerService, private toastr: ToastrService,\n    public servicioCatalogoProformas: ServicioCatalogoProformasService,\n    public servicioTransfeProformaCotizacion: ServicioTransfeAProformaService) {\n\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n  }\n\n  ngOnInit() {\n    //CatalogoProforma\n    this.servicioCatalogoProformas.disparadorDeIDProforma.subscribe(data => {\n      console.log(\"Recibiendo Proforma: \", data);\n      this.id_numero_id_proforma = data;\n      this.id_proformas = data.proforma.id;\n    });\n    //\n\n    //CatalogoCotizacion\n    this.servicioCatalogoProformas.disparadorDeIDCotizacion.subscribe(data => {\n      console.log(\"Recibiendo Cotizacion: \", data);\n      this.cotizaciones = data;\n      this.id_cotizaciones = data.cotizacion.id;\n    });\n    //\n  }\n\n  transferirProforma() {\n    let errorMessage: string = \"La Ruta o el servidor presenta fallos al hacer peticion GET --vedescuento/catalogo\";\n\n    return this.api.getAll('/venta/transac/veproforma/transfDatosProforma/' + this.userConn + \"/\" + this.id_proformas + \"/\" + this.numero_id_proformas)\n      .subscribe({\n        next: (datav) => {\n          this.transferir_get = datav;\n          console.log(this.transferir_get);\n          this.toastr.success('! TRANSFERENCIA EN PROGESO ! ✅');\n\n          this.transferirProformaAProforma(this.transferir_get);\n          this.spinner.show();\n          setTimeout(() => {\n            this.spinner.hide();\n          }, 1500);\n          this.close();\n        },\n        error: (err: any) => {\n          console.log(err, errorMessage);\n          this.toastr.error('! TRANSFERENCIA FALLO ! ❌');\n        },\n        complete: () => {\n          this.close();\n        }\n      })\n  }\n\n  transferirCotizaciones() {\n    let errorMessage: string = \"La Ruta o el servidor presenta fallos al hacer peticion GET --vedescuento/catalogo\";\n\n    return this.api.getAll('/venta/transac/veproforma/transfDatosCotizacion/' + this.userConn + \"/\" + this.id_cotizaciones + \"/\" + this.numero_id_cotizaciones)\n      .subscribe({\n        next: (datav) => {\n          this.transferir_get = datav;\n          console.log(this.transferir_get);\n          this.toastr.success('! TRANSFERENCIA EN PROGESO ! ✅');\n\n          this.transferirACotizacion(this.transferir_get);\n          this.spinner.show();\n          setTimeout(() => {\n            this.spinner.hide();\n          }, 1500);\n          this.close();\n        },\n        error: (err: any) => {\n          console.log(err, errorMessage);\n          this.toastr.error('! TRANSFERENCIA FALLO ! ❌');\n        },\n        complete: () => { }\n      })\n  }\n\n  proformaHabilitar() {\n    console.log(this.isCheckedCotizaciones);\n\n    if (!this.isCheckedCotizaciones) {\n      this.isCheckedProformas = true;\n    } else {\n      this.isCheckedProformas = false;\n      this.id_proformas = \"\";\n    }\n  }\n\n  cotizacionHabilitar() {\n    console.log(this.isCheckedProformas);\n\n    if (!this.isCheckedProformas) {\n      this.isCheckedCotizaciones = true;\n    } else {\n      this.isCheckedCotizaciones = false;\n      this.id_cotizaciones = \"\";\n    }\n  }\n\n  transferirProformaAProforma(proforma_get) {\n    this.servicioTransfeProformaCotizacion.disparadorDeProformaTransferir.emit({\n      proforma_transferir: proforma_get,\n    });\n  }\n\n  transferirACotizacion(cotizacion_get) {\n    this.servicioTransfeProformaCotizacion.disparadorDeCotizacionTransferir.emit({\n      cotizacion_transferir: cotizacion_get,\n    });\n  }\n\n  modalCatalogoProformas(): void {\n    this.dialog.open(CatalogoProformasComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n\n  modalCatalogoCotizaciones(): void {\n    this.dialog.open(CatalogoCotizacionComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n}\n","<section class=\"content\">\n  <div class=\"container-fluid\"><br>\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <mat-card-title style=\"font-size: 0.75rem;\">Transferir a Proforma</mat-card-title>\n      </div>\n      <div class=\"col-md-3 float-right\">\n        <div class=\"text-right\">\n          <mat-icon color=\"primary\" (click)=\"close();\">close</mat-icon>\n        </div>\n      </div>\n    </div>\n\n    <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\" [fullScreen]=\"true\">\n      <br>\n      <p style=\"font-size: 25px; color: rgb(9,48,112,)\">🔩 Cargando... 🔩</p>\n    </ngx-spinner>\n\n    <div class=\"p-2\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <mat-slide-toggle class=\"example-margin\" [(ngModel)]=\"isCheckedProformas\" (click)=\"cotizacionHabilitar();\">\n            DE PROFORMAS: </mat-slide-toggle>\n        </div>\n        <div class=\"col-md-8\">\n          <div class=\"input-group\">\n            <input type=\"text\" [disabled]=\"isCheckedCotizaciones\" [(ngModel)]=\"id_proformas\" style=\"width: 30%;\">\n\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-primary form-control-sm\" type=\"button\" [disabled]=\"isCheckedCotizaciones\"\n                style=\"border-color: #093070;padding: 5px;\" (click)=\"modalCatalogoProformas();\"><i\n                  class=\"fa fa-search\"></i>\n              </button>\n            </div>\n            <input type=\"text\" [(ngModel)]=\"numero_id_proformas\" [disabled]=\"isCheckedCotizaciones\">\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <mat-slide-toggle class=\"example-margin\" [(ngModel)]=\"isCheckedCotizaciones\" (click)=\"proformaHabilitar();\">\n            DE COTIZACIONES:\n          </mat-slide-toggle>\n        </div>\n        <div class=\"col-md-8\">\n          <div class=\"input-group\">\n            <input type=\"text\" [disabled]=\"isCheckedProformas\" [(ngModel)]=\"id_cotizaciones\" style=\"width: 30%;\">\n\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-primary form-control-sm\" type=\"button\" [disabled]=\"isCheckedProformas\"\n                style=\"border-color: #093070;padding: 5px;\" (click)=\"modalCatalogoCotizaciones();\"><i\n                  class=\"fa fa-search\"></i>\n              </button>\n            </div>\n            <input type=\"text\" [disabled]=\"isCheckedProformas\" [(ngModel)]=\"numero_id_cotizaciones\">\n          </div>\n        </div>\n      </div><br>\n\n      <div style=\"text-align: center;\">\n        <ng-container *ngIf=\"isCheckedProformas\">\n          <button mat-raised-button color=\"primary\" (click)=\"transferirProforma();\" [disabled]=\"!id_proformas\">\n            <i class=\"fa fa-paper-plane\" aria-hidden=\"true\"></i> Transferir Proforma\n          </button>\n        </ng-container>\n\n        <ng-container *ngIf=\"isCheckedCotizaciones\">\n          <button mat-raised-button color=\"primary\" (click)=\"transferirCotizaciones();\" [disabled]=\"!id_cotizaciones\">\n            <i class=\"fa fa-paper-plane\" aria-hidden=\"true\"></i> Transferir Cotización\n          </button>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}