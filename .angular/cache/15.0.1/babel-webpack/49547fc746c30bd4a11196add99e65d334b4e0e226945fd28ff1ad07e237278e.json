{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/api.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../serviciosItem/item-service.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/paginator\";\nimport * as i12 from \"@angular/material/sort\";\nvar _c0 = [\"paginator\"];\nvar _c1 = [\"paginatorPageSize\"];\nfunction ModalItemsComponent_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 31);\n    i0.ɵɵtext(2, \"NO VENTA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ModalItemsComponent_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 32);\n    i0.ɵɵtext(2, \"SI VENTA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ModalItemsComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" C\\u00F3digo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalItemsComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵlistener(\"click\", function ModalItemsComponent_td_43_Template_td_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r16);\n      var element_r14 = restoredCtx.$implicit;\n      var ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.getinMatrizByID(element_r14.codigo));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.codigo, \"\");\n  }\n}\nfunction ModalItemsComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalItemsComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 35);\n    i0.ɵɵlistener(\"click\", function ModalItemsComponent_td_46_Template_td_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r19);\n      var element_r17 = restoredCtx.$implicit;\n      var ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.getinMatrizByID(element_r17.codigo));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.descripcion, \"\");\n  }\n}\nfunction ModalItemsComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Medida \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalItemsComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 35);\n    i0.ɵɵlistener(\"click\", function ModalItemsComponent_td_49_Template_td_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r22);\n      var element_r20 = restoredCtx.$implicit;\n      var ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.getinMatrizByID(element_r20.codigo));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.medida, \"\");\n  }\n}\nfunction ModalItemsComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 36);\n  }\n}\nfunction ModalItemsComponent_tr_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nvar _c2 = function () {\n  return [15, 25, 30];\n};\nvar ModalItemsComponent = /** @class */function () {\n  function ModalItemsComponent(api, dialogRef, toastr, servicioItem, datePipe, tarifa, descuento, codcliente, codalmacen, desc_linea_seg_solicitud, fecha, codmoneda, itemss) {\n    this.api = api;\n    this.dialogRef = dialogRef;\n    this.toastr = toastr;\n    this.servicioItem = servicioItem;\n    this.datePipe = datePipe;\n    this.tarifa = tarifa;\n    this.descuento = descuento;\n    this.codcliente = codcliente;\n    this.codalmacen = codalmacen;\n    this.desc_linea_seg_solicitud = desc_linea_seg_solicitud;\n    this.fecha = fecha;\n    this.codmoneda = codmoneda;\n    this.itemss = itemss;\n    this.fecha_actual = new Date();\n    this.item_get = [];\n    this.items = [];\n    this.item_valido = [];\n    this.item_obtenido = [];\n    this.empaquesItem = [];\n    this.item_view = [];\n    this.BD_storage = [];\n    this.itemParaTabla = [];\n    this.array_items_proforma_matriz = [];\n    this.array_items_proforma_matriz_concat = [];\n    this.btn_confirmar = false;\n    this.displayedColumns = ['codigo', 'descripcion', 'medida'];\n    this.dataSource = new MatTableDataSource();\n    this.dataSourceWithPageSize = new MatTableDataSource();\n    this.options = [];\n    this.myControlCodigo = new FormControl('');\n    this.myControlDescripcion = new FormControl('');\n    this.myControlMedida = new FormControl('');\n    this.myControlMedidaEnLinea = new FormControl('');\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.BD_storage = localStorage.getItem(\"bd_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"bd_logueado\")) : null;\n    if (this.BD_storage.bd === 'PE') {\n      this.BD_storage.bd = '311';\n    }\n    this.tarifa_get = tarifa.tarifa;\n    this.descuento_get = descuento.descuento;\n    this.codcliente_get = codcliente.codcliente === undefined ? \"0\" : this.codcliente_get;\n    this.codalmacen_get = codalmacen.codalmacen;\n    this.desc_linea_seg_solicitud_get = desc_linea_seg_solicitud.desc_linea_seg_solicitud;\n    this.fecha_get = fecha.fecha;\n    this.codmoneda_get = codmoneda.codmoneda;\n    this.array_items_proforma_matriz = itemss.itemss;\n    console.log(\"TARIFA: \" + this.tarifa_get, \"DESCT: \" + this.descuento_get, \"CODALM: \" + this.codalmacen_get, \"DESCT_LINEA: \" + this.desc_linea_seg_solicitud_get, \"FECHA: \" + this.fecha_get, \"CODMONEDA: \" + this.codmoneda_get);\n    console.log(this.array_items_proforma_matriz);\n  }\n  ModalItemsComponent.prototype.unloadHandler = function (event) {\n    this.mandarItem(this.item_view);\n  };\n  ;\n  ModalItemsComponent.prototype.onDoubleClicked2 = function () {\n    this.mandarItem(this.item_view);\n  };\n  ;\n  ModalItemsComponent.prototype.ngOnInit = function () {\n    this.getCatalogoItems();\n  };\n  ModalItemsComponent.prototype.applyFilter = function (event) {\n    var filterValue = event.target.value;\n    var a = this.dataSource.filter = filterValue.trim().toUpperCase();\n    this.dataSource = this.items.codigo.search(a);\n  };\n  ModalItemsComponent.prototype.applyFilterCodigo = function (event) {\n    var filterValue = event.target.value.toUpperCase();\n    if (!filterValue) {\n      this.dataSource.data = this.items;\n      return;\n    }\n    var filteredItems = this.items.filter(function (item) {\n      return item.codigo.toUpperCase().startsWith(filterValue);\n    });\n    this.dataSource.data = filteredItems;\n  };\n  ModalItemsComponent.prototype.displayFn = function (user) {\n    return user && user.codigo ? user.codigo : '';\n  };\n  ModalItemsComponent.prototype.getCatalogoItems = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --/inventario/mant/initem/catalogo2/\";\n    return this.api.getAll('/inventario/mant/initem/catalogo2/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.items = datav;\n        _this.dataSource = new MatTableDataSource(_this.items);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  ModalItemsComponent.prototype.getinMatrizByID = function (value) {\n    console.log(value);\n    this.item_view = value;\n    var cleanText = value.replace(/\\s+/g, \"\").trim();\n    this.value = cleanText.toUpperCase();\n    console.log(this.value);\n    // this.getlineaProductoID(value);\n    this.validarItemParaVenta(cleanText);\n    // this.getSaldoItem(userConn, this.value)\n  };\n\n  ModalItemsComponent.prototype.validarItemParaVenta = function (value) {\n    var _this = this;\n    var cleanText = value.replace(/\\s+/g, \"\").trim();\n    console.log('item seleccionado:', cleanText);\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/transac/veproforma/getItemParaVta/' + this.userConn + \"/\" + cleanText).subscribe({\n      next: function (datav) {\n        _this.item_valido = datav;\n        console.log('item valido: ', _this.item_valido);\n        if (_this.item_valido == true) {\n          _this.btn_confirmar = true;\n          // this.getlineaProductoID(value);\n        } else {\n          _this.toastr.warning('!ITEM NO VALIDO PARA LA VENTA!');\n          _this.btn_confirmar = false;\n        }\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.warning('SELECCIONE UN ITEM');\n      },\n      complete: function () {}\n    });\n  };\n  ModalItemsComponent.prototype.getlineaProductoID = function (value) {\n    var _this = this;\n    //se le quita el espacio en blanco que tiene\n    var cleanText = value.replace(/\\s+/g, \"\").trim();\n    console.log('item seleccionado:', cleanText);\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/inventario/mant/inmatriz/infoItemRes/' + this.userConn + \"/\" + \"311\" + \"/\" + cleanText).subscribe({\n      next: function (datav) {\n        _this.item_obtenido = datav;\n        // console.log('item seleccionado: ', this.item_obtenido);\n      },\n\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  ModalItemsComponent.prototype.mandarItem = function (item_codigo) {\n    var _this = this;\n    var dataItem = {\n      coditem: item_codigo,\n      tarifa: this.tarifa_get,\n      descuento: this.descuento_get,\n      cantidad_pedida: 0,\n      cantidad: 0,\n      opcion_nivel: \"\",\n      codalmacen: this.codalmacen_get,\n      codcliente: this.codcliente_get === undefined ? \"0\" : this.codcliente_get,\n      desc_linea_seg_solicitud: this.desc_linea_seg_solicitud_get,\n      codmoneda: this.codmoneda_get,\n      fecha: this.fecha_get\n    };\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --/venta/transac/veproforma/getItemMatriz_Anadir\";\n    return this.api.getAll('/venta/transac/veproforma/getItemMatriz_Anadir/' + this.userConn + \"/\" + item_codigo + \"/\" + this.tarifa_get + \"/\" + this.descuento_get + \"/\" + 0 + \"/\" + 0 + \"/\" + this.codcliente_get + \"/\" + \"NO\" + \"/\" + this.BD_storage.bd + \"/\" + \"ANTERIOR\" + \"/\" + this.codmoneda_get + \"/\" + this.fecha_get).subscribe({\n      next: function (datav) {\n        _this.itemParaTabla = datav;\n        console.log(_this.itemParaTabla);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {\n        _this.array_items_proforma_matriz.push(dataItem);\n        _this.array_items_proforma_matriz_concat = _this.array_items_proforma_matriz;\n        _this.enviarItemsAlServicio([_this.itemParaTabla], _this.array_items_proforma_matriz_concat);\n        _this.close();\n      }\n    });\n  };\n  ModalItemsComponent.prototype.enviarItemsAlServicio = function (items, items_sin_proceso) {\n    this.servicioItem.enviarItems(items);\n    this.servicioItem.enviarItemsSinProcesarCatalogo(items_sin_proceso);\n  };\n  // mandarItem(item_view){\n  //   console.log(item_view);\n  //   this.servicioItem.disparadorDeItems.emit({\n  //     item:item_view.codigo,\n  //     cantidad: 0,\n  //     pedido:0,\n  //   });\n  //  this.close();\n  // }\n  ModalItemsComponent.prototype.close = function () {\n    this.dialogRef.close();\n  };\n  ModalItemsComponent.ɵfac = function ModalItemsComponent_Factory(t) {\n    return new (t || ModalItemsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.ItemServiceService), i0.ɵɵdirectiveInject(i5.DatePipe), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n  };\n  ModalItemsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalItemsComponent,\n    selectors: [[\"app-modal-items\"]],\n    viewQuery: function ModalItemsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginatorPageSize = _t.first);\n      }\n    },\n    hostBindings: function ModalItemsComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.enter\", function ModalItemsComponent_keydown_enter_HostBindingHandler() {\n          return ctx.unloadHandler();\n        }, false, i0.ɵɵresolveDocument)(\"dblclick\", function ModalItemsComponent_dblclick_HostBindingHandler() {\n          return ctx.onDoubleClicked2();\n        });\n      }\n    },\n    decls: 54,\n    vars: 12,\n    consts: [[1, \"p-1\"], [1, \"tittle\"], [1, \"p-1\", \"mat-elevation-z8\"], [1, \"row\", \"p-2\", \"text-center\"], [1, \"col-md\", \"pt-2\"], [\"appearance\", \"outline\", 1, \"example-full-width\", 2, \"height\", \"40px\"], [\"type\", \"text\", \"matInput\", \"\", 1, \"input\", 3, \"formControl\", \"keyup\"], [\"input\", \"\"], [\"appearance\", \"outline\", 2, \"height\", \"40px\"], [1, \"row\"], [1, \"col-md-8\", 2, \"padding\", \"15px 20px 2px\"], [4, \"ngIf\"], [1, \"col-md-4\", \"text-center\", \"p-2\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-check\"], [\"mat-stroked-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"fa\", \"fa-times\"], [1, \"col-lg\"], [1, \"team\", \"bg-white\", \"scrollmenu\"], [1, \"col-lg-12\", 2, \"width\", \"100%\", \"overflow-x\", \"auto\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"codigo\", 1, \"ag-theme-alpine\", 2, \"width\", \"50% !important\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 3, \"click\", 4, \"matCellDef\"], [\"matColumnDef\", \"descripcion\", 1, \"ag-theme-alpine\", 2, \"width\", \"40% !important\"], [\"mat-cell\", \"\", \"style\", \"text-align: center;\", 3, \"click\", 4, \"matCellDef\"], [\"matColumnDef\", \"medida\", 1, \"ag-theme-alpine\", 2, \"width\", \"50% !important\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\"], [\"paginator\", \"\"], [2, \"color\", \"rgb(227, 0, 0)\"], [2, \"color\", \"rgb(rgb(22, 234, 22))\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 3, \"click\"], [\"mat-cell\", \"\", 2, \"text-align\", \"center\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function ModalItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtext(2, \"Cat\\u00E1logo de Items\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"mat-form-field\", 5)(7, \"mat-label\");\n        i0.ɵɵtext(8, \"C\\u00F3digo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keyup\", function ModalItemsComponent_Template_input_keyup_9_listener($event) {\n          return ctx.applyFilterCodigo($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"mat-form-field\", 8)(13, \"mat-label\");\n        i0.ɵɵtext(14, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keyup\", function ModalItemsComponent_Template_input_keyup_15_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 4)(18, \"mat-form-field\", 5)(19, \"mat-label\");\n        i0.ɵɵtext(20, \"Medida\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keyup\", function ModalItemsComponent_Template_input_keyup_21_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(23, \"div\", 9)(24, \"div\", 10)(25, \"p\")(26, \"strong\");\n        i0.ɵɵtext(27, \"Item:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, ModalItemsComponent_ng_container_29_Template, 3, 0, \"ng-container\", 11);\n        i0.ɵɵtemplate(30, ModalItemsComponent_ng_container_30_Template, 3, 0, \"ng-container\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 12)(32, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ModalItemsComponent_Template_button_click_32_listener() {\n          return ctx.mandarItem(ctx.item_view);\n        });\n        i0.ɵɵelement(33, \"i\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function ModalItemsComponent_Template_button_click_34_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵelement(35, \"i\", 16);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(36, \"div\", 9)(37, \"div\", 17)(38, \"div\", 18)(39, \"div\", 19)(40, \"table\", 20);\n        i0.ɵɵelementContainerStart(41, 21);\n        i0.ɵɵtemplate(42, ModalItemsComponent_th_42_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(43, ModalItemsComponent_td_43_Template, 2, 1, \"td\", 23);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(44, 24);\n        i0.ɵɵtemplate(45, ModalItemsComponent_th_45_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(46, ModalItemsComponent_td_46_Template, 2, 1, \"td\", 25);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(47, 26);\n        i0.ɵɵtemplate(48, ModalItemsComponent_th_48_Template, 2, 0, \"th\", 22);\n        i0.ɵɵtemplate(49, ModalItemsComponent_td_49_Template, 2, 1, \"td\", 25);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(50, ModalItemsComponent_tr_50_Template, 1, 0, \"tr\", 27);\n        i0.ɵɵtemplate(51, ModalItemsComponent_tr_51_Template, 1, 0, \"tr\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"mat-paginator\", 29, 30);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formControl\", ctx.myControlCodigo);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formControl\", ctx.myControlDescripcion);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formControl\", ctx.myControlMedida);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \\u00A0 \", ctx.item_view, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.btn_confirmar === false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.btn_confirmar === true);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.btn_confirmar === false);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(11, _c2));\n      }\n    },\n    dependencies: [i5.NgIf, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, i7.DefaultValueAccessor, i7.NgControlStatus, i7.FormControlDirective, i8.MatFormField, i8.MatLabel, i9.MatInput, i10.MatButton, i11.MatPaginator, i12.MatSort],\n    styles: [\".tittle[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center;\\n  font-size: 0.7rem;\\n  border-style: solid;\\n  border-color: #ffc107;\\n  background: #093070;\\n}\\n\\n.mat-mdc-header-row[_ngcontent-%COMP%] {\\n  background: #093070;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #fff;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  text-align: left !important;\\n  cursor: pointer;\\n}\\n\\n.input[_ngcontent-%COMP%] {\\n  text-transform: uppercase !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\n.mat-mdc-header-row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\n.mdc-data-table__cell[_ngcontent-%COMP%]:hover::selection {\\n  background: #093070;\\n  color: white;\\n}\\n\\n.mdc-data-table__cell[_ngcontent-%COMP%]:checked, .mdc-data-table__cell[_ngcontent-%COMP%]:hover {\\n  background-color: #093070;\\n  box-shadow: 0 0 10px 100px #093070 inset;\\n  color: white;\\n}\\n/*# sourceURL=webpack://./src/app/components/mantenimiento/ventas/modal-items/modal-items.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tYW50ZW5pbWllbnRvL3ZlbnRhcy9tb2RhbC1pdGVtcy9tb2RhbC1pdGVtcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSwyQkFBQTtFQUNBLGVBQUE7QUFDSjs7QUFFQTtFQUNJLG9DQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQ0FBQTtBQUNKOztBQUVBO0VBQ0ksbUNBQUE7QUFDSjs7QUFFQTtFQUF5QyxtQkFBQTtFQUFxQixZQUFBO0FBRzlEOztBQURBOztFQUVFLHlCQUFBO0VBQ0Esd0NBQUE7RUFBeUMsWUFBQTtBQUszQyIsInNvdXJjZXNDb250ZW50IjpbIi50aXR0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAwLjdyZW07XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci1jb2xvcjogI2ZmYzEwNztcbiAgYmFja2dyb3VuZDogIzA5MzA3MDtcbn1cblxuLm1hdC1tZGMtaGVhZGVyLXJvdyB7XG4gIGJhY2tncm91bmQ6ICMwOTMwNzA7XG59XG5cbnRoIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2ZmZjtcbn1cblxudGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmlucHV0IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LW1kYy10YWJsZSAubWRjLWRhdGEtdGFibGVfX3JvdyB7XG4gIGhlaWdodDogY2FsYygwcmVtICsgMHB4KSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LW1kYy1oZWFkZXItcm93IHtcbiAgaGVpZ2h0OiBjYWxjKDByZW0gKyAwcHgpICFpbXBvcnRhbnQ7XG59XG5cbi5tZGMtZGF0YS10YWJsZV9fY2VsbDpob3Zlcjo6c2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogIzA5MzA3MDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ubWRjLWRhdGEtdGFibGVfX2NlbGw6Y2hlY2tlZCxcbi5tZGMtZGF0YS10YWJsZV9fY2VsbDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwOTMwNzA7XG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IDEwMHB4ICMwOTMwNzAgaW5zZXQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return ModalItemsComponent;\n}();\nexport { ModalItemsComponent };","map":{"version":3,"mappings":"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","names":["FormControl","MAT_DIALOG_DATA","MatTableDataSource","Observable","i0","api","dialogRef","toastr","servicioItem","datePipe","tarifa","descuento","codcliente","codalmacen","desc_linea_seg_solicitud","fecha","codmoneda","itemss","Date","userConn","localStorage","getItem","undefined","JSON","parse","BD_storage","bd","tarifa_get","descuento_get","codcliente_get","codalmacen_get","desc_linea_seg_solicitud_get","fecha_get","codmoneda_get","array_items_proforma_matriz","console","log","ModalItemsComponent","event","mandarItem","item_view","getCatalogoItems","filterValue","target","value","a","dataSource","filter","trim","toUpperCase","items","codigo","search","data","filteredItems","startsWith","user","errorMessage","getAll","subscribe","next","datav","_this","paginator","dataSourceWithPageSize","paginatorPageSize","error","err","complete","cleanText","replace","validarItemParaVenta","item_valido","btn_confirmar","warning","item_obtenido","item_codigo","dataItem","coditem","cantidad_pedida","cantidad","opcion_nivel","itemParaTabla","push","array_items_proforma_matriz_concat","enviarItemsAlServicio","close","items_sin_proceso","enviarItems","enviarItemsSinProcesarCatalogo","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\modal-items\\modal-items.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\modal-items\\modal-items.component.html"],"sourcesContent":["import { Component, HostListener, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService } from '@services/api.service';\r\nimport { Item } from '@services/modelos/objetos';\r\nimport { Observable, map, startWith } from 'rxjs';\r\nimport { ItemServiceService } from '../serviciosItem/item-service.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-modal-items',\r\n  templateUrl: './modal-items.component.html',\r\n  styleUrls: ['./modal-items.component.scss']\r\n})\r\nexport class ModalItemsComponent implements OnInit {\r\n\r\n  @HostListener(\"document:keydown.enter\", []) unloadHandler(event: KeyboardEvent) {\r\n    this.mandarItem(this.item_view);\r\n  };\r\n\r\n  @HostListener('dblclick') onDoubleClicked2() {\r\n    this.mandarItem(this.item_view);\r\n  };\r\n\r\n  fecha_actual = new Date();\r\n  item_get: any = [];\r\n  items: any = [];\r\n  item_valido: any = [];\r\n  item_obtenido: any = [];\r\n  empaquesItem: any = [];\r\n  item_view: any = [];\r\n  BD_storage: any = [];\r\n  itemParaTabla: any = [];\r\n  array_items_proforma_matriz: any = [];\r\n  array_items_proforma_matriz_concat: any = [];\r\n\r\n  userConn: any;\r\n  value: any;\r\n  btn_confirmar: boolean = false;\r\n\r\n  displayedColumns = ['codigo', 'descripcion', 'medida'];\r\n\r\n  dataSource = new MatTableDataSource<Item>();\r\n  dataSourceWithPageSize = new MatTableDataSource();\r\n\r\n  @ViewChild('paginator') paginator: MatPaginator;\r\n  @ViewChild('paginatorPageSize') paginatorPageSize: MatPaginator;\r\n\r\n  options: Item[] = [];\r\n  filteredOptions: Observable<Item[]>;\r\n  myControlCodigo = new FormControl<string | Item>('');\r\n  myControlDescripcion = new FormControl<string | Item>('');\r\n  myControlMedida = new FormControl<string | Item>('');\r\n  myControlMedidaEnLinea = new FormControl<string | Item>('');\r\n\r\n  tarifa_get: any;\r\n  descuento_get: any;\r\n  codcliente_get: any;\r\n  codalmacen_get: any;\r\n  desc_linea_seg_solicitud_get: any;\r\n  fecha_get: any;\r\n  codmoneda_get: any;\r\n\r\n  constructor(private api: ApiService, public dialogRef: MatDialogRef<ModalItemsComponent>, private toastr: ToastrService,\r\n    private servicioItem: ItemServiceService, private datePipe: DatePipe,\r\n    @Inject(MAT_DIALOG_DATA) public tarifa: any, @Inject(MAT_DIALOG_DATA) public descuento: any,\r\n    @Inject(MAT_DIALOG_DATA) public codcliente: any, @Inject(MAT_DIALOG_DATA) public codalmacen: any,\r\n    @Inject(MAT_DIALOG_DATA) public desc_linea_seg_solicitud: any, @Inject(MAT_DIALOG_DATA) public fecha: any,\r\n    @Inject(MAT_DIALOG_DATA) public codmoneda: any, @Inject(MAT_DIALOG_DATA) public itemss: any) {\r\n\r\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n    this.BD_storage = localStorage.getItem(\"bd_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"bd_logueado\")) : null;\r\n\r\n    if (this.BD_storage.bd === 'PE') {\r\n      this.BD_storage.bd = '311'\r\n    }\r\n\r\n    this.tarifa_get = tarifa.tarifa;\r\n    this.descuento_get = descuento.descuento;\r\n    this.codcliente_get = codcliente.codcliente === undefined ? \"0\" : this.codcliente_get;\r\n    this.codalmacen_get = codalmacen.codalmacen;\r\n    this.desc_linea_seg_solicitud_get = desc_linea_seg_solicitud.desc_linea_seg_solicitud;\r\n    this.fecha_get = fecha.fecha;\r\n    this.codmoneda_get = codmoneda.codmoneda;\r\n    this.array_items_proforma_matriz = itemss.itemss;\r\n\r\n    console.log(\"TARIFA: \" + this.tarifa_get,\r\n      \"DESCT: \" + this.descuento_get,\r\n      \"CODALM: \" + this.codalmacen_get,\r\n      \"DESCT_LINEA: \" + this.desc_linea_seg_solicitud_get,\r\n      \"FECHA: \" + this.fecha_get,\r\n      \"CODMONEDA: \" + this.codmoneda_get,\r\n    );\r\n\r\n    console.log(this.array_items_proforma_matriz);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getCatalogoItems();\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    let a = this.dataSource.filter = filterValue.trim().toUpperCase();\r\n\r\n    this.dataSource = this.items.codigo.search(a);\r\n  }\r\n\r\n  applyFilterCodigo(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value.toUpperCase();\r\n\r\n    if (!filterValue) {\r\n      this.dataSource.data = this.items;\r\n      return;\r\n    }\r\n    const filteredItems = this.items.filter(item =>\r\n      item.codigo.toUpperCase().startsWith(filterValue)\r\n    );\r\n    this.dataSource.data = filteredItems;\r\n  }\r\n\r\n  displayFn(user: Item): string {\r\n    return user && user.codigo ? user.codigo : '';\r\n  }\r\n\r\n  getCatalogoItems() {\r\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --/inventario/mant/initem/catalogo2/\";\r\n    return this.api.getAll('/inventario/mant/initem/catalogo2/' + this.userConn)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.items = datav;\r\n          this.dataSource = new MatTableDataSource(this.items);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  getinMatrizByID(value) {\r\n    console.log(value);\r\n\r\n    this.item_view = value;\r\n    const cleanText = value.replace(/\\s+/g, \"\").trim();\r\n\r\n    this.value = cleanText.toUpperCase();\r\n    console.log(this.value);\r\n\r\n    // this.getlineaProductoID(value);\r\n    this.validarItemParaVenta(cleanText);\r\n    // this.getSaldoItem(userConn, this.value)\r\n  }\r\n\r\n  validarItemParaVenta(value) {\r\n    const cleanText = value.replace(/\\s+/g, \"\").trim();\r\n    console.log('item seleccionado:', cleanText);\r\n\r\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\r\n    return this.api.getAll('/venta/transac/veproforma/getItemParaVta/' + this.userConn + \"/\" + cleanText)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.item_valido = datav;\r\n          console.log('item valido: ', this.item_valido);\r\n\r\n          if (this.item_valido == true) {\r\n            this.btn_confirmar = true;\r\n            // this.getlineaProductoID(value);\r\n          } else {\r\n            this.toastr.warning('!ITEM NO VALIDO PARA LA VENTA!');\r\n            this.btn_confirmar = false;\r\n          }\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n          this.toastr.warning('SELECCIONE UN ITEM');\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  getlineaProductoID(value) {\r\n    //se le quita el espacio en blanco que tiene\r\n    const cleanText = value.replace(/\\s+/g, \"\").trim();\r\n    console.log('item seleccionado:', cleanText);\r\n\r\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\r\n    return this.api.getAll('/inventario/mant/inmatriz/infoItemRes/' + this.userConn + \"/\" + \"311\" + \"/\" + cleanText)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.item_obtenido = datav;\r\n          // console.log('item seleccionado: ', this.item_obtenido);\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  mandarItem(item_codigo) {\r\n\r\n    let dataItem: any = {\r\n      coditem: item_codigo,\r\n      tarifa: this.tarifa_get,\r\n      descuento: this.descuento_get,\r\n      cantidad_pedida: 0,\r\n      cantidad: 0,\r\n      opcion_nivel: \"\",\r\n      codalmacen: this.codalmacen_get,\r\n      codcliente: this.codcliente_get === undefined ? \"0\" : this.codcliente_get,\r\n      desc_linea_seg_solicitud: this.desc_linea_seg_solicitud_get,\r\n      codmoneda: this.codmoneda_get,\r\n      fecha: this.fecha_get,\r\n    };\r\n\r\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET --/venta/transac/veproforma/getItemMatriz_Anadir\";\r\n    return this.api.getAll(\r\n      '/venta/transac/veproforma/getItemMatriz_Anadir/' + this.userConn + \"/\" + item_codigo + \"/\" + this.tarifa_get + \"/\" + this.descuento_get + \"/\" + 0 + \"/\" + 0 + \"/\" + this.codcliente_get + \"/\" + \"NO\" + \"/\" + this.BD_storage.bd + \"/\" + \"ANTERIOR\" + \"/\" + this.codmoneda_get + \"/\" + this.fecha_get)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.itemParaTabla = datav;\r\n          console.log(this.itemParaTabla);\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n        },\r\n\r\n        complete: () => {\r\n          this.array_items_proforma_matriz.push(dataItem);\r\n          this.array_items_proforma_matriz_concat = this.array_items_proforma_matriz;\r\n          this.enviarItemsAlServicio([this.itemParaTabla], this.array_items_proforma_matriz_concat);\r\n          this.close();\r\n        }\r\n      })\r\n  }\r\n\r\n  enviarItemsAlServicio(items: any[], items_sin_proceso: any[]) {\r\n    this.servicioItem.enviarItems(items);\r\n\r\n    this.servicioItem.enviarItemsSinProcesarCatalogo(items_sin_proceso);\r\n  }\r\n\r\n  // mandarItem(item_view){\r\n  //   console.log(item_view);\r\n\r\n  //   this.servicioItem.disparadorDeItems.emit({\r\n  //     item:item_view.codigo,\r\n  //     cantidad: 0,\r\n  //     pedido:0,\r\n  //   });\r\n\r\n  //  this.close();\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n}","<div class=\"p-1\">\r\n  <div class=\"tittle\">Catálogo de Items</div>\r\n\r\n  <div class=\"p-1 mat-elevation-z8\">\r\n    <div class=\"row p-2 text-center\">\r\n      <div class=\"col-md pt-2\">\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\" style=\"height: 40px;\">\r\n          <mat-label>Código</mat-label>\r\n          <input type=\"text\" class=\"input\" matInput [formControl]=\"myControlCodigo\" (keyup)=\"applyFilterCodigo($event)\"\r\n            #input>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"col-md pt-2\">\r\n        <mat-form-field appearance=\"outline\" style=\"height: 40px;\">\r\n          <mat-label>Descripción</mat-label>\r\n          <input type=\"text\" matInput class=\"input\" [formControl]=\"myControlDescripcion\" (keyup)=\"applyFilter($event)\"\r\n            #input>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"col-md pt-2\">\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\" style=\"height: 40px;\">\r\n          <mat-label>Medida</mat-label>\r\n          <input type=\"text\" matInput class=\"input\" [formControl]=\"myControlMedida\" (keyup)=\"applyFilter($event)\"\r\n            #input>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- <div class=\"col-md pt-2\">\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\" style=\"height: 40px;\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select disableRipple [formControl]=\"myControlMedidaEnLinea\" (keyup)=\"applyFilter($event)\" #input>\r\n            <mat-option value=\"true\">En Linea</mat-option>\r\n            <mat-option value=\"false\">Fuera de Linea</mat-option>\r\n          </mat-select> \r\n        </mat-form-field>\r\n      </div>   -->\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\" style=\"padding: 15px 20px 2px;\">\r\n        <p><strong>Item:</strong> &nbsp; {{ item_view }} </p>\r\n        <ng-container *ngIf=\"btn_confirmar === false\">\r\n          <span style=\"color: rgb(227, 0, 0);\">NO VENTA</span>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"btn_confirmar === true\">\r\n          <span style=\"color: rgb(rgb(22, 234, 22));\">SI VENTA</span>\r\n        </ng-container>\r\n      </div>\r\n\r\n      <div class=\"col-md-4 text-center p-2\">\r\n        <button mat-stroked-button color=\"primary\" [disabled]=\"btn_confirmar === false\"\r\n          (click)=\"mandarItem(item_view);\">\r\n          <i class=\"fa fa-check\"></i>\r\n        </button>\r\n        <button mat-stroked-button color=\"warn\" (click)=\"close();\"><i class=\"fa fa-times\"></i></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-lg\">\r\n      <div class=\"team bg-white scrollmenu\">\r\n        <div class=\"col-lg-12\" style=\"width: 100%;overflow-x: auto;\">\r\n          <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows class=\"mat-elevation-z8\" matSort>\r\n            <ng-container matColumnDef=\"codigo\" class=\"ag-theme-alpine\" style=\"width: 50% !important;\">\r\n              <th mat-header-cell *matHeaderCellDef> Código </th>\r\n              <td mat-cell *matCellDef=\"let element\" (click)=\"getinMatrizByID(element.codigo);\">\r\n                {{ element.codigo }}</td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"descripcion\" class=\"ag-theme-alpine\" style=\"width: 40% !important;\">\r\n              <th mat-header-cell *matHeaderCellDef> Descripción </th>\r\n              <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\"\r\n                (click)=\"getinMatrizByID(element.codigo);\">\r\n                {{ element.descripcion }}</td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"medida\" class=\"ag-theme-alpine\" style=\"width: 50% !important;\">\r\n              <th mat-header-cell *matHeaderCellDef> Medida </th>\r\n              <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\"\r\n                (click)=\"getinMatrizByID(element.codigo);\">\r\n                {{ element.medida }}</td>\r\n            </ng-container>\r\n\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n          </table>\r\n          <mat-paginator #paginator [pageSizeOptions]=\"[15, 25, 30]\" showFirstLastButtons></mat-paginator>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}