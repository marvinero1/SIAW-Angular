{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { GruposInventariosComponent } from './grupos-inventarios/grupos-inventarios/grupos-inventarios.component';\nimport { SaldosInventarioConsolidadoComponent } from './saldos/saldos-inventario-consolidado/saldos-inventario-consolidado.component';\nimport { CatalogoInventarioComponent } from '../catalogo-inventario/catalogo-inventario.component';\nimport { FormControl } from '@angular/forms';\nimport { ConsolidarInventarioComponent } from './consolidar-inventario/consolidar-inventario.component';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { PermisosEspecialesParametrosComponent } from '@components/seguridad/permisos-especiales-parametros/permisos-especiales-parametros.component';\nimport { NotasAjustesComponent } from './notas-ajustes/notas-ajustes.component';\nimport { ValidarComponent } from './validar/validar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../servicio-inventario/servicio-inventario.service\";\nimport * as i3 from \"@services/api.service\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service\";\nimport * as i7 from \"@services/log-service.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@services/periodoSistema/periodo-sistema.service\";\nimport * as i10 from \"@angular/router\";\nimport * as i11 from \"@angular/material/table\";\nimport * as i12 from \"@angular/forms\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/input\";\nimport * as i15 from \"@angular/material/button\";\nimport * as i16 from \"@angular/material/paginator\";\nimport * as i17 from \"@angular/material/card\";\nimport * as i18 from \"@angular/material/icon\";\nimport * as i19 from \"@angular/material/sort\";\nimport * as i20 from \"@angular/material/tooltip\";\nvar _c0 = [\"paginator\"];\nvar _c1 = [\"paginatorPageSize\"];\nfunction TomaInventarioConsolidadoComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5)(2, \"mat-card\", 6)(3, \"mat-card-header\", 7)(4, \"mat-card-title\", 8);\n    i0.ɵɵtext(5, \"Toma de Inventario Consolidado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 9)(7, \"div\", 10)(8, \"mat-icon\", 11);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_mat_icon_click_8_listener() {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.minimizar());\n    });\n    i0.ɵɵtext(9, \"arrow_drop_down\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-icon\", 11);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_mat_icon_click_10_listener() {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.close());\n    });\n    i0.ɵɵtext(11, \"close\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"mat-card-content\")(13, \"table\", 12)(14, \"tr\")(15, \"th\", 13)(16, \"div\", 14)(17, \"mat-label\", 15)(18, \"u\");\n    i0.ɵɵtext(19, \"ID\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.inventario_catalogo.id = $event);\n    })(\"blur\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_input_blur_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onLeaveIDInventario($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 17)(22, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.catalogoInventario());\n    });\n    i0.ɵɵelement(23, \"i\", 19);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"th\", 13)(25, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.numero_id = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵelementStart(27, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_2_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r3);\n      var ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.verificarExistenciaInventario());\n    });\n    i0.ɵɵelement(28, \"i\", 22);\n    i0.ɵɵtext(29, \" OK\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\u00A0 \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.inventario_catalogo.id);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.numero_id);\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 66)(2, \"button\", 67);\n    i0.ɵɵelement(3, \"i\", 68);\n    i0.ɵɵtext(4, \" Guardar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 69);\n    i0.ɵɵelement(6, \"i\", 70);\n    i0.ɵɵtext(7, \" Eliminar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 71);\n    i0.ɵɵelement(9, \"i\", 72);\n    i0.ɵɵtext(10, \" Limpiar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 71);\n    i0.ɵɵelement(12, \"i\", 73);\n    i0.ɵɵtext(13, \" Grupos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 71);\n    i0.ɵɵelement(15, \"i\", 74);\n    i0.ɵɵtext(16, \" Consolidar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 71);\n    i0.ɵɵelement(18, \"i\", 74);\n    i0.ɵɵtext(19, \" Saldos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 71);\n    i0.ɵɵelement(21, \"i\", 74);\n    i0.ɵɵtext(22, \" Generar Ajustes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.periodoCerrado);\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 66)(2, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.guardar());\n    });\n    i0.ɵɵelement(3, \"i\", 68);\n    i0.ɵɵtext(4, \" Guardar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.eliminar());\n    });\n    i0.ɵɵelement(6, \"i\", 70);\n    i0.ɵɵtext(7, \" Eliminar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r35 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r35.limpiar());\n    });\n    i0.ɵɵelement(9, \"i\", 72);\n    i0.ɵɵtext(10, \" Limpiar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.gruposInventario());\n    });\n    i0.ɵɵelement(12, \"i\", 73);\n    i0.ɵɵtext(13, \" Grupos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.consolidar());\n    });\n    i0.ɵɵelement(15, \"i\", 74);\n    i0.ɵɵtext(16, \" Consolidar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r38 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r38.saldoInventario());\n    });\n    i0.ɵɵelement(18, \"i\", 74);\n    i0.ɵɵtext(19, \" Saldos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r33);\n      var ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.notasAjustes());\n    });\n    i0.ɵɵelement(21, \"i\", 74);\n    i0.ɵɵtext(22, \" Generar Ajustes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.estado_inventario);\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2, \"Estado de Inventario: \\uD83D\\uDFE2 Abierto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2, \"Estado de Inventario: \\uD83D\\uDD34 Cerrado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 78);\n    i0.ɵɵtext(1, \" Item \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 79);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r40.coditem, \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 78);\n    i0.ɵɵtext(1, \" Descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 80);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r41 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r41.descripcion, \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 78);\n    i0.ɵɵtext(1, \" Medida \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 80);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r42 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r42.medida, \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 81);\n    i0.ɵɵtext(1, \" Unidad \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 82);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r43 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r43.udm, \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 81);\n    i0.ɵɵtext(1, \" Cantidad \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 82);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r44 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r44.cantreal, \"1.2-2\"), \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 81);\n    i0.ɵɵtext(1, \" Cantidad Sistema \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_98_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 82);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r45 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r45.cantsist, \"1.2-2\"), \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_th_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 81);\n    i0.ɵɵtext(1, \" Diferencia \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_td_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 82);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var element_r46 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r46.dif, \"1.2-2\"), \" \");\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_tr_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 83);\n  }\n}\nfunction TomaInventarioConsolidadoComponent_ng_container_7_tr_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 84);\n  }\n}\nvar _c2 = function () {\n  return [10, 25, 50, 75];\n};\nfunction TomaInventarioConsolidadoComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5)(2, \"mat-card\", 6)(3, \"mat-card-header\", 7)(4, \"mat-card-title\", 8);\n    i0.ɵɵtext(5, \"Inventario Fisico Consolidado\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"div\", 23)(8, \"div\", 24);\n    i0.ɵɵtemplate(9, TomaInventarioConsolidadoComponent_ng_container_7_ng_container_9_Template, 23, 7, \"ng-container\", 2);\n    i0.ɵɵtemplate(10, TomaInventarioConsolidadoComponent_ng_container_7_ng_container_10_Template, 23, 7, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 25)(12, \"div\", 10);\n    i0.ɵɵtemplate(13, TomaInventarioConsolidadoComponent_ng_container_7_ng_container_13_Template, 3, 0, \"ng-container\", 2);\n    i0.ɵɵtemplate(14, TomaInventarioConsolidadoComponent_ng_container_7_ng_container_14_Template, 3, 0, \"ng-container\", 2);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"table\", 12)(16, \"tr\")(17, \"th\", 13)(18, \"div\", 14)(19, \"mat-label\", 15)(20, \"u\");\n    i0.ɵɵtext(21, \"ID\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"input\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.cabecera.id = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"th\", 13)(24, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.cabecera.numeroid = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"tr\")(26, \"th\", 13)(27, \"mat-label\", 28)(28, \"u\");\n    i0.ɵɵtext(29, \"Fecha Inicio\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.cabecera.fechainicio = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"th\", 13)(32, \"mat-label\", 30)(33, \"u\");\n    i0.ɵɵtext(34, \"Fecha Fin\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"input\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.cabecera.fechafin = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tr\")(37, \"th\", 13)(38, \"mat-label\", 30)(39, \"u\");\n    i0.ɵɵtext(40, \"Responsable\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.cabecera.codpersona = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_42_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.cabecera.descpersona = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"th\", 13)(44, \"mat-label\", 28)(45, \"u\");\n    i0.ɵɵtext(46, \"Almacen\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"input\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_47_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.cabecera.codalmacen = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"tr\")(49, \"th\", 34)(50, \"mat-label\", 35)(51, \"u\");\n    i0.ɵɵtext(52, \"Observacion\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"input\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_ngModelChange_53_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.cabecera.obs = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(54, \"br\");\n    i0.ɵɵelementStart(55, \"div\", 23)(56, \"div\", 37)(57, \"mat-form-field\", 38)(58, \"mat-label\");\n    i0.ɵɵtext(59, \"Buscador Item \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"input\", 39, 40);\n    i0.ɵɵlistener(\"keyup\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_input_keyup_60_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r57.applyFilter($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(62, \"div\", 41)(63, \"div\", 10)(64, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_button_click_64_listener() {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.refreshItems(ctx_r58.cabecera.codigo));\n    });\n    i0.ɵɵelementStart(65, \"mat-icon\", 43);\n    i0.ɵɵtext(66, \"refresh\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"Items \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(68, \"\\u00A0 \");\n    i0.ɵɵelementStart(69, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_button_click_69_listener() {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.abrirPeriodoSistema());\n    });\n    i0.ɵɵelement(70, \"i\", 44);\n    i0.ɵɵtext(71, \" Abrir\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(72, \"\\u00A0 \");\n    i0.ɵɵelementStart(73, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TomaInventarioConsolidadoComponent_ng_container_7_Template_button_click_73_listener() {\n      i0.ɵɵrestoreView(_r49);\n      var ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.cerrarPeriodoSistema());\n    });\n    i0.ɵɵelement(74, \"i\", 45);\n    i0.ɵɵtext(75, \" Cerrar\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(76, \"div\", 23)(77, \"div\", 46)(78, \"div\", 47)(79, \"div\", 48)(80, \"table\", 49);\n    i0.ɵɵelementContainerStart(81, 50);\n    i0.ɵɵtemplate(82, TomaInventarioConsolidadoComponent_ng_container_7_th_82_Template, 2, 0, \"th\", 51);\n    i0.ɵɵtemplate(83, TomaInventarioConsolidadoComponent_ng_container_7_td_83_Template, 2, 1, \"td\", 52);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(84, 53);\n    i0.ɵɵtemplate(85, TomaInventarioConsolidadoComponent_ng_container_7_th_85_Template, 2, 0, \"th\", 51);\n    i0.ɵɵtemplate(86, TomaInventarioConsolidadoComponent_ng_container_7_td_86_Template, 2, 1, \"td\", 54);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(87, 55);\n    i0.ɵɵtemplate(88, TomaInventarioConsolidadoComponent_ng_container_7_th_88_Template, 2, 0, \"th\", 51);\n    i0.ɵɵtemplate(89, TomaInventarioConsolidadoComponent_ng_container_7_td_89_Template, 2, 1, \"td\", 54);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(90, 56);\n    i0.ɵɵtemplate(91, TomaInventarioConsolidadoComponent_ng_container_7_th_91_Template, 2, 0, \"th\", 57);\n    i0.ɵɵtemplate(92, TomaInventarioConsolidadoComponent_ng_container_7_td_92_Template, 2, 1, \"td\", 58);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(93, 59);\n    i0.ɵɵtemplate(94, TomaInventarioConsolidadoComponent_ng_container_7_th_94_Template, 2, 0, \"th\", 57);\n    i0.ɵɵtemplate(95, TomaInventarioConsolidadoComponent_ng_container_7_td_95_Template, 3, 4, \"td\", 58);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(96, 60);\n    i0.ɵɵtemplate(97, TomaInventarioConsolidadoComponent_ng_container_7_th_97_Template, 2, 0, \"th\", 57);\n    i0.ɵɵtemplate(98, TomaInventarioConsolidadoComponent_ng_container_7_td_98_Template, 3, 4, \"td\", 58);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(99, 61);\n    i0.ɵɵtemplate(100, TomaInventarioConsolidadoComponent_ng_container_7_th_100_Template, 2, 0, \"th\", 57);\n    i0.ɵɵtemplate(101, TomaInventarioConsolidadoComponent_ng_container_7_td_101_Template, 3, 4, \"td\", 58);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(102, TomaInventarioConsolidadoComponent_ng_container_7_tr_102_Template, 1, 0, \"tr\", 62);\n    i0.ɵɵtemplate(103, TomaInventarioConsolidadoComponent_ng_container_7_tr_103_Template, 1, 0, \"tr\", 63);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(104, \"mat-card-footer\");\n    i0.ɵɵelement(105, \"mat-paginator\", 64, 65);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.periodoCerrado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.periodoCerrado);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.estado_inventario);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.estado_inventario);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.numeroid);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.fechainicio);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.fechafin);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.codpersona);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.descpersona);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.codalmacen);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.cabecera.obs);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.myControl);\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.dataSource);\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r1.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r1.displayedColumns);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(17, _c2));\n  }\n}\nvar TomaInventarioConsolidadoComponent = /** @class */function () {\n  function TomaInventarioConsolidadoComponent(dialog, servicio_inventario, api, spinner, toastr, nombre_ventana_service, log_module, datePipe, periodoSistema, router) {\n    this.dialog = dialog;\n    this.servicio_inventario = servicio_inventario;\n    this.api = api;\n    this.spinner = spinner;\n    this.toastr = toastr;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.log_module = log_module;\n    this.datePipe = datePipe;\n    this.periodoSistema = periodoSistema;\n    this.router = router;\n    this.fecha_actual = new Date();\n    this.toma_inventario = true;\n    this.inventario_fisico = false;\n    this.numero_id = '';\n    this.inventario_consolidado = [];\n    this.inventario_catalogo = [];\n    this.cabecera = [];\n    this.items = [];\n    this.options = [];\n    this.dato1 = [];\n    this.data_limpiar = [];\n    this.item_limpios = [];\n    this.veriPerAbi = [];\n    this.inventario_get_leave = [];\n    this.periodoCerrado = false;\n    this.myControl = new FormControl('');\n    this.nombre_ventana = \"docininvconsol.vb\";\n    this.ventana = \"Toma de Inventario Consolidado\";\n    this.detalle = \"ActualizarStock-create\";\n    this.tipo = \"ActualizarStock-CREATE\";\n    this.displayedColumns = ['item', 'descripcion', 'medida', 'unidad', 'cantidad', 'cantidad_sistema', 'diferencia'];\n    this.dataSource = new MatTableDataSource();\n    this.dataSourceWithPageSize = new MatTableDataSource();\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.mandarNombre();\n    this.getInventarios();\n  }\n  TomaInventarioConsolidadoComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.servicio_inventario.disparadorDeInventarios.subscribe(function (data) {\n      console.log(\"Recibiendo Inventario: \", data);\n      _this.inventario_catalogo = data.inventario;\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype._filter = function (name) {\n    var filterValue = name.toLowerCase();\n    return this.options.filter(function (option) {\n      return option.codigo.toLowerCase().includes(filterValue);\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.applyFilter = function (event) {\n    var filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  };\n  TomaInventarioConsolidadoComponent.prototype.displayFn = function (user) {\n    return user && user.codigo ? user.codigo : '';\n  };\n  TomaInventarioConsolidadoComponent.prototype.onLeaveIDInventario = function (event) {\n    var inputValue = event.target.value;\n    var Mayusucalas = inputValue.toUpperCase();\n    // Verificar si el valor ingresado está presente en los objetos del array\n    var encontrado = this.inventario_get_leave.some(function (objeto) {\n      return objeto.id === Mayusucalas;\n    });\n    if (!encontrado) {\n      // Si el valor no está en el array, dejar el campo vacío\n      event.target.value = '';\n      console.log(\"NO ENCONTRADO INPUT\");\n    } else {\n      event.target.value = Mayusucalas;\n    }\n    // Puedes realizar otras acciones según tus necesidades\n    console.log('Input perdió el foco', Mayusucalas);\n  };\n  TomaInventarioConsolidadoComponent.prototype.getInventarios = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/oper/prgcrearinv/catalogointipoinv/\";\n    return this.api.getAll('/inventario/oper/prgcrearinv/catalogointipoinv/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.inventario_get_leave = datav;\n        console.log(_this.inventario_get_leave);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.guardar = function () {\n    var _this = this;\n    this.refreshItems(this.cabecera.codigo);\n    var errorMessage = \"Guardar Inventario Consolidado\";\n    var dialogRef = this.dialog.open(ValidarComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        console.log(_this.items);\n        return _this.api.create('/inventario/oper/docininvconsol/addDataininvconsol1/' + _this.userConn + \"/\" + _this.cabecera.codigo, _this.items).subscribe({\n          next: function () {\n            _this.toastr.success('!GUARDADO EXITOSAMENTE!');\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO GUARDO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.eliminar = function () {\n    var _this = this;\n    var codigo = this.cabecera.codigo;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- inventario/oper/docininvconsol/limpiarDataininvconsol1 Delete\";\n    var ventana = \"Toma de Inventario Consolidado-DELETE\";\n    var detalle = \"ActualizarStock-create\";\n    var tipo = \"ActualizarStock-CREATE\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: codigo\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/inventario/oper/docininvconsol/deleteDocInvFisc/' + _this.userConn + \"/\" + codigo).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.limpiar = function () {\n    var _this = this;\n    var dialogRef = this.dialog.open(ValidarComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        // mapeo que cambia un valor de un array\n        _this.items.map(function (dato) {\n          console.log(dato);\n          dato.cantreal = 0;\n          dato.cantsist = 0;\n          dato.codinvconsol = 0;\n          dato.dif = 0;\n        });\n        //spinner\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 1000);\n        _this.actualizarLimpios(_this.items);\n        _this.cargarTablaItems(_this.cabecera.codigo);\n      } else {\n        _this.toastr.error('! NO SE LIMPIO !');\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.actualizarLimpios = function (get_items) {\n    var _this = this;\n    console.log(this.cabecera.codigo, this.items);\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\" + \"Ruta:--  /seg_adm/mant/adusuario Update\";\n    return this.api.update('/inventario/oper/docininvconsol/limpiarDataininvconsol1/' + this.userConn + \"/\" + this.cabecera.codigo, get_items).subscribe({\n      next: function (datav) {\n        _this.data_limpiar = datav;\n        console.log(_this.data_limpiar);\n        _this.toastr.success('! SE LIMPIO EXITOSAMENTE !');\n        _this.dataSource = new MatTableDataSource(get_items);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n      },\n      error: function (err) {\n        _this.toastr.error('! NO SE EDITO !');\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.verificarExistenciaInventario = function () {\n    var _this = this;\n    var fecha_hoy = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\n    var errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/inventario/oper/docininvconsol/existeInventario/' + this.userConn + \"/\" + this.inventario_catalogo.id + \"/\" + this.numero_id).subscribe({\n      next: function (datav) {\n        _this.verificacion = datav;\n        console.log(_this.verificacion);\n        if (_this.verificacion == true) {\n          _this.toma_inventario = false;\n          _this.inventario_fisico = true;\n          _this.cargarCabecera();\n          _this.spinner.show();\n          setTimeout(function () {\n            _this.spinner.hide();\n          }, 1500);\n        } else {\n          _this.toastr.warning('! NO SE ENCONTRO UN INVENTARIO CON ESE NUMERO !');\n        }\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! ERROR !');\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.cargarCabecera = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/inventario/oper/docininvconsol/cargarCabecera/' + this.userConn + \"/\" + this.inventario_catalogo.id + \"/\" + this.numero_id).subscribe({\n      next: function (datav) {\n        _this.cabecera = datav;\n        console.log(_this.cabecera);\n        _this.cabecera_codigo = _this.cabecera.codigo;\n        _this.cargarTablaItems(_this.cabecera.codigo);\n        _this.estadoInventario(_this.cabecera.codigo);\n        _this.api.getVerificarPeriodoAbierto(_this.cabecera.fechafin, 2);\n        _this.verificarPeriodoSistemaReturn();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! ERROR CABECERA !');\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.estadoInventario = function (codigo) {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/inventario/oper/docininvconsol/invFisConsolIfAbierto/' + this.userConn + \"/\" + codigo).subscribe({\n      next: function (datav) {\n        _this.estado_inventario = datav;\n        console.log(_this.estado_inventario);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! ERROR ESTADO !');\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.cargarTablaItems = function (codigo) {\n    var _this = this;\n    console.log(\"CARGAR ITEM\");\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\";\n    return this.api.getAll('/inventario/oper/docininvconsol/mostrardetalle/' + this.userConn + \"/\" + codigo).subscribe({\n      next: function (datav) {\n        _this.items = datav;\n        console.log(_this.items);\n        _this.dataSource = new MatTableDataSource(_this.items);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n        _this.dataSource.data = _this.items;\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.refreshItems = function (codigo) {\n    var _this = this;\n    console.log(\"REFRESCAR ITEM\");\n    var errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\";\n    return this.api.getAll('/inventario/oper/docininvconsol/mostrardetalle/' + this.userConn + \"/\" + codigo).subscribe({\n      next: function (datav) {\n        _this.items = datav;\n        console.log(_this.items);\n        _this.dataSource = new MatTableDataSource(_this.items);\n        _this.dataSource.paginator = _this.paginator;\n        _this.dataSourceWithPageSize.paginator = _this.paginatorPageSize;\n        _this.spinner.show();\n        setTimeout(function () {\n          _this.spinner.hide();\n        }, 500);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! SIN ITEMS !');\n      },\n      complete: function () {}\n    });\n  };\n  // llamarAAFunction() {\n  //   this.cargarTablaItems(this.cabecera.codigo);\n  //   this.refreshItemSer.callRefreshItemFunction();\n  // }\n  TomaInventarioConsolidadoComponent.prototype.abrirPeriodoSistema = function () {\n    var _this = this;\n    var data;\n    var ventana = \"PermisosEspecialesParametros\";\n    var detalle = \" actualizarEstadoAbiertoCerradoTomaInventario-update\";\n    var tipo = \" actualizarEstadoAbiertoCerradoTomaInventario-UPDATE\";\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/oper/docininvconsol/updateAbiertoCerrado/ Update\";\n    var dialogRef = this.dialog.open(PermisosEspecialesParametrosComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataA: this.cabecera.id,\n        dataB: this.cabecera.numeroid,\n        dataPermiso: \"17-RE-ABRIR INVENTARIO FISICO CERRADO\",\n        dataCodigoPermiso: \"17\",\n        abrir: true\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (!result) {\n        return _this.api.update('/inventario/oper/docininvconsol/updateAbiertoCerrado/' + _this.userConn + \"/\" + _this.cabecera.codigo + \"/true\", data).subscribe({\n          next: function (datav) {\n            console.log(datav);\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success(datav.resp);\n            _this.estadoInventario(_this.cabecera.codigo);\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ACTUALIZADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO CLIENTE TRUE !');\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.cerrarPeriodoSistema = function () {\n    var _this = this;\n    console.log(this.cabecera);\n    var data;\n    var ventana = \"PermisosEspecialesParametros\";\n    var detalle = \" actualizarEstadoAbiertoCerradoTomaInventario-update\";\n    var tipo = \" actualizarEstadoAbiertoCerradoTomaInventario-UPDATE\";\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/oper/docininvconsol/updateAbiertoCerrado/ Update\";\n    var dialogRef = this.dialog.open(PermisosEspecialesParametrosComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataA: this.cabecera.id,\n        dataB: this.cabecera.numeroid,\n        dataPermiso: \"17-RE-ABRIR INVENTARIO FISICO CERRADO\",\n        dataCodigoPermiso: \"17\",\n        abrir: true\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (!result) {\n        return _this.api.update('/inventario/oper/docininvconsol/updateAbiertoCerrado/' + _this.userConn + \"/\" + _this.cabecera.codigo + \"/false\", data).subscribe({\n          next: function (datav) {\n            console.log(datav);\n            _this.log_module.guardarLog(ventana, detalle, tipo);\n            _this.toastr.success(datav.resp);\n            _this.estadoInventario(_this.cabecera.codigo);\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ACTUALIZADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO CLIENTE TRUE !');\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.verificarPeriodoSistemaReturn = function () {\n    var _this = this;\n    this.periodoSistema.disparadorDeBooleanoPeriodoSistema.subscribe(function (data) {\n      console.log(\"Recibiendo Valor Periodo Sistema: \", data);\n      _this.veriPerAbi = data.periodo;\n      console.log(_this.veriPerAbi);\n      if (_this.veriPerAbi == true) {\n        _this.periodoCerrado = true;\n      } else {\n        _this.periodoCerrado = false;\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.notasAjustes = function () {\n    this.dialog.open(NotasAjustesComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataInventario: this.cabecera,\n        item_ajustes: this.items\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.catalogoInventario = function () {\n    this.dialog.open(CatalogoInventarioComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.saldoInventario = function () {\n    this.dialog.open(SaldosInventarioConsolidadoComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataCabecera: this.cabecera\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.gruposInventario = function () {\n    this.dialog.open(GruposInventariosComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataInventario: this.cabecera\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.consolidar = function () {\n    this.dialog.open(ConsolidarInventarioComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataInventario: this.cabecera,\n        items_consolidar: this.items\n      }\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.mandarNombre = function () {\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\n      nombre_vent: this.ventana\n    });\n  };\n  TomaInventarioConsolidadoComponent.prototype.minimizar = function () {\n    this.api.ventanaAbiertaCerrada(this.ventana, '/inventario/inventarioFisico/tomaInventario', \"abierto\");\n  };\n  TomaInventarioConsolidadoComponent.prototype.close = function () {\n    this.router.navigate(['/']);\n  };\n  TomaInventarioConsolidadoComponent.ɵfac = function TomaInventarioConsolidadoComponent_Factory(t) {\n    return new (t || TomaInventarioConsolidadoComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ServicioInventarioService), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i6.NombreVentanaService), i0.ɵɵdirectiveInject(i7.LogService), i0.ɵɵdirectiveInject(i8.DatePipe), i0.ɵɵdirectiveInject(i9.PeriodoSistemaService), i0.ɵɵdirectiveInject(i10.Router));\n  };\n  TomaInventarioConsolidadoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TomaInventarioConsolidadoComponent,\n    selectors: [[\"app-toma-inventario-consolidado\"]],\n    viewQuery: function TomaInventarioConsolidadoComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginatorPageSize = _t.first);\n      }\n    },\n    decls: 8,\n    vars: 3,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [4, \"ngIf\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [1, \"p-2\"], [2, \"background-color\", \"#f0f0f0\"], [1, \"mb-1\"], [2, \"font-size\", \"0.8rem\"], [1, \"col\"], [2, \"float\", \"right\"], [\"color\", \"primary\", 3, \"click\"], [1, \"tg\"], [1, \"tg-0lax\"], [1, \"input-group\"], [2, \"padding-right\", \"5px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"required\", \"\", 2, \"width\", \"71% !important\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"input-group-append\"], [\"type\", \"button\", \"matTooltip\", \"Buscar Inventario\", 1, \"btn\", \"btn-outline-primary\", 2, \"border-color\", \"#093070\", \"padding\", \"4px 5px 1px 5px\", \"line-height\", \"0 !important\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [\"type\", \"number\", \"min\", \"0\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"fa\", \"fa-check\"], [1, \"row\"], [1, \"col-md-9\"], [1, \"col-md-3\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"91% !important\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"disabled\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"8px\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"78.7%\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"2px\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"46%\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"10%\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"69%\", 3, \"ngModel\", \"ngModelChange\"], [1, \"tg-0laxs\", 2, \"width\", \"61% !important\"], [2, \"padding-right\", \"4px\"], [\"type\", \"text\", \"disabled\", \"\", 2, \"width\", \"79%\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-4\"], [\"appearance\", \"outline\", 1, \"example-full-width\"], [\"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"Item\", 3, \"formControl\", \"keyup\"], [\"input\", \"\"], [1, \"col-md-8\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"click\"], [2, \"color\", \"rgb(76, 226, 34)\"], [1, \"fa\", \"fa-key\", 2, \"color\", \"rgb(205, 205, 53)\"], [1, \"fa\", \"fa-times\", 2, \"color\", \"red\"], [1, \"col-lg\"], [1, \"team\", \"bg-white\", \"scrollmenu\"], [1, \"col-lg-12\", \"pr-lg-4\", 2, \"width\", \"100%\", \"overflow-x\", \"auto\", \"height\", \"200px\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 2, \"height\", \"44px !important\", 3, \"dataSource\"], [\"matColumnDef\", \"item\"], [\"mat-header-cell\", \"\", \"style\", \"color: #fff;\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"descripcion\"], [\"mat-cell\", \"\", \"style\", \"text-align: center;\", 4, \"matCellDef\"], [\"matColumnDef\", \"medida\"], [\"matColumnDef\", \"unidad\"], [\"mat-header-cell\", \"\", \"class\", \"th1\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"text-align: right;\", 4, \"matCellDef\"], [\"matColumnDef\", \"cantidad\"], [\"matColumnDef\", \"cantidad_sistema\"], [\"matColumnDef\", \"diferencia\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\"], [\"paginator\", \"\"], [\"mat-dialog-actions\", \"\", 1, \"mat-dialog-actions\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\"], [1, \"fa\", \"fa-save\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"disabled\"], [1, \"fa\", \"fa-trash\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"disabled\"], [1, \"fa\", \"fa-eraser\"], [1, \"fa\", \"fa-users\"], [1, \"fa\", \"fa-cog\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"disabled\", \"click\"], [\"mat-header-cell\", \"\", 2, \"color\", \"#fff\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 2, \"text-align\", \"center\"], [\"mat-header-cell\", \"\", 1, \"th1\"], [\"mat-cell\", \"\", 2, \"text-align\", \"right\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function TomaInventarioConsolidadoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, TomaInventarioConsolidadoComponent_ng_container_2_Template, 31, 2, \"ng-container\", 2);\n        i0.ɵɵelementStart(3, \"ngx-spinner\", 3);\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelementStart(5, \"p\", 4);\n        i0.ɵɵtext(6, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, TomaInventarioConsolidadoComponent_ng_container_7_Template, 107, 18, \"ng-container\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.toma_inventario);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"fullScreen\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.inventario_fisico);\n      }\n    },\n    dependencies: [i8.NgIf, i11.MatTable, i11.MatHeaderCellDef, i11.MatHeaderRowDef, i11.MatColumnDef, i11.MatCellDef, i11.MatRowDef, i11.MatHeaderCell, i11.MatCell, i11.MatHeaderRow, i11.MatRow, i12.DefaultValueAccessor, i12.NumberValueAccessor, i12.NgControlStatus, i12.RequiredValidator, i12.MinValidator, i12.FormControlDirective, i12.NgModel, i13.MatFormField, i13.MatLabel, i14.MatInput, i1.MatDialogActions, i15.MatButton, i16.MatPaginator, i4.NgxSpinnerComponent, i17.MatCard, i17.MatCardContent, i17.MatCardFooter, i17.MatCardHeader, i17.MatCardTitle, i18.MatIcon, i19.MatSort, i20.MatTooltip, i8.DecimalPipe],\n    styles: [\".th1[_ngcontent-%COMP%] {\\n  text-align: right;\\n  color: #fff;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%] {\\n  height: calc(1.6rem + 0px) !important;\\n}\\n\\n.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%] {\\n  height: calc(0rem + 0px) !important;\\n}\\n\\n.mat-mdc-header-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%] {\\n  position: sticky;\\n  top: 0;\\n  background-color: #093070;\\n  min-height: 25px !important;\\n}\\n/*# sourceURL=webpack://./src/app/components/inventario/toma-inventario-consolidado/toma-inventario-consolidado.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9pbnZlbnRhcmlvL3RvbWEtaW52ZW50YXJpby1jb25zb2xpZGFkby90b21hLWludmVudGFyaW8tY29uc29saWRhZG8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtFQUNBLFdBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQ0FBQTtBQUNGOztBQUVBO0VBQ0UsbUNBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsTUFBQTtFQUNBLHlCQUFBO0VBQ0EsMkJBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi50aDEge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgY29sb3I6ICNmZmY7XG59XG5cbnRkIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubWF0LW1kYy10YWJsZSAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1yb3cge1xuICBoZWlnaHQ6IGNhbGMoMS42cmVtICsgMHB4KSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LW1kYy10YWJsZSAubWRjLWRhdGEtdGFibGVfX3JvdyB7XG4gIGhlaWdodDogY2FsYygwcmVtICsgMHB4KSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LW1kYy1oZWFkZXItcm93LCAubWF0LWhlYWRlci1yb3cge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICB0b3A6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwOTMwNzA7XG4gIG1pbi1oZWlnaHQ6IDI1cHggIWltcG9ydGFudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return TomaInventarioConsolidadoComponent;\n}();\nexport { TomaInventarioConsolidadoComponent };","map":{"version":3,"mappings":"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","names":["MatTableDataSource","GruposInventariosComponent","SaldosInventarioConsolidadoComponent","CatalogoInventarioComponent","FormControl","ConsolidarInventarioComponent","DialogDeleteComponent","PermisosEspecialesParametrosComponent","NotasAjustesComponent","ValidarComponent","i0","dialog","servicio_inventario","api","spinner","toastr","nombre_ventana_service","log_module","datePipe","periodoSistema","router","Date","userConn","localStorage","getItem","undefined","JSON","parse","mandarNombre","getInventarios","TomaInventarioConsolidadoComponent","disparadorDeInventarios","subscribe","console","log","data","_this","inventario_catalogo","inventario","name","filterValue","toLowerCase","options","filter","codigo","includes","event","target","value","dataSource","trim","user","inputValue","Mayusucalas","toUpperCase","encontrado","inventario_get_leave","some","id","errorMessage","getAll","next","datav","error","err","complete","refreshItems","cabecera","dialogRef","open","width","height","afterClosed","result","items","create","success","ventana","detalle","tipo","dataUsuarioEdit","delete","guardarLog","location","reload","map","dato","cantreal","cantsist","codinvconsol","dif","show","setTimeout","hide","actualizarLimpios","cargarTablaItems","get_items","update","data_limpiar","paginator","dataSourceWithPageSize","paginatorPageSize","fecha_hoy","transform","fecha_actual","numero_id","verificacion","toma_inventario","inventario_fisico","cargarCabecera","warning","cabecera_codigo","estadoInventario","getVerificarPeriodoAbierto","fechafin","verificarPeriodoSistemaReturn","estado_inventario","dataA","dataB","numeroid","dataPermiso","dataCodigoPermiso","abrir","resp","disparadorDeBooleanoPeriodoSistema","veriPerAbi","periodo","periodoCerrado","dataInventario","item_ajustes","dataCabecera","items_consolidar","disparadorDeNombreVentana","emit","nombre_vent","ventanaAbiertaCerrada","navigate","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\inventario\\toma-inventario-consolidado\\toma-inventario-consolidado.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\inventario\\toma-inventario-consolidado\\toma-inventario-consolidado.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { GruposInventariosComponent } from './grupos-inventarios/grupos-inventarios/grupos-inventarios.component';\r\nimport { SaldosInventarioConsolidadoComponent } from './saldos/saldos-inventario-consolidado/saldos-inventario-consolidado.component';\r\nimport { CatalogoInventarioComponent } from '../catalogo-inventario/catalogo-inventario.component';\r\nimport { ServicioInventarioService } from '../servicio-inventario/servicio-inventario.service';\r\nimport { ApiService } from '@services/api.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Item } from '@services/modelos/objetos';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { ConsolidarInventarioComponent } from './consolidar-inventario/consolidar-inventario.component';\r\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\r\nimport { PermisosEspecialesParametrosComponent } from '@components/seguridad/permisos-especiales-parametros/permisos-especiales-parametros.component';\r\nimport { NombreVentanaService } from '@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service';\r\nimport { NotasAjustesComponent } from './notas-ajustes/notas-ajustes.component';\r\nimport { LogService } from '@services/log-service.service';\r\nimport { ValidarComponent } from './validar/validar.component';\r\nimport { DatePipe } from '@angular/common';\r\nimport { PeriodoSistemaService } from '@services/periodoSistema/periodo-sistema.service';\r\nimport { ServiceRefreshItemsService } from './services-refresh-item/service-refresh-items.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-toma-inventario-consolidado',\r\n  templateUrl: './toma-inventario-consolidado.component.html',\r\n  styleUrls: ['./toma-inventario-consolidado.component.scss']\r\n})\r\nexport class TomaInventarioConsolidadoComponent implements OnInit {\r\n\r\n  fecha_actual = new Date();\r\n  toma_inventario: boolean = true;\r\n  inventario_fisico: boolean = false;\r\n  numero_id: string = '';\r\n  verificacion: boolean;\r\n  estado_inventario: boolean;\r\n\r\n  inventario_consolidado: any = [];\r\n  inventario_catalogo: any = [];\r\n  cabecera: any = [];\r\n  items: any = [];\r\n  options: Item[] = [];\r\n  data: [];\r\n  dato1: any = [];\r\n  data_limpiar: any = [];\r\n  item_limpios: any = [];\r\n  veriPerAbi: any = [];\r\n  inventario_get_leave: any = [];\r\n\r\n  userConn: any;\r\n  cabecera_codigo: any;\r\n  periodoCerrado: boolean = false;\r\n\r\n  myControl = new FormControl<string | Item>('');\r\n  filteredOptions: Observable<Item[]>;\r\n\r\n  nombre_ventana: string = \"docininvconsol.vb\";\r\n  public ventana = \"Toma de Inventario Consolidado\"\r\n  public detalle = \"ActualizarStock-create\";\r\n  public tipo = \"ActualizarStock-CREATE\";\r\n\r\n  displayedColumns = ['item', 'descripcion', 'medida', 'unidad', 'cantidad', 'cantidad_sistema', 'diferencia'];\r\n\r\n  dataSource = new MatTableDataSource();\r\n  dataSourceWithPageSize = new MatTableDataSource();\r\n\r\n  @ViewChild('paginator') paginator: MatPaginator;\r\n  @ViewChild('paginatorPageSize') paginatorPageSize: MatPaginator;\r\n\r\n  constructor(public dialog: MatDialog, public servicio_inventario: ServicioInventarioService, private api: ApiService,\r\n    private spinner: NgxSpinnerService, private toastr: ToastrService, public nombre_ventana_service: NombreVentanaService,\r\n    public log_module: LogService, private datePipe: DatePipe, public periodoSistema: PeriodoSistemaService, public router: Router) {\r\n\r\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n\r\n    this.mandarNombre();\r\n    this.getInventarios();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.servicio_inventario.disparadorDeInventarios.subscribe(data => {\r\n      console.log(\"Recibiendo Inventario: \", data);\r\n      this.inventario_catalogo = data.inventario;\r\n    });\r\n  }\r\n\r\n  private _filter(name: string): Item[] {\r\n    const filterValue = name.toLowerCase();\r\n\r\n    return this.options.filter(option => option.codigo.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n  displayFn(user: Item): string {\r\n    return user && user.codigo ? user.codigo : '';\r\n  }\r\n\r\n  onLeaveIDInventario(event: any) {\r\n    const inputValue = event.target.value;\r\n    let Mayusucalas = inputValue.toUpperCase();\r\n\r\n    // Verificar si el valor ingresado está presente en los objetos del array\r\n    const encontrado = this.inventario_get_leave.some(objeto => objeto.id === Mayusucalas);\r\n    if (!encontrado) {\r\n      // Si el valor no está en el array, dejar el campo vacío\r\n      event.target.value = '';\r\n      console.log(\"NO ENCONTRADO INPUT\");\r\n    } else {\r\n      event.target.value = Mayusucalas;\r\n    }\r\n    // Puedes realizar otras acciones según tus necesidades\r\n    console.log('Input perdió el foco', Mayusucalas);\r\n  }\r\n\r\n  getInventarios() {\r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/oper/prgcrearinv/catalogointipoinv/\"\r\n    return this.api.getAll('/inventario/oper/prgcrearinv/catalogointipoinv/' + this.userConn)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.inventario_get_leave = datav;\r\n          console.log(this.inventario_get_leave);\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  guardar() {\r\n    this.refreshItems(this.cabecera.codigo);\r\n    let errorMessage: string = \"Guardar Inventario Consolidado\";\r\n    const dialogRef = this.dialog.open(ValidarComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean) => {\r\n      if (result) {\r\n        console.log(this.items);\r\n\r\n        return this.api.create('/inventario/oper/docininvconsol/addDataininvconsol1/' + this.userConn + \"/\" + this.cabecera.codigo, this.items)\r\n          .subscribe({\r\n            next: () => {\r\n              this.toastr.success('!GUARDADO EXITOSAMENTE!');\r\n            },\r\n            error: (err: any) => {\r\n              console.log(err, errorMessage);\r\n              this.toastr.error('! NO GUARDO !');\r\n            },\r\n            complete: () => { }\r\n          })\r\n      } else {\r\n        this.toastr.error('! CANCELADO !');\r\n      }\r\n    });\r\n  }\r\n\r\n  eliminar() {\r\n    let codigo = this.cabecera.codigo;\r\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- inventario/oper/docininvconsol/limpiarDataininvconsol1 Delete\";\r\n\r\n    let ventana = \"Toma de Inventario Consolidado-DELETE\"\r\n    let detalle = \"ActualizarStock-create\";\r\n    let tipo = \"ActualizarStock-CREATE\";\r\n\r\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: { dataUsuarioEdit: codigo },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean) => {\r\n      if (result) {\r\n        return this.api.delete('/inventario/oper/docininvconsol/deleteDocInvFisc/' + this.userConn + \"/\" + codigo)\r\n          .subscribe({\r\n            next: () => {\r\n              this.log_module.guardarLog(ventana, detalle, tipo);\r\n\r\n              this.toastr.success('!ELIMINADO EXITOSAMENTE!');\r\n              location.reload();\r\n            },\r\n            error: (err: any) => {\r\n              console.log(err, errorMessage);\r\n              this.toastr.error('! NO ELIMINADO !');\r\n            },\r\n            complete: () => { }\r\n          })\r\n      } else {\r\n        this.toastr.error('! CANCELADO !');\r\n      }\r\n    });\r\n  }\r\n\r\n  limpiar() {\r\n    const dialogRef = this.dialog.open(ValidarComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean) => {\r\n      if (result) {\r\n        // mapeo que cambia un valor de un array\r\n        this.items.map(function (dato) {\r\n          console.log(dato);\r\n\r\n          dato.cantreal = 0;\r\n          dato.cantsist = 0;\r\n          dato.codinvconsol = 0;\r\n          dato.dif = 0;\r\n        });\r\n\r\n        //spinner\r\n        this.spinner.show();\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1000);\r\n\r\n        this.actualizarLimpios(this.items);\r\n        this.cargarTablaItems(this.cabecera.codigo);\r\n      } else {\r\n        this.toastr.error('! NO SE LIMPIO !');\r\n      }\r\n    });\r\n  }\r\n\r\n  actualizarLimpios(get_items) {\r\n    console.log(this.cabecera.codigo, this.items);\r\n\r\n    let errorMessage = \"La Ruta o el servidor presenta fallos al hacer la creacion\" + \"Ruta:--  /seg_adm/mant/adusuario Update\";\r\n    return this.api.update('/inventario/oper/docininvconsol/limpiarDataininvconsol1/' + this.userConn + \"/\" + this.cabecera.codigo, get_items)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.data_limpiar = datav;\r\n          console.log(this.data_limpiar);\r\n\r\n          this.toastr.success('! SE LIMPIO EXITOSAMENTE !');\r\n          this.dataSource = new MatTableDataSource(get_items);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n        },\r\n\r\n        error: (err: any) => {\r\n          this.toastr.error('! NO SE EDITO !');\r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  verificarExistenciaInventario() {\r\n    let fecha_hoy = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\r\n    let errorMessage: string = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\r\n    return this.api.getAll('/inventario/oper/docininvconsol/existeInventario/' + this.userConn + \"/\" + this.inventario_catalogo.id + \"/\" + this.numero_id)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.verificacion = datav;\r\n          console.log(this.verificacion);\r\n          if (this.verificacion == true) {\r\n\r\n            this.toma_inventario = false;\r\n            this.inventario_fisico = true;\r\n\r\n            this.cargarCabecera();\r\n\r\n\r\n            this.spinner.show();\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1500);\r\n          } else {\r\n            this.toastr.warning('! NO SE ENCONTRO UN INVENTARIO CON ESE NUMERO !');\r\n          }\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n          this.toastr.error('! ERROR !');\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  cargarCabecera() {\r\n    let errorMessage: string = \"La Ruta presenta fallos al hacer peticion GET\";\r\n    return this.api.getAll('/inventario/oper/docininvconsol/cargarCabecera/' + this.userConn + \"/\" + this.inventario_catalogo.id + \"/\" + this.numero_id)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.cabecera = datav;\r\n          console.log(this.cabecera);\r\n          this.cabecera_codigo = this.cabecera.codigo;\r\n\r\n          this.cargarTablaItems(this.cabecera.codigo);\r\n          this.estadoInventario(this.cabecera.codigo);\r\n          this.api.getVerificarPeriodoAbierto(this.cabecera.fechafin, 2);\r\n          this.verificarPeriodoSistemaReturn();\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n          this.toastr.error('! ERROR CABECERA !');\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  estadoInventario(codigo) {\r\n    let errorMessage: string = \"La Ruta presenta fallos al hacer peticion GET\";\r\n    return this.api.getAll('/inventario/oper/docininvconsol/invFisConsolIfAbierto/' + this.userConn + \"/\" + codigo)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.estado_inventario = datav;\r\n          console.log(this.estado_inventario);\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n          this.toastr.error('! ERROR ESTADO !');\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  cargarTablaItems(codigo) {\r\n    console.log(\"CARGAR ITEM\");\r\n\r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\"\r\n    return this.api.getAll('/inventario/oper/docininvconsol/mostrardetalle/' + this.userConn + \"/\" + codigo)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.items = datav;\r\n          console.log(this.items);\r\n\r\n          this.dataSource = new MatTableDataSource(this.items);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n\r\n          this.dataSource.data = this.items;\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  refreshItems(codigo) {\r\n    console.log(\"REFRESCAR ITEM\");\r\n\r\n    let errorMessage = \"La Ruta presenta fallos al hacer peticion GET --/inventario/mant/inalmacen/catalogo/\"\r\n    return this.api.getAll('/inventario/oper/docininvconsol/mostrardetalle/' + this.userConn + \"/\" + codigo)\r\n      .subscribe({\r\n        next: (datav) => {\r\n          this.items = datav;\r\n          console.log(this.items);\r\n\r\n          this.dataSource = new MatTableDataSource(this.items);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSourceWithPageSize.paginator = this.paginatorPageSize;\r\n\r\n          this.spinner.show();\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 500);\r\n        },\r\n\r\n        error: (err: any) => {\r\n          console.log(err, errorMessage);\r\n          this.toastr.error('! SIN ITEMS !');\r\n\r\n        },\r\n        complete: () => { }\r\n      })\r\n  }\r\n\r\n  // llamarAAFunction() {\r\n  //   this.cargarTablaItems(this.cabecera.codigo);\r\n  //   this.refreshItemSer.callRefreshItemFunction();\r\n  // }\r\n\r\n  abrirPeriodoSistema() {\r\n    let data;\r\n\r\n    let ventana = \"PermisosEspecialesParametros\"\r\n    let detalle = \" actualizarEstadoAbiertoCerradoTomaInventario-update\";\r\n    let tipo = \" actualizarEstadoAbiertoCerradoTomaInventario-UPDATE\";\r\n\r\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/oper/docininvconsol/updateAbiertoCerrado/ Update\";\r\n\r\n    const dialogRef = this.dialog.open(PermisosEspecialesParametrosComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: {\r\n        dataA: this.cabecera.id,\r\n        dataB: this.cabecera.numeroid,\r\n        dataPermiso: \"17-RE-ABRIR INVENTARIO FISICO CERRADO\",\r\n        dataCodigoPermiso: \"17\",\r\n        abrir: true,\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean) => {\r\n      if (!result) {\r\n        return this.api.update('/inventario/oper/docininvconsol/updateAbiertoCerrado/' + this.userConn + \"/\" + this.cabecera.codigo + \"/true\", data)\r\n          .subscribe({\r\n            next: (datav) => {\r\n              console.log(datav);\r\n\r\n              this.log_module.guardarLog(ventana, detalle, tipo);\r\n              this.toastr.success(datav.resp);\r\n              this.estadoInventario(this.cabecera.codigo);\r\n            },\r\n\r\n            error: (err: any) => {\r\n              console.log(err, errorMessage);\r\n              this.toastr.error('! NO ACTUALIZADO !');\r\n            },\r\n            complete: () => { }\r\n          })\r\n      } else {\r\n        this.toastr.error('! CANCELADO CLIENTE TRUE !');\r\n      }\r\n    });\r\n  }\r\n\r\n  cerrarPeriodoSistema() {\r\n    console.log(this.cabecera);\r\n\r\n    let data;\r\n\r\n    let ventana = \"PermisosEspecialesParametros\"\r\n    let detalle = \" actualizarEstadoAbiertoCerradoTomaInventario-update\";\r\n    let tipo = \" actualizarEstadoAbiertoCerradoTomaInventario-UPDATE\";\r\n\r\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /inventario/oper/docininvconsol/updateAbiertoCerrado/ Update\";\r\n\r\n    const dialogRef = this.dialog.open(PermisosEspecialesParametrosComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: {\r\n        dataA: this.cabecera.id,\r\n        dataB: this.cabecera.numeroid,\r\n        dataPermiso: \"17-RE-ABRIR INVENTARIO FISICO CERRADO\",\r\n        dataCodigoPermiso: \"17\",\r\n        abrir: true,\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: Boolean) => {\r\n      if (!result) {\r\n        return this.api.update('/inventario/oper/docininvconsol/updateAbiertoCerrado/' + this.userConn + \"/\" + this.cabecera.codigo + \"/false\", data)\r\n          .subscribe({\r\n            next: (datav) => {\r\n              console.log(datav);\r\n              this.log_module.guardarLog(ventana, detalle, tipo);\r\n              this.toastr.success(datav.resp);\r\n              this.estadoInventario(this.cabecera.codigo);\r\n            },\r\n\r\n            error: (err: any) => {\r\n              console.log(err, errorMessage);\r\n              this.toastr.error('! NO ACTUALIZADO !');\r\n            },\r\n            complete: () => { }\r\n          })\r\n      } else {\r\n        this.toastr.error('! CANCELADO CLIENTE TRUE !');\r\n      }\r\n    });\r\n  }\r\n\r\n  verificarPeriodoSistemaReturn() {\r\n    this.periodoSistema.disparadorDeBooleanoPeriodoSistema.subscribe(data => {\r\n      console.log(\"Recibiendo Valor Periodo Sistema: \", data);\r\n      this.veriPerAbi = data.periodo;\r\n      console.log(this.veriPerAbi);\r\n\r\n      if (this.veriPerAbi == true) {\r\n        this.periodoCerrado = true;\r\n      } else {\r\n        this.periodoCerrado = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  notasAjustes() {\r\n    this.dialog.open(NotasAjustesComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: {\r\n        dataInventario: this.cabecera,\r\n        item_ajustes: this.items,\r\n      },\r\n    });\r\n  }\r\n\r\n  catalogoInventario() {\r\n    this.dialog.open(CatalogoInventarioComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n    });\r\n  }\r\n\r\n  saldoInventario() {\r\n    this.dialog.open(SaldosInventarioConsolidadoComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: { dataCabecera: this.cabecera },\r\n    });\r\n  }\r\n\r\n  gruposInventario() {\r\n    this.dialog.open(GruposInventariosComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: { dataInventario: this.cabecera },\r\n    });\r\n  }\r\n\r\n  consolidar() {\r\n    this.dialog.open(ConsolidarInventarioComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: {\r\n        dataInventario: this.cabecera,\r\n        items_consolidar: this.items,\r\n      },\r\n    });\r\n  }\r\n\r\n  mandarNombre() {\r\n    this.nombre_ventana_service.disparadorDeNombreVentana.emit({\r\n      nombre_vent: this.ventana,\r\n    });\r\n  }\r\n\r\n  minimizar() {\r\n    this.api.ventanaAbiertaCerrada(this.ventana, '/inventario/inventarioFisico/tomaInventario', \"abierto\");\r\n  }\r\n\r\n  close() {\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n}\r\n","<section class=\"content\">\r\n  <div class=\"container-fluid\">\r\n    <ng-container *ngIf=\"toma_inventario\">\r\n      <div class=\"p-2\">\r\n        <mat-card style=\"background-color: #f0f0f0;\">\r\n          <mat-card-header class=\"mb-1\">\r\n            <mat-card-title style=\"font-size: 0.8rem;\">Toma de Inventario Consolidado</mat-card-title>\r\n            <div class=\"col\">\r\n              <div style=\"float: right;\">\r\n                <mat-icon color=\"primary\" (click)=\"minimizar();\">arrow_drop_down</mat-icon>\r\n                <mat-icon color=\"primary\" (click)=\"close();\">close</mat-icon>\r\n              </div>\r\n            </div>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <table class=\"tg\">\r\n              <tr>\r\n                <th class=\"tg-0lax\">\r\n                  <div class=\"input-group\">\r\n                    <mat-label style=\"padding-right: 5px;padding-top: 7px;\"><u>ID</u></mat-label>\r\n                    <input type=\"text\" style=\"width: 71% !important;\" [(ngModel)]=\"inventario_catalogo.id\"\r\n                      (blur)=\"onLeaveIDInventario($event)\" required>\r\n                    <div class=\"input-group-append\">\r\n                      <button class=\"btn btn-outline-primary\" type=\"button\" (click)=\"catalogoInventario()\"\r\n                        style=\"border-color: #093070;padding: 4px 5px 1px 5px;line-height: 0 !important;\"\r\n                        matTooltip=\"Buscar Inventario\">\r\n                        <i class=\"fa fa-search\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </th>\r\n                <th class=\"tg-0lax\">\r\n                  <input type=\"number\" [(ngModel)]=\"numero_id\" min=\"0\" required>\r\n                </th>\r\n              </tr>\r\n            </table><br>\r\n\r\n            <button mat-raised-button color=\"primary\" (click)=\"verificarExistenciaInventario()\"><i\r\n                class=\"fa fa-check\"></i>\r\n              OK</button>&nbsp;\r\n            <!-- <button mat-raised-button class=\"danger\"><i class=\"fa fa-times\"></i> Cancelar</button>&nbsp; -->\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\" [fullScreen]=\"true\">\r\n      <br>\r\n      <p style=\"font-size: 25px; color: rgb(9,48,112,)\">🔩 Cargando... 🔩</p>\r\n    </ngx-spinner>\r\n\r\n    <ng-container *ngIf=\"inventario_fisico\">\r\n      <div class=\"p-2\">\r\n        <mat-card style=\"background-color: #f0f0f0;\">\r\n          <mat-card-header class=\"mb-1\">\r\n            <mat-card-title style=\"font-size: 0.8rem;\">Inventario Fisico Consolidado</mat-card-title>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-9\">\r\n                <ng-container *ngIf=\"!periodoCerrado\">\r\n                  <div class=\"mat-dialog-actions\" mat-dialog-actions>\r\n                    <button mat-raised-button color=\"primary\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-save\"></i>\r\n                      Guardar</button>\r\n                    <button mat-raised-button class=\"danger\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-trash\"></i>\r\n                      Eliminar</button>\r\n                    <button mat-raised-button class=\"secondary\" [disabled]=\"!periodoCerrado\"><i\r\n                        class=\"fa fa-eraser\"></i>\r\n                      Limpiar</button>\r\n                    <button mat-raised-button class=\"secondary\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-users\"></i>\r\n                      Grupos</button>\r\n                    <button mat-raised-button class=\"secondary\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-cog\"></i>\r\n                      Consolidar</button>\r\n                    <button mat-raised-button class=\"secondary\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-cog\"></i>\r\n                      Saldos</button>\r\n                    <button mat-raised-button class=\"secondary\" [disabled]=\"!periodoCerrado\"><i class=\"fa fa-cog\"></i>\r\n                      Generar Ajustes</button>\r\n                  </div>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"periodoCerrado\">\r\n                  <div class=\"mat-dialog-actions\" mat-dialog-actions>\r\n                    <button mat-raised-button color=\"primary\" (click)=\"guardar();\" [disabled]=\"!estado_inventario\"><i\r\n                        class=\"fa fa-save\"></i>\r\n                      Guardar</button>\r\n                    <button mat-raised-button class=\"danger\" (click)=\"eliminar();\" [disabled]=\"!estado_inventario\"><i\r\n                        class=\"fa fa-trash\"></i>\r\n                      Eliminar</button>\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"limpiar();\" [disabled]=\"!estado_inventario\"><i\r\n                        class=\"fa fa-eraser\"></i>\r\n                      Limpiar</button>\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"gruposInventario()\"\r\n                      [disabled]=\"!estado_inventario\"><i class=\"fa fa-users\"></i>\r\n                      Grupos</button>\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"consolidar();\"\r\n                      [disabled]=\"!estado_inventario\"><i class=\"fa fa-cog\"></i>\r\n                      Consolidar</button>\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"saldoInventario()\"\r\n                      [disabled]=\"!estado_inventario\"><i class=\"fa fa-cog\"></i>\r\n                      Saldos</button>\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"notasAjustes();\"\r\n                      [disabled]=\"!estado_inventario\"><i class=\"fa fa-cog\"></i>\r\n                      Generar Ajustes</button>\r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n\r\n              <div class=\"col-md-3\">\r\n                <div style=\"float: right;\">\r\n                  <ng-container *ngIf=\"estado_inventario\">\r\n                    <span>Estado de Inventario: 🟢 Abierto</span>\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"!estado_inventario\">\r\n                    <span>Estado de Inventario: 🔴 Cerrado</span>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <table class=\"tg\">\r\n              <tr>\r\n                <th class=\"tg-0lax\">\r\n                  <div class=\"input-group\">\r\n                    <mat-label style=\"padding-right: 5px;padding-top: 7px;\"><u>ID</u></mat-label>\r\n                    <input type=\"text\" style=\"width: 91% !important;\" [(ngModel)]=\"cabecera.id\" disabled>\r\n                    <!-- <div class=\"input-group-append\">\r\n                    <button class=\"btn btn-outline-primary\" type=\"button\" \r\n                      style=\"border-color: #093070;padding: 4px 5px 1px 5px;line-height: 0 !important;\" matTooltip=\"Buscar Almacen\">\r\n                      <i class=\"fa fa-search\"></i>\r\n                    </button>\r\n                  </div> -->\r\n                  </div>\r\n                </th>\r\n                <th class=\"tg-0lax\">\r\n                  <input type=\"text\" [(ngModel)]=\"cabecera.numeroid\" disabled>\r\n                </th>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th class=\"tg-0lax\">\r\n                  <mat-label style=\"padding-right: 8px;\"><u>Fecha Inicio</u></mat-label>\r\n                  <input type=\"text\" style=\"width: 78.7%;\" [(ngModel)]=\"cabecera.fechainicio\" disabled>\r\n                </th>\r\n                <th class=\"tg-0lax\">\r\n                  <mat-label style=\"padding-right: 2px;\"><u>Fecha Fin</u></mat-label>\r\n                  <input type=\"text\" style=\"width: 46%;\" [(ngModel)]=\"cabecera.fechafin\" disabled>\r\n                </th>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th class=\"tg-0lax\">\r\n                  <mat-label style=\"padding-right: 2px;\"><u>Responsable</u></mat-label>\r\n                  <input type=\"text\" style=\"width: 10%;\" [(ngModel)]=\"cabecera.codpersona\" disabled>\r\n                  <input type=\"text\" style=\"width: 69%;\" [(ngModel)]=\"cabecera.descpersona\" disabled>\r\n                </th>\r\n\r\n                <th class=\"tg-0lax\">\r\n                  <mat-label style=\"padding-right: 8px;\"><u>Almacen</u></mat-label>\r\n                  <input type=\"text\" style=\"width: 46%;\" [(ngModel)]=\"cabecera.codalmacen\" disabled>\r\n                </th>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th class=\"tg-0laxs\" style=\"width: 61% !important;\">\r\n                  <mat-label style=\"padding-right: 4px;\"><u>Observacion</u></mat-label>\r\n                  <input type=\"text\" style=\"width: 79%;\" [(ngModel)]=\"cabecera.obs\" disabled>\r\n                </th>\r\n              </tr><br>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                  <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                    <mat-label>Buscador Item </mat-label>\r\n                    <input type=\"text\" matInput [formControl]=\"myControl\" (keyup)=\"applyFilter($event)\"\r\n                      placeholder=\"Item\" #input>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-md-8\">\r\n                  <div style=\"float: right;\">\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"refreshItems(cabecera.codigo);\">\r\n                      <mat-icon style=\"color: rgb(76, 226, 34);\">refresh</mat-icon>Items\r\n                    </button>&nbsp;\r\n\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"abrirPeriodoSistema();\"><i class=\"fa fa-key\"\r\n                        style=\"color: rgb(205, 205, 53);\"></i>\r\n                      Abrir</button>&nbsp;\r\n\r\n                    <button mat-raised-button class=\"secondary\" (click)=\"cerrarPeriodoSistema();\"><i class=\"fa fa-times\"\r\n                        style=\"color: red;\"></i>\r\n                      Cerrar</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </table>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-lg\">\r\n                <div class=\"team bg-white scrollmenu\">\r\n                  <div class=\"col-lg-12 pr-lg-4 \" style=\"width: 100%;overflow-x: auto; height: 200px;\">\r\n                    <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows matSort class=\"mat-elevation-z8\"\r\n                      style=\"height: 44px !important;\">\r\n\r\n                      <ng-container matColumnDef=\"item\">\r\n                        <th mat-header-cell *matHeaderCellDef style=\"color: #fff;\"> Item </th>\r\n                        <td mat-cell *matCellDef=\"let element\"> {{ element.coditem }} </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"descripcion\">\r\n                        <th mat-header-cell *matHeaderCellDef style=\"color: #fff;\"> Descripción </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\">{{ element.descripcion }}\r\n                        </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"medida\">\r\n                        <th mat-header-cell *matHeaderCellDef style=\"color: #fff;\"> Medida </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: center;\">{{ element.medida }} </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"unidad\">\r\n                        <th mat-header-cell *matHeaderCellDef class=\"th1\"> Unidad </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">{{ element.udm }} </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"cantidad\">\r\n                        <th mat-header-cell *matHeaderCellDef class=\"th1\"> Cantidad </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                          {{ element.cantreal  | number: '1.2-2' }} </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"cantidad_sistema\">\r\n                        <th mat-header-cell *matHeaderCellDef class=\"th1\"> Cantidad Sistema </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                          {{ element.cantsist | number: '1.2-2' }} </td>\r\n                      </ng-container>\r\n\r\n                      <ng-container matColumnDef=\"diferencia\">\r\n                        <th mat-header-cell *matHeaderCellDef class=\"th1\"> Diferencia </th>\r\n                        <td mat-cell *matCellDef=\"let element\" style=\"text-align: right;\">\r\n                          {{ element.dif  | number: '1.2-2'}} </td>\r\n                      </ng-container>\r\n\r\n                      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n\r\n          <mat-card-footer>\r\n            <mat-paginator #paginator [pageSizeOptions]=\"[10, 25, 50, 75]\" showFirstLastButtons></mat-paginator>\r\n          </mat-card-footer>\r\n        </mat-card>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</section>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}