{"ast":null,"code":"import { ModalDescuentosComponent } from './modal-descuentos/modal-descuentos.component';\nimport { Validators } from '@angular/forms';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { LineasPorcentajeDesctComponent } from './lineas-porcentaje-desct/lineas-porcentaje-desct.component';\nimport { PreciosPermitidoDesctComponent } from './precios-permitido-desct/precios-permitido-desct.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/api.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@services/log-service.service\";\nimport * as i6 from \"@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service\";\nimport * as i7 from \"../serviciodescuento/descuento.service\";\nimport * as i8 from \"../../inventario/almacen/servicioalmacen/servicioalmacen.service\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/card\";\nimport * as i14 from \"@angular/material/icon\";\nfunction DescuentosEspecialesComponent_ng_container_34_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelementStart(1, \"div\", 19)(2, \"mat-label\", 35)(3, \"u\");\n    i0.ÉµÉµtext(4, \"Codigo\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(5, \"span\");\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"input\", 36);\n    i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_ng_container_34_Template_input_ngModelChange_7_listener($event) {\n      i0.ÉµÉµrestoreView(_r5);\n      var ctx_r4 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r4.descuento.codigo = $event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate(ctx_r0.descuento.codigo);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r0.descuento.codigo);\n  }\n}\nfunction DescuentosEspecialesComponent_ng_container_35_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµelementStart(1, \"div\", 19)(2, \"mat-label\", 35)(3, \"u\");\n    i0.ÉµÉµtext(4, \"Codigo\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(5, \"input\", 37);\n    i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_ng_container_35_Template_input_ngModelChange_5_listener($event) {\n      i0.ÉµÉµrestoreView(_r7);\n      var ctx_r6 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r6.descuento.codigo = $event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementContainerEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r1.descuento.codigo);\n  }\n}\nfunction DescuentosEspecialesComponent_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 38);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    var empaque_gets_r8 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", empaque_gets_r8.codigo);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate2(\" \", empaque_gets_r8.codigo, \" - \", empaque_gets_r8.descripcion, \"\");\n  }\n}\nfunction DescuentosEspecialesComponent_option_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 38);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    var moneda_gets_r9 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", moneda_gets_r9.codigo);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", moneda_gets_r9.codigo, \"\");\n  }\n}\nvar DescuentosEspecialesComponent = /** @class */function () {\n  function DescuentosEspecialesComponent(api, dialog, spinner, toastr, log_module, nombre_ventana_service, servicioDescuento, almacenservice, _formBuilder, datePipe) {\n    this.api = api;\n    this.dialog = dialog;\n    this.spinner = spinner;\n    this.toastr = toastr;\n    this.log_module = log_module;\n    this.nombre_ventana_service = nombre_ventana_service;\n    this.servicioDescuento = servicioDescuento;\n    this.almacenservice = almacenservice;\n    this._formBuilder = _formBuilder;\n    this.datePipe = datePipe;\n    this.fecha_actual = new Date();\n    this.hora_actual = new Date();\n    this.dataform = '';\n    this.descuento = [];\n    this.save_descuento = [];\n    this.moneda_get = [];\n    this.empaque_get = [];\n    this.nombre_ventana = \"abmvedescuento.vb\";\n    this.ventana = \"Desct. Especiales\";\n    this.detalle = \"destEspecial\";\n    this.tipo = \"desceunto-especial-CREATE\";\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n    this.FormularioData = this.createForm();\n  }\n  DescuentosEspecialesComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.getAllmoneda();\n    this.getAllEmpaque();\n    this.servicioDescuento.disparadorDeDescuentos.subscribe(function (data) {\n      console.log(\"Recibiendo Descuento: \", data.descuento);\n      _this.descuento = data.descuento;\n      _this.descuento_codigo = data.descuento.codigo;\n    });\n  };\n  DescuentosEspecialesComponent.prototype.createForm = function () {\n    var usuario_logueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    var hour = this.hora_actual.getHours();\n    var minuts = this.hora_actual.getMinutes();\n    var hora_actual_complete = hour + \":\" + minuts;\n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      codempaque: [this.dataform.codempaque, Validators.compose([Validators.required])],\n      monto: [this.dataform.monto, Validators.compose([Validators.required]), Validators.pattern(/^-?\\d+$/)],\n      moneda: [this.dataform.moneda, Validators.compose([Validators.required])],\n      descuento: [this.dataform.descuento, Validators.pattern(/^-?\\d+$/)],\n      ultimos: [false],\n      habilitado: [false],\n      desde_fecha: [\"1900-01-01\"],\n      hasta_fecha: [\"1900-01-01\"],\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      horareg: [hora_actual_complete],\n      usuarioreg: [usuario_logueado]\n    });\n  };\n  DescuentosEspecialesComponent.prototype.submitData = function () {\n    var _this = this;\n    var data = this.FormularioData.value;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- /venta/mant/vedescuento/\";\n    return this.api.create(\"/venta/mant/vedescuento/\" + this.userConn, data).subscribe({\n      next: function (datav) {\n        _this.save_descuento = datav;\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.spinner.show();\n        _this.toastr.success('Guardado con Exito! ðŸŽ‰');\n        location.reload();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! NO SE GUARDO !');\n      },\n      complete: function () {}\n    });\n  };\n  DescuentosEspecialesComponent.prototype.editar = function () {\n    var _this = this;\n    var data1 = this.FormularioData.value;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- /venta/mant/vedescuento/ UPDATE\";\n    var a = this.descuento.codigo;\n    return this.api.update(\"/venta/mant/vedescuento/\" + this.userConn + \"/\" + a, data1).subscribe({\n      next: function (datav) {\n        _this.save_descuento = datav;\n        // console.log(this.save_descuento);\n        _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n        _this.spinner.show();\n        _this.toastr.success('Guardado con Exito! ðŸŽ‰');\n        location.reload();\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n        _this.toastr.error('! NO SE EDITO !');\n      },\n      complete: function () {}\n    });\n  };\n  DescuentosEspecialesComponent.prototype.eliminar = function () {\n    var _this = this;\n    var errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:- /venta/mant/vedescuento/ Delete\";\n    var dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        dataUsuarioEdit: this.descuento.codigo\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      if (result) {\n        return _this.api.delete('/venta/mant/vedescuento/' + _this.userConn + \"/\" + _this.descuento.codigo).subscribe({\n          next: function () {\n            _this.log_module.guardarLog(_this.ventana, _this.detalle, _this.tipo);\n            _this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: function (err) {\n            console.log(err, errorMessage);\n            _this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: function () {}\n        });\n      } else {\n        _this.toastr.error('! CANCELADO !');\n      }\n    });\n  };\n  DescuentosEspecialesComponent.prototype.getAllmoneda = function () {\n    var _this = this;\n    var errorMessage;\n    errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/seg_adm/mant/admoneda/catalogo/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.moneda_get = datav;\n        console.log(_this.moneda_get);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  DescuentosEspecialesComponent.prototype.getAllEmpaque = function () {\n    var _this = this;\n    var errorMessage;\n    errorMessage = \"La Ruta presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/veempaque/' + this.userConn).subscribe({\n      next: function (datav) {\n        _this.empaque_get = datav;\n        console.log(_this.empaque_get);\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  DescuentosEspecialesComponent.prototype.limpiar = function () {\n    this.descuento.codigo = \"\";\n    this.descuento.descripcion = \"\";\n    this.descuento.codempaque = \"\";\n    this.descuento.empaqueDescrip = \"\";\n    this.descuento.monto = \"\";\n    this.descuento.moneda = \"\";\n    this.descuento.monedaDescrip = \"\";\n    this.descuento.descuento = \"\";\n    this.descuento.ultimos = \"\";\n  };\n  DescuentosEspecialesComponent.prototype.modalDescuento = function () {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        almacen: \"almacen\"\n      }\n    });\n  };\n  DescuentosEspecialesComponent.prototype.modalEmpaque = function () {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  DescuentosEspecialesComponent.prototype.modalMoneda = function () {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto'\n    });\n  };\n  DescuentosEspecialesComponent.prototype.preciosPermitidos = function () {\n    this.dialog.open(PreciosPermitidoDesctComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        descuento: this.descuento\n      }\n    });\n  };\n  DescuentosEspecialesComponent.prototype.lineasEspeciales = function () {\n    this.dialog.open(LineasPorcentajeDesctComponent, {\n      width: 'auto',\n      height: 'auto',\n      data: {\n        descuento: this.descuento\n      }\n    });\n  };\n  DescuentosEspecialesComponent.Éµfac = function DescuentosEspecialesComponent_Factory(t) {\n    return new (t || DescuentosEspecialesComponent)(i0.ÉµÉµdirectiveInject(i1.ApiService), i0.ÉµÉµdirectiveInject(i2.MatDialog), i0.ÉµÉµdirectiveInject(i3.NgxSpinnerService), i0.ÉµÉµdirectiveInject(i4.ToastrService), i0.ÉµÉµdirectiveInject(i5.LogService), i0.ÉµÉµdirectiveInject(i6.NombreVentanaService), i0.ÉµÉµdirectiveInject(i7.DescuentoService), i0.ÉµÉµdirectiveInject(i8.ServicioalmacenService), i0.ÉµÉµdirectiveInject(i9.FormBuilder), i0.ÉµÉµdirectiveInject(i10.DatePipe));\n  };\n  DescuentosEspecialesComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: DescuentosEspecialesComponent,\n    selectors: [[\"app-descuentos-especiales\"]],\n    decls: 85,\n    vars: 17,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"p-2\"], [2, \"background-color\", \"#ffffc0\"], [1, \"mb-1\"], [2, \"font-size\", \"0.8rem\"], [\"bdColor\", \"rgba(251, 216, 0, 0.8)\", \"size\", \"large\", \"color\", \"#093070\", \"type\", \"square-loader\", 3, \"fullScreen\"], [2, \"font-size\", \"25px\", \"color\", \"rgb(9,48,112,)\"], [\"align\", \"start\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [1, \"fa\", \"fa-pen\"], [\"mat-raised-button\", \"\", 1, \"secondary\", 3, \"click\"], [1, \"fa\", \"fa-eraser\"], [\"mat-raised-button\", \"\", 1, \"danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"fa\", \"fa-search\"], [1, \"example-form\", 3, \"formGroup\", \"ngSubmit\"], [4, \"ngIf\"], [1, \"row\"], [2, \"padding-right\", \"48px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"descripcion\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group\"], [2, \"padding-right\", \"5px\", \"padding-top\", \"7px\"], [\"formControlName\", \"moneda\", \"formControlName\", \"codempaque\", \"required\", \"\", 2, \"width\", \"12.1%\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [2, \"padding-right\", \"32px\", \"padding-top\", \"7px\"], [\"type\", \"number\", \"formControlName\", \"monto\", \"min\", \"0\", \"step\", \"1\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"62px\", \"padding-top\", \"7px\"], [\"formControlName\", \"moneda\", 2, \"width\", \"12.1%\", 3, \"ngModel\", \"ngModelChange\"], [2, \"padding-right\", \"35px\", \"padding-top\", \"7px\"], [\"type\", \"number\", \"formControlName\", \"descuento\", \"min\", \"0\", \"step\", \"1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"formControlName\", \"ultimos\", 2, \"padding-right\", \"30px\", 3, \"checked\"], [2, \"padding-top\", \"7px\"], [1, \"p-3\"], [2, \"padding-right\", \"67px\", \"padding-top\", \"7px\"], [\"type\", \"text\", \"formControlName\", \"codigo\", \"min\", \"0\", \"hidden\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"formControlName\", \"codigo\", \"min\", \"0\", \"step\", \"1\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\"]],\n    template: function DescuentosEspecialesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"mat-card\", 3)(4, \"mat-card-header\", 4)(5, \"mat-card-title\", 5);\n        i0.ÉµÉµtext(6, \"Descuentos Especiales\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(7, \"ngx-spinner\", 6);\n        i0.ÉµÉµelement(8, \"br\");\n        i0.ÉµÉµelementStart(9, \"p\", 7);\n        i0.ÉµÉµtext(10, \"\\uD83D\\uDD29 Cargando... \\uD83D\\uDD29\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(11, \"div\")(12, \"mat-card-actions\", 8)(13, \"button\", 9);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_13_listener() {\n          return ctx.submitData();\n        });\n        i0.ÉµÉµelement(14, \"i\", 10);\n        i0.ÉµÉµtext(15, \" Grabar \");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(16, \"\\u00A0 \");\n        i0.ÉµÉµelementStart(17, \"button\", 9);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_17_listener() {\n          return ctx.editar();\n        });\n        i0.ÉµÉµelement(18, \"i\", 11);\n        i0.ÉµÉµtext(19, \" Editar \");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(20, \"\\u00A0 \");\n        i0.ÉµÉµelementStart(21, \"button\", 12);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_21_listener() {\n          return ctx.limpiar();\n        });\n        i0.ÉµÉµelement(22, \"i\", 13);\n        i0.ÉµÉµtext(23, \" Limpiar\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(24, \"\\u00A0 \");\n        i0.ÉµÉµelementStart(25, \"button\", 14);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_25_listener() {\n          return ctx.eliminar();\n        });\n        i0.ÉµÉµelement(26, \"i\", 15);\n        i0.ÉµÉµtext(27, \" Eliminar\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(28, \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n        i0.ÉµÉµelementStart(29, \"button\", 12);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_29_listener() {\n          return ctx.modalDescuento();\n        });\n        i0.ÉµÉµelement(30, \"i\", 16);\n        i0.ÉµÉµtext(31, \" Buscador Catalogo\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(32, \"form\", 17);\n        i0.ÉµÉµlistener(\"ngSubmit\", function DescuentosEspecialesComponent_Template_form_ngSubmit_32_listener() {\n          return ctx.submitData();\n        });\n        i0.ÉµÉµelementStart(33, \"mat-card-content\");\n        i0.ÉµÉµtemplate(34, DescuentosEspecialesComponent_ng_container_34_Template, 8, 2, \"ng-container\", 18);\n        i0.ÉµÉµtemplate(35, DescuentosEspecialesComponent_ng_container_35_Template, 6, 1, \"ng-container\", 18);\n        i0.ÉµÉµelementStart(36, \"div\", 19)(37, \"mat-label\", 20)(38, \"u\");\n        i0.ÉµÉµtext(39, \"Descipci\\u00F3n\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(40, \"input\", 21);\n        i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.descuento.descripcion = $event;\n        });\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(41, \"div\", 19)(42, \"div\", 22)(43, \"mat-label\", 23)(44, \"u\");\n        i0.ÉµÉµtext(45, \"Lista de Empaques\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(46, \"select\", 24);\n        i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_Template_select_ngModelChange_46_listener($event) {\n          return ctx.descuento.codempaque = $event;\n        });\n        i0.ÉµÉµtemplate(47, DescuentosEspecialesComponent_option_47_Template, 2, 3, \"option\", 25);\n        i0.ÉµÉµelementEnd()()();\n        i0.ÉµÉµelementStart(48, \"div\", 19)(49, \"mat-label\", 26)(50, \"u\");\n        i0.ÉµÉµtext(51, \"Monto Minimo\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(52, \"input\", 27);\n        i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_Template_input_ngModelChange_52_listener($event) {\n          return ctx.descuento.monto = $event;\n        });\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(53, \"div\", 19)(54, \"div\", 22)(55, \"mat-label\", 28)(56, \"u\");\n        i0.ÉµÉµtext(57, \"Moneda\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(58, \"select\", 29);\n        i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_Template_select_ngModelChange_58_listener($event) {\n          return ctx.descuento.moneda = $event;\n        });\n        i0.ÉµÉµtemplate(59, DescuentosEspecialesComponent_option_59_Template, 2, 2, \"option\", 25);\n        i0.ÉµÉµelementEnd()()();\n        i0.ÉµÉµelementStart(60, \"div\", 19)(61, \"mat-label\", 30)(62, \"u\");\n        i0.ÉµÉµtext(63, \"Descuento %\");\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(64, \"input\", 31);\n        i0.ÉµÉµlistener(\"ngModelChange\", function DescuentosEspecialesComponent_Template_input_ngModelChange_64_listener($event) {\n          return ctx.descuento.descuento = $event;\n        });\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(65, \"\\u00A0 % \");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(66, \"div\", 19);\n        i0.ÉµÉµelement(67, \"input\", 32);\n        i0.ÉµÉµelementStart(68, \"mat-label\", 33);\n        i0.ÉµÉµtext(69, \"\\u00A0\");\n        i0.ÉµÉµelementStart(70, \"u\");\n        i0.ÉµÉµtext(71, \"Permite menor empque si son las ultimas existencias\");\n        i0.ÉµÉµelementEnd()()()()()();\n        i0.ÉµÉµelement(72, \"br\");\n        i0.ÉµÉµelementStart(73, \"div\")(74, \"div\", 34)(75, \"button\", 9);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_75_listener() {\n          return ctx.preciosPermitidos();\n        });\n        i0.ÉµÉµelementStart(76, \"mat-icon\");\n        i0.ÉµÉµtext(77, \"add_circle_outline\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(78, \" Precios Permitidos \");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(79, \"\\u00A0 \");\n        i0.ÉµÉµelementStart(80, \"button\", 9);\n        i0.ÉµÉµlistener(\"click\", function DescuentosEspecialesComponent_Template_button_click_80_listener() {\n          return ctx.lineasEspeciales();\n        });\n        i0.ÉµÉµelementStart(81, \"mat-icon\");\n        i0.ÉµÉµtext(82, \"add_circle_outline\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(83, \" Lineas Especiales \");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtext(84, \"\\u00A0 \");\n        i0.ÉµÉµelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ÉµÉµadvance(7);\n        i0.ÉµÉµproperty(\"fullScreen\", true);\n        i0.ÉµÉµadvance(6);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.FormularioData.valid);\n        i0.ÉµÉµadvance(4);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.descuento.codigo);\n        i0.ÉµÉµadvance(15);\n        i0.ÉµÉµproperty(\"formGroup\", ctx.FormularioData)(\"formGroup\", ctx.FormularioData);\n        i0.ÉµÉµadvance(2);\n        i0.ÉµÉµproperty(\"ngIf\", ctx.descuento_codigo);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngIf\", !ctx.descuento_codigo);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.descuento.descripcion);\n        i0.ÉµÉµadvance(6);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.descuento.codempaque);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngForOf\", ctx.empaque_get);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.descuento.monto);\n        i0.ÉµÉµadvance(6);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.descuento.moneda);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngForOf\", ctx.moneda_get);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngModel\", ctx.descuento.descuento);\n        i0.ÉµÉµadvance(3);\n        i0.ÉµÉµproperty(\"checked\", ctx.descuento.ultimos);\n        i0.ÉµÉµadvance(8);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.descuento.codigo);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"disabled\", !ctx.descuento.codigo);\n      }\n    },\n    dependencies: [i10.NgForOf, i10.NgIf, i9.ÉµNgNoValidate, i9.NgSelectOption, i9.ÉµNgSelectMultipleOption, i9.DefaultValueAccessor, i9.NumberValueAccessor, i9.CheckboxControlValueAccessor, i9.SelectControlValueAccessor, i9.NgControlStatus, i9.NgControlStatusGroup, i9.RequiredValidator, i9.MinValidator, i9.FormGroupDirective, i9.FormControlName, i11.MatLabel, i12.MatButton, i3.NgxSpinnerComponent, i13.MatCard, i13.MatCardActions, i13.MatCardContent, i13.MatCardHeader, i13.MatCardTitle, i14.MatIcon],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n  return DescuentosEspecialesComponent;\n}();\nexport { DescuentosEspecialesComponent };","map":{"version":3,"mappings":"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","names":["ModalDescuentosComponent","Validators","DialogDeleteComponent","LineasPorcentajeDesctComponent","PreciosPermitidoDesctComponent","i0","api","dialog","spinner","toastr","log_module","nombre_ventana_service","servicioDescuento","almacenservice","_formBuilder","datePipe","Date","userConn","localStorage","getItem","undefined","JSON","parse","usuarioLogueado","getRolUserParaVentana","nombre_ventana","FormularioData","createForm","DescuentosEspecialesComponent","getAllmoneda","getAllEmpaque","disparadorDeDescuentos","subscribe","console","log","data","descuento","_this","descuento_codigo","codigo","usuario_logueado","hour","hora_actual","getHours","minuts","getMinutes","hora_actual_complete","group","dataform","compose","required","descripcion","codempaque","monto","pattern","moneda","ultimos","habilitado","desde_fecha","hasta_fecha","fechareg","transform","fecha_actual","horareg","usuarioreg","value","errorMessage","create","next","datav","save_descuento","guardarLog","ventana","detalle","tipo","show","success","location","reload","error","err","complete","data1","a","update","dialogRef","open","width","height","dataUsuarioEdit","afterClosed","result","delete","getAll","moneda_get","empaque_get","empaqueDescrip","monedaDescrip","almacen","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\descuentos-especiales\\descuentos-especiales.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\components\\mantenimiento\\ventas\\descuentos-especiales\\descuentos-especiales.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalDescuentosComponent } from './modal-descuentos/modal-descuentos.component';\nimport { ApiService } from '@services/api.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { NombreVentanaService } from '@modules/main/footer/servicio-nombre-ventana/nombre-ventana.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { LogService } from '@services/log-service.service';\nimport { ServicioalmacenService } from '../../inventario/almacen/servicioalmacen/servicioalmacen.service';\nimport { DatePipe } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DescuentoService } from '../serviciodescuento/descuento.service';\nimport { DialogDeleteComponent } from '@modules/dialog-delete/dialog-delete.component';\nimport { LineasPorcentajeDesctComponent } from './lineas-porcentaje-desct/lineas-porcentaje-desct.component';\nimport { PreciosPermitidoDesctComponent } from './precios-permitido-desct/precios-permitido-desct.component';\n@Component({\n  selector: 'app-descuentos-especiales',\n  templateUrl: './descuentos-especiales.component.html',\n  styleUrls: ['./descuentos-especiales.component.scss']\n})\nexport class DescuentosEspecialesComponent implements OnInit {\n\n  FormularioData: FormGroup;\n  FormularioDataEdit: FormGroup;\n  fecha_actual = new Date();\n  hora_actual = new Date();\n  dataform:any='';\n  \n  userConn: any;\n  usuarioLogueado;\n\n  descuento: any = [];\n  save_descuento: any = [];\n  moneda_get: any = [];\n  empaque_get: any = [];\n  descuento_codigo: number;\n  \n  nombre_ventana: string = \"abmvedescuento.vb\";\n  public ventana=\"Desct. Especiales\"\n  public detalle=\"destEspecial\";\n  public tipo = \"desceunto-especial-CREATE\";\n  \n  constructor(private api:ApiService, public dialog: MatDialog, private spinner: NgxSpinnerService,private toastr: ToastrService, \n    public log_module: LogService, public nombre_ventana_service: NombreVentanaService,\n    public servicioDescuento: DescuentoService, public almacenservice: ServicioalmacenService, private _formBuilder: FormBuilder,\n    private datePipe: DatePipe) {\n\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    this.usuarioLogueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    this.api.getRolUserParaVentana(this.usuarioLogueado, this.nombre_ventana);\n\n    this.FormularioData = this.createForm();\n  }\n\n  ngOnInit() {\n    this.getAllmoneda();\n    this.getAllEmpaque();\n\n    this.servicioDescuento.disparadorDeDescuentos.subscribe(data =>{\n      console.log(\"Recibiendo Descuento: \" , data.descuento);\n      this.descuento = data.descuento;\n      this.descuento_codigo = data.descuento.codigo;\n    });\n  }\n\n  createForm(): FormGroup{\n    let usuario_logueado = localStorage.getItem(\"usuario_logueado\") !== undefined ? JSON.parse(localStorage.getItem(\"usuario_logueado\")) : null;\n    let hour = this.hora_actual.getHours();\n    let minuts = this.hora_actual.getMinutes();\n    let hora_actual_complete = hour + \":\" + minuts;\n  \n    return this._formBuilder.group({\n      codigo: [this.dataform.codigo, Validators.compose([Validators.required])],\n      descripcion: [this.dataform.descripcion, Validators.compose([Validators.required])],\n      codempaque: [this.dataform.codempaque, Validators.compose([Validators.required])],\n      monto: [this.dataform.monto, Validators.compose([Validators.required]), Validators.pattern(/^-?\\d+$/)],\n      moneda: [this.dataform.moneda, Validators.compose([Validators.required])],\n      descuento: [this.dataform.descuento, Validators.pattern(/^-?\\d+$/)],\n      ultimos: [false],\n      habilitado: [false],\n      desde_fecha: [\"1900-01-01\"],\n      hasta_fecha: [\"1900-01-01\"],\n\n      fechareg: [this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\")],\n      horareg: [hora_actual_complete],\n      usuarioreg: [usuario_logueado],\n    });\n  }\n\n\n  submitData(){\n    let data = this.FormularioData.value;\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:-- /venta/mant/vedescuento/\";\n    \n    return this.api.create(\"/venta/mant/vedescuento/\"+this.userConn, data)\n      .subscribe({\n        next: (datav) => {\n          this.save_descuento = datav;\n\n          this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\n          this.spinner.show();\n          this.toastr.success('Guardado con Exito! ðŸŽ‰');  \n          location.reload();\n        },\n    \n        error: (err) => { \n          console.log(err, errorMessage);\n          this.toastr.error('! NO SE GUARDO !');\n        },\n        complete: () => { }\n      })\n  }\n\n  editar() { \n    let data1 = this.FormularioData.value;\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\" + \"Ruta:-- /venta/mant/vedescuento/ UPDATE\";\n    let a = this.descuento.codigo;\n    \n    return this.api.update(\"/venta/mant/vedescuento/\"+this.userConn+\"/\"+a, data1)\n      .subscribe({\n        next: (datav) => {\n          this.save_descuento = datav;\n          // console.log(this.save_descuento);\n          \n          this.log_module.guardarLog(this.ventana,this.detalle, this.tipo);\n          this.spinner.show();\n          this.toastr.success('Guardado con Exito! ðŸŽ‰');  \n          location.reload();\n        },\n    \n        error: (err) => { \n          console.log(err, errorMessage);\n          this.toastr.error('! NO SE EDITO !');\n        },\n        complete: () => { }\n      })\n  }\n\n  eliminar() {\n    let errorMessage = \"La Ruta presenta fallos al hacer la creacion\"+\"Ruta:- /venta/mant/vedescuento/ Delete\";\n\n    const dialogRef = this.dialog.open(DialogDeleteComponent, {\n      width: 'auto',\n      height:'auto',\n      data:{dataUsuarioEdit:this.descuento.codigo},\n    });\n\n    dialogRef.afterClosed().subscribe((result: Boolean)=>{\n      if(result) {\n        return this.api.delete('/venta/mant/vedescuento/'+this.userConn+\"/\"+this.descuento.codigo)\n        .subscribe({\n          next: () => {\n            this.log_module.guardarLog(this.ventana, this.detalle, this.tipo);\n            \n            this.toastr.success('!ELIMINADO EXITOSAMENTE!');\n            location.reload();\n          },\n          error: (err: any) => { \n            console.log(err, errorMessage);\n            this.toastr.error('! NO ELIMINADO !');\n          },\n          complete: () => { }\n        })\n      }else{\n        this.toastr.error('! CANCELADO !');\n      }\n    });\n  }\n\n  getAllmoneda(){\n    let errorMessage:string;\n    errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/seg_adm/mant/admoneda/catalogo/'+this.userConn)\n      .subscribe({\n        next: (datav) => {\n          this.moneda_get = datav;\n          console.log(this.moneda_get);\n        },\n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n  \n  getAllEmpaque(){\n    let errorMessage:string;\n    errorMessage = \"La Ruta presenta fallos al hacer peticion GET\";\n    return this.api.getAll('/venta/mant/veempaque/'+this.userConn)\n      .subscribe({\n        next: (datav) => {\n          this.empaque_get = datav;\n          console.log(this.empaque_get);\n        },\n        error: (err: any) => { \n          console.log(err, errorMessage);\n        },\n        complete: () => { }\n      })\n  }\n\n  limpiar() { \n    this.descuento.codigo = \"\";\n    this.descuento.descripcion = \"\";\n    this.descuento.codempaque = \"\";\n    this.descuento.empaqueDescrip = \"\";\n    this.descuento.monto = \"\";\n    this.descuento.moneda = \"\";\n    this.descuento.monedaDescrip = \"\";\n    this.descuento.descuento = \"\";\n    this.descuento.ultimos = \"\";\n  }\n\n  modalDescuento(): void {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto',\n      data:{almacen:\"almacen\"}\n    });\n  }\n\n  modalEmpaque(): void {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n\n  modalMoneda(): void {\n    this.dialog.open(ModalDescuentosComponent, {\n      width: 'auto',\n      height: 'auto',\n    });\n  }\n\n  preciosPermitidos() { \n    this.dialog.open(PreciosPermitidoDesctComponent, {\n      width: 'auto',\n      height: 'auto',\n      data:{descuento:this.descuento}\n    });\n  }\n  \n  lineasEspeciales() { \n    this.dialog.open(LineasPorcentajeDesctComponent, {\n      width: 'auto',\n      height: 'auto',\n      data:{descuento:this.descuento}\n    });\n  }\n}\n","<section class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"p-2\">\n      <mat-card style=\"background-color: #ffffc0;\">\n        <mat-card-header class=\"mb-1\">\n          <mat-card-title style=\"font-size: 0.8rem;\">Descuentos Especiales</mat-card-title>\n        </mat-card-header>\n\n        <ngx-spinner bdColor=\"rgba(251, 216, 0, 0.8)\" size=\"large\" color=\"#093070\" type=\"square-loader\"\n          [fullScreen]=\"true\">\n          <br>\n          <p style=\"font-size: 25px; color: rgb(9,48,112,)\">ðŸ”© Cargando... ðŸ”©</p>\n        </ngx-spinner>\n\n        <div>\n          <mat-card-actions align=\"start\">\n            <button mat-raised-button color=\"primary\" [disabled]=\"!FormularioData.valid\" (click)=\"submitData();\"><i\n                class=\"fa fa-save\"></i>\n              Grabar\n            </button>&nbsp;\n\n            <button mat-raised-button color=\"primary\" [disabled]=\"!descuento.codigo\" (click)=\"editar()\"><i\n                class=\"fa fa-pen\"></i>\n              Editar\n            </button>&nbsp;\n\n            <button mat-raised-button class=\"secondary\" (click)=\"limpiar()\"><i class=\"fa fa-eraser\"></i>\n              Limpiar</button>&nbsp;\n\n            <button mat-raised-button class=\"danger\" (click)=\"eliminar()\"><i class=\"fa fa-trash\"></i>\n              Eliminar</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n\n            <button mat-raised-button class=\"secondary\" (click)=\"modalDescuento();\"><i class=\"fa fa-search\"></i>\n              Buscador\n              Catalogo</button>\n          </mat-card-actions>\n          <form class=\"example-form\" [formGroup]=\"FormularioData\" [formGroup]=\"FormularioData\"\n            (ngSubmit)=\"submitData()\">\n            <mat-card-content>\n\n              <ng-container *ngIf=\"descuento_codigo\">\n                <div class=\"row\">\n                  <mat-label style=\"padding-right: 67px;padding-top: 7px;\"><u>Codigo</u></mat-label>\n                  <span>{{ descuento.codigo }}</span>\n                  <input type=\"text\" [(ngModel)]=\"descuento.codigo\" formControlName=\"codigo\" min=\"0\" hidden>\n                </div>\n              </ng-container>\n\n              <ng-container *ngIf=\"!descuento_codigo\">\n                <div class=\"row\">\n                  <mat-label style=\"padding-right: 67px;padding-top: 7px;\"><u>Codigo</u></mat-label>\n                  <input type=\"number\" [(ngModel)]=\"descuento.codigo\" formControlName=\"codigo\" min=\"0\" step=\"1\"\n                    required>\n                </div>\n              </ng-container>\n\n              <div class=\"row\">\n                <mat-label style=\"padding-right: 48px;padding-top: 7px;\"><u>DescipciÃ³n</u></mat-label>\n                <input type=\"text\" formControlName=\"descripcion\" [(ngModel)]=\"descuento.descripcion\" required>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"input-group\">\n                  <mat-label style=\"padding-right: 5px;padding-top: 7px;\"><u>Lista de Empaques</u></mat-label>\n                  <select formControlName=\"moneda\" formControlName=\"codempaque\" [(ngModel)]=\"descuento.codempaque\"\n                    style=\"width: 12.1%;\" required>\n                    <option *ngFor=\"let empaque_gets of empaque_get\" [value]=\"empaque_gets.codigo\">\n                      {{ empaque_gets.codigo }} - {{ empaque_gets.descripcion }}</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <mat-label style=\"padding-right: 32px;padding-top: 7px;\"><u>Monto Minimo</u></mat-label>\n                <input type=\"number\" formControlName=\"monto\" [(ngModel)]=\"descuento.monto\" min=\"0\" step=\"1\" required>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"input-group\">\n                  <mat-label style=\"padding-right: 62px;padding-top: 7px;\"><u>Moneda</u>\n                  </mat-label>\n                  <select formControlName=\"moneda\" [(ngModel)]=\"descuento.moneda\" style=\"width: 12.1%;\">\n                    <option *ngFor=\"let moneda_gets of moneda_get\" [value]=\"moneda_gets.codigo\">\n                      {{ moneda_gets.codigo }}</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <mat-label style=\"padding-right: 35px;padding-top: 7px;\"><u>Descuento %</u></mat-label>\n                <input type=\"number\" formControlName=\"descuento\" [(ngModel)]=\"descuento.descuento\" min=\"0\"\n                  step=\"1\">&nbsp; %\n              </div>\n\n              <div class=\"row\">\n                <input type=\"checkbox\" style=\"padding-right: 30px;\" formControlName=\"ultimos\"\n                  [checked]=\"descuento.ultimos\">\n                <mat-label style=\"padding-top: 7px;\">&nbsp;<u>Permite menor empque si son las ultimas\n                    existencias</u></mat-label>\n              </div>\n            </mat-card-content>\n          </form>\n        </div><br>\n\n        <div>\n          <div class=\"p-3\">\n            <button mat-raised-button color=\"primary\" [disabled]=\"!descuento.codigo\" (click)=\"preciosPermitidos();\">\n              <mat-icon>add_circle_outline</mat-icon> Precios Permitidos\n            </button>&nbsp;\n\n            <button mat-raised-button color=\"primary\" [disabled]=\"!descuento.codigo\" (click)=\"lineasEspeciales();\">\n              <mat-icon>add_circle_outline</mat-icon> Lineas Especiales\n            </button>&nbsp;\n          </div>\n        </div>\n      </mat-card>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}