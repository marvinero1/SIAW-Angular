{"ast":null,"code":"import { ToggleControlSidebar, ToggleSidebarMenu } from '@/store/ui/actions';\nimport { UntypedFormGroup, UntypedFormControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@services/api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@services/log-service.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/menu\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@modules/main/header/ventanas/ventanas.component\";\nimport * as i10 from \"@modules/main/header/notifications/notifications.component\";\nimport * as i11 from \"@modules/main/header/user/user.component\";\nimport * as i12 from \"../../menu-importaciones/menu-importaciones.component\";\nimport * as i13 from \"@modules/menu-ventas/menu-ventas.component\";\nimport * as i14 from \"@modules/main/header/archivo/archivo.component\";\nimport * as i15 from \"@modules/mantenimiento/mantenimiento.component\";\nimport * as i16 from \"@modules/menu-fondos/menu-fondos.component\";\nimport * as i17 from \"@modules/main/menu-inventario/menu-inventario.component\";\nimport * as i18 from \"@modules/menu-cuentas-cobrar/menu-cuentas-cobrar.component\";\nimport * as i19 from \"@modules/menu-contabilidad/menu-contabilidad.component\";\nimport * as i20 from \"@modules/menu-activos-fijos/menu-activos-fijos.component\";\nimport * as i21 from \"@modules/menu-planillas-personal/menu-planillas-personal.component\";\nimport * as i22 from \"@modules/main/header/herramientas/herramientas.component\";\nimport * as i23 from \"@modules/main/header/reportes/reportes.component\";\nimport * as i24 from \"@modules/main/header/ayuda/ayuda.component\";\nimport * as i25 from \"@modules/menu-compras/menu-compras.component\";\nimport * as i26 from \"ngx-pipes\";\nfunction HeaderComponent_li_42_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 17)(1, \"div\", 1)(2, \"div\", 18);\n    i0.ɵɵelement(3, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 20)(5, \"span\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 22);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_42_Template_span_click_7_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r4);\n      var log_rutas_r2 = restoredCtx.$implicit;\n      var ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.rutaPATH(log_rutas_r2.detalle));\n    });\n    i0.ɵɵelementStart(8, \"span\", 23);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\", 24);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    var log_rutas_r2 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(log_rutas_r2.ventana);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(log_rutas_r2.detalle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Hrs: \", log_rutas_r2.hora, \"\");\n  }\n}\nvar BASE_CLASSES = 'main-header navbar navbar-expand navbar-warning';\nvar HeaderComponent = /** @class */function () {\n  function HeaderComponent(store, api, router, log_module, _location, datePipe) {\n    this.store = store;\n    this.api = api;\n    this.router = router;\n    this.log_module = log_module;\n    this._location = _location;\n    this.datePipe = datePipe;\n    this.log = [];\n    this.classes = BASE_CLASSES;\n    this.fecha_actual = new Date();\n    this.log_ruta = [];\n    this.userConn = '';\n    this.data = \"\";\n    this.ventana = \"login\";\n    this.detalle = \"login-user\";\n    this.onToggleMenuSidebar();\n  }\n  HeaderComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    // IMPRIMIR DATOS DE CABECERA\n    this.api.obtenerUsuarioLogueado();\n    this.ui = this.store.select('ui');\n    this.ui.subscribe(function (state) {\n      _this.classes = \"\".concat(BASE_CLASSES, \" \").concat(state.navbarVariant);\n    });\n    this.searchForm = new UntypedFormGroup({\n      search: new UntypedFormControl(null)\n    });\n    this.getAllLogHistorialRutas();\n  };\n  HeaderComponent.prototype.goBack = function () {\n    this._location.back();\n  };\n  HeaderComponent.prototype.guardarRutaLOG = function (nombre, ruta) {\n    this.log_module.guardarVentana(nombre, '/');\n    this.router.navigate([ruta]);\n  };\n  HeaderComponent.prototype.onToggleMenuSidebar = function () {\n    this.store.dispatch(new ToggleSidebarMenu());\n  };\n  HeaderComponent.prototype.onToggleControlSidebar = function () {\n    this.store.dispatch(new ToggleControlSidebar());\n  };\n  HeaderComponent.prototype.getAllLogHistorialRutas = function () {\n    var _this = this;\n    var errorMessage;\n    var dataTransform = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\n    this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\n    errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET, en la ruta /seg_adm/logs/selog/getselogfecha/  --Vista LOG/Angular\";\n    return this.api.getAll('/seg_adm/logs/selog/getselogfecha/' + this.userConn + \"/\" + dataTransform).subscribe({\n      next: function (datav) {\n        _this.log = datav;\n        // console.log(this.log);\n        _this.log_ruta = _this.log.filter(function (person) {\n          return person.tipo == 'ruta';\n        });\n      },\n      error: function (err) {\n        console.log(err, errorMessage);\n      },\n      complete: function () {}\n    });\n  };\n  HeaderComponent.prototype.rutaPATH = function (ruta) {\n    // console.log('http://localhost:4200'+ruta);\n    this.router.navigate([ruta]);\n  };\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.LogService), i0.ɵɵdirectiveInject(i5.Location), i0.ɵɵdirectiveInject(i5.DatePipe));\n  };\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"app-header\"]],\n    hostVars: 2,\n    hostBindings: function HeaderComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.classes);\n      }\n    },\n    inputs: {\n      usuario: \"usuario\",\n      servidor: \"servidor\",\n      agencia: \"agencia\"\n    },\n    decls: 78,\n    vars: 5,\n    consts: [[1, \"col\"], [1, \"row\"], [1, \"nav\", \"flex-column\", \"flex-nowrap\", \"overflow-hidden\"], [1, \"nav-item\"], [\"mat-button\", \"\", 1, \"nav-link\", 2, \"padding-top\", \"11px\", 3, \"click\"], [\"mat-button\", \"\", 1, \"nav-link\", 2, \"font-size\", \"0.95rem\", 3, \"matMenuTriggerFor\"], [2, \"padding-block-start\", \"7px\"], [\"mantenimiento\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"fa\", \"fa-arrow-left\"], [1, \"list-group\"], [\"class\", \"list-group-item fila\", \"style\", \"padding: 0.65rem 0.25rem !important;\", 4, \"ngFor\", \"ngForOf\"], [1, \"navbar-nav\", \"ml-auto\"], [1, \"row\", 2, \"padding-left\", \"10px\"], [1, \"nav\", \"flex-column\", \"flex-nowrap\", \"overflow-hidden\", 2, \"float\", \"right\"], [\"role\", \"button\", 1, \"nav-link\", 2, \"text-align\", \"center\", \"color\", \"#093070\", 3, \"click\"], [1, \"fas\", \"fa-bars\", 2, \"font-size\", \"1.3rem\"], [1, \"list-group-item\", \"fila\", 2, \"padding\", \"0.65rem 0.25rem !important\"], [1, \"col-sm\"], [\"src\", \"assets/img/logo.png\", \"alt\", \"Pertec S.R.L Logo\", 1, \"logoRespomsive\", 2, \"width\", \"61%\", \"height\", \"80%\", \"display\", \"block\", \"margin\", \"auto\", \"border-radius\", \"11px\"], [1, \"col-sm-8\"], [1, \"row\", 2, \"text-transform\", \"uppercase\"], [1, \"row\", 2, \"cursor\", \"pointer\", \"color\", \"dodgerblue\", 3, \"click\"], [1, \"ahover\", \"overflow-string\"], [1, \"row\", 2, \"color\", \"gray\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 0)(3, \"div\", 1)(4, \"ul\", 2)(5, \"li\", 3)(6, \"a\", 4);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_6_listener() {\n          return ctx.guardarRutaLOG(\"inicio\", \"/\");\n        });\n        i0.ɵɵelementStart(7, \"span\");\n        i0.ɵɵtext(8, \"\\uD83C\\uDFE0 Inicio\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"ul\", 2)(10, \"li\", 3);\n        i0.ɵɵelement(11, \"app-archivo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"ul\", 2)(13, \"li\", 3);\n        i0.ɵɵelement(14, \"app-herramientas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"ul\", 2)(16, \"li\", 3);\n        i0.ɵɵelement(17, \"app-mantenimiento\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"ul\", 2)(19, \"li\", 3);\n        i0.ɵɵelement(20, \"app-reportes\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"ul\", 2)(22, \"li\", 3);\n        i0.ɵɵelement(23, \"app-ayuda\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"ul\", 2)(25, \"li\", 3);\n        i0.ɵɵelement(26, \"app-ventanas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"ul\", 2)(28, \"li\", 3)(29, \"a\", 5)(30, \"span\");\n        i0.ɵɵtext(31, \"Historial \");\n        i0.ɵɵelementStart(32, \"mat-icon\", 6);\n        i0.ɵɵtext(33, \"keyboard_arrow_down\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"mat-menu\", null, 7)(36, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_36_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵelement(37, \"i\", 9);\n        i0.ɵɵtext(38, \"\\u00A0 Ventana Anterior \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\");\n        i0.ɵɵelement(40, \"hr\");\n        i0.ɵɵelementStart(41, \"ul\", 10);\n        i0.ɵɵtemplate(42, HeaderComponent_li_42_Template, 12, 3, \"li\", 11);\n        i0.ɵɵpipe(43, \"orderBy\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(44, \"ul\", 12);\n        i0.ɵɵelement(45, \"app-notifications\")(46, \"app-user\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\", 13)(48, \"ul\", 2)(49, \"li\", 3);\n        i0.ɵɵelement(50, \"app-menu-inventario\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(51, \"ul\", 2)(52, \"li\", 3);\n        i0.ɵɵelement(53, \"app-menu-ventas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(54, \"ul\", 2)(55, \"li\", 3);\n        i0.ɵɵelement(56, \"app-menu-cuentas-cobrar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"ul\", 2)(58, \"li\", 3);\n        i0.ɵɵelement(59, \"app-menu-importaciones\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(60, \"ul\", 2)(61, \"li\", 3);\n        i0.ɵɵelement(62, \"app-menu-contabilidad\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"ul\", 2)(64, \"li\", 3);\n        i0.ɵɵelement(65, \"app-menu-activos-fijos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(66, \"ul\", 2)(67, \"li\", 3);\n        i0.ɵɵelement(68, \"app-menu-planillas-personal\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(69, \"ul\", 2)(70, \"li\", 3);\n        i0.ɵɵelement(71, \"app-menu-compras\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(72, \"ul\", 2)(73, \"li\", 3);\n        i0.ɵɵelement(74, \"app-menu-fondos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(75, \"ul\", 14)(76, \"a\", 15);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_76_listener() {\n          return ctx.onToggleMenuSidebar();\n        });\n        i0.ɵɵelement(77, \"i\", 16);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        var _r0 = i0.ɵɵreference(35);\n        i0.ɵɵadvance(29);\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(43, 2, ctx.log_ruta, \"id\"));\n      }\n    },\n    dependencies: [i5.NgForOf, i6.MatMenu, i6.MatMenuItem, i6.MatMenuTrigger, i7.MatAnchor, i8.MatIcon, i9.VentanasComponent, i10.NotificationsComponent, i11.UserComponent, i12.MenuImportacionesComponent, i13.MenuVentasComponent, i14.ArchivoComponent, i15.MantenimientoComponent, i16.MenuFondosComponent, i17.MenuInventarioComponent, i18.MenuCuentasCobrarComponent, i19.MenuContabilidadComponent, i20.MenuActivosFijosComponent, i21.MenuPlanillasPersonalComponent, i22.HerramientasComponent, i23.ReportesComponent, i24.AyudaComponent, i25.MenuComprasComponent, i26.OrderByPipe],\n    styles: [\".fa-bars[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.fila[_ngcontent-%COMP%]:hover {\\n  background-color: #29436d;\\n  color: white !important;\\n}\\n\\n.ahover[_ngcontent-%COMP%]:hover {\\n  color: #fbd800;\\n}\\n\\n.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.nav-item[_ngcontent-%COMP%]   button.nav-link[_ngcontent-%COMP%] {\\n  outline: none;\\n  border: none;\\n  background-color: transparent;\\n}\\n\\n\\n@media only screen and (max-width: 991px) {\\n  .navbar-hover[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]    > .dropdown-toggle[_ngcontent-%COMP%]::after {\\n    transform: rotate(-90deg);\\n  }\\n}\\n@media only screen and (min-width: 992px) {\\n  .navbar-hover[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    position: relative;\\n  }\\n  .navbar-hover[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover    > ul[_ngcontent-%COMP%] {\\n    display: block;\\n  }\\n  .navbar-hover[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 100%;\\n    left: 0;\\n    min-width: 250px;\\n    display: none;\\n  }\\n  .navbar-hover[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    left: 100%;\\n    min-width: 250px;\\n    display: none;\\n  }\\n}\\n.overflow-string[_ngcontent-%COMP%] {\\n  width: 170px;\\n  color: #093070;\\n  \\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n/*# sourceURL=webpack://./src/app/modules/main/header/header.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9tYWluL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSx5QkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBR0k7RUFDSSxlQUFBO0FBQVI7O0FBSUk7RUFDSSxhQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0FBRFI7O0FBS0EseUJBQUE7QUFDQTtFQUNJO0lBQ0kseUJBQUE7RUFGTjtBQUNGO0FBSUE7RUFDSTtJQUE4QixrQkFBQTtFQURoQztFQUVFO0lBQXdDLGNBQUE7RUFDMUM7RUFBRTtJQUE4QixrQkFBQTtJQUFrQixTQUFBO0lBQVMsT0FBQTtJQUFPLGdCQUFBO0lBQWdCLGFBQUE7RUFPbEY7RUFORTtJQUFpQyxrQkFBQTtJQUFrQixNQUFBO0lBQU0sVUFBQTtJQUFVLGdCQUFBO0lBQWdCLGFBQUE7RUFhckY7QUFDRjtBQVhBO0VBQ0ksWUFBQTtFQUNBLGNBQUE7RUFFQSx5REFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFZSiIsInNvdXJjZXNDb250ZW50IjpbIi5mYS1iYXJzIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uZmlsYTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyOTQzNmQ7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4uYWhvdmVyOmhvdmVyIHtcbiAgY29sb3I6ICNmYmQ4MDA7XG59XG5cbi5uYXYtaXRlbSAubmF2LWxpbmsge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5uYXYtaXRlbSBidXR0b24ubmF2LWxpbmsge1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4vKiBob3ZlciBkcm9wZG93biBtZW51cyAqL1xuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5OTFweCkge1xuICAubmF2YmFyLWhvdmVyIC5zaG93ID4gLmRyb3Bkb3duLXRvZ2dsZTo6YWZ0ZXIge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XG4gIH1cbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkycHgpIHtcbiAgLm5hdmJhci1ob3ZlciAuY29sbGFwc2UgdWwgbGkge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAubmF2YmFyLWhvdmVyIC5jb2xsYXBzZSB1bCBsaTpob3ZlciA+IHVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuICAubmF2YmFyLWhvdmVyIC5jb2xsYXBzZSB1bCB1bCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMTAwJTtcbiAgICBsZWZ0OiAwO1xuICAgIG1pbi13aWR0aDogMjUwcHg7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuICAubmF2YmFyLWhvdmVyIC5jb2xsYXBzZSB1bCB1bCB1bCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAxMDAlO1xuICAgIG1pbi13aWR0aDogMjUwcHg7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuLm92ZXJmbG93LXN0cmluZyB7XG4gIHdpZHRoOiAxNzBweDtcbiAgY29sb3I6ICMwOTMwNzA7XG4gIC8qIEJPVEggb2YgdGhlIGZvbGxvd2luZyBhcmUgcmVxdWlyZWQgZm9yIHRleHQtb3ZlcmZsb3cgKi9cbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return HeaderComponent;\n}();\nexport { HeaderComponent };","map":{"version":3,"mappings":"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","names":["ToggleControlSidebar","ToggleSidebarMenu","UntypedFormGroup","UntypedFormControl","Observable","i0","BASE_CLASSES","store","api","router","log_module","_location","datePipe","Date","onToggleMenuSidebar","HeaderComponent","obtenerUsuarioLogueado","ui","select","subscribe","state","_this","classes","navbarVariant","searchForm","search","getAllLogHistorialRutas","back","nombre","ruta","guardarVentana","navigate","dispatch","errorMessage","dataTransform","transform","fecha_actual","userConn","localStorage","getItem","undefined","JSON","parse","getAll","next","datav","log","log_ruta","filter","person","tipo","error","err","console","complete","selectors","hostVars","hostBindings","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\modules\\main\\header\\header.component.ts","C:\\laragon\\www\\SIAW-Angular-B\\src\\app\\modules\\main\\header\\header.component.html"],"sourcesContent":["import { AppState } from '@/store/state';\r\nimport { ToggleControlSidebar, ToggleSidebarMenu } from '@/store/ui/actions';\r\nimport { UiState } from '@/store/ui/state';\r\nimport { Component, HostBinding, Input, OnInit } from '@angular/core';\r\nimport { UntypedFormGroup, UntypedFormControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { ApiService } from '@services/api.service';\r\nimport { Observable, filter } from 'rxjs';\r\nimport { DatePipe, Location } from '@angular/common';\r\nimport { LogService } from '@services/log-service.service';\r\n\r\nconst BASE_CLASSES = 'main-header navbar navbar-expand navbar-warning';\r\n@Component({\r\n    selector: 'app-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss']\r\n})\r\n\r\nexport class HeaderComponent implements OnInit{\r\n\r\n    private log:any=[];\r\n    \r\n    @HostBinding('class') classes: string = BASE_CLASSES;\r\n    public ui: Observable<UiState>;\r\n    public searchForm: UntypedFormGroup;\r\n    public tipo_cambio_dolar:any;\r\n    public fecha_actual = new Date();\r\n    public log_ruta=[];\r\n    userConn:any='';\r\n    data:any=\"\";\r\n    \r\n    public ventana=\"login\"\r\n    public detalle=\"login-user\";\r\n\r\n    @Input() usuario: string;\r\n    @Input() servidor: string;\r\n    @Input() agencia: string;\r\n    location: any;\r\n    log_rutax:any;\r\n\r\n    constructor(private store: Store<AppState>,private api:ApiService, public router:Router,public log_module:LogService,\r\n        private _location: Location, private datePipe: DatePipe){\r\n        this.onToggleMenuSidebar();\r\n    }\r\n\r\n    ngOnInit(){\r\n        // IMPRIMIR DATOS DE CABECERA\r\n        this.api.obtenerUsuarioLogueado();\r\n        \r\n        this.ui = this.store.select('ui');\r\n        this.ui.subscribe((state: UiState) => {\r\n            this.classes = `${BASE_CLASSES} ${state.navbarVariant}`;\r\n        });\r\n        this.searchForm = new UntypedFormGroup({\r\n            search: new UntypedFormControl(null)\r\n        });\r\n\r\n        this.getAllLogHistorialRutas();\r\n    }\r\n\r\n    goBack(): void {\r\n        this._location.back();\r\n      }\r\n\r\n    guardarRutaLOG(nombre, ruta){\r\n        this.log_module.guardarVentana(nombre,'/');\r\n        this.router.navigate([ruta]);\r\n    }\r\n\r\n    onToggleMenuSidebar() {\r\n        this.store.dispatch(new ToggleSidebarMenu());\r\n    }\r\n\r\n    onToggleControlSidebar() {\r\n        this.store.dispatch(new ToggleControlSidebar());\r\n    }\r\n\r\n    getAllLogHistorialRutas(){\r\n        let errorMessage:string;\r\n        let dataTransform = this.datePipe.transform(this.fecha_actual, \"yyyy-MM-dd\");\r\n    \r\n        this.userConn = localStorage.getItem(\"user_conn\") !== undefined ? JSON.parse(localStorage.getItem(\"user_conn\")) : null;\r\n    \r\n        errorMessage = \"La Ruta o el servidor presenta fallos al hacer peticion GET, en la ruta /seg_adm/logs/selog/getselogfecha/  --Vista LOG/Angular\";\r\n        return this.api.getAll('/seg_adm/logs/selog/getselogfecha/'+this.userConn+\"/\"+dataTransform)     \r\n          .subscribe({\r\n            next: (datav) => {\r\n                this.log = datav;\r\n                // console.log(this.log);\r\n                this.log_ruta = this.log.filter((person) => person.tipo == 'ruta');          \r\n            },\r\n        \r\n            error: (err: any) => { \r\n              console.log(err, errorMessage);\r\n            },\r\n            complete: () => { }\r\n          })\r\n    }\r\n\r\n    rutaPATH(ruta){\r\n    // console.log('http://localhost:4200'+ruta);\r\n    \r\n    this.router.navigate([ruta]);\r\n    }\r\n}\r\n","<!-- <form class=\"form-inline ml-3\" [formGroup]=\"searchForm\" *ngIf=\"false\">\r\n    <div class=\"input-group input-group-sm\">\r\n        <input\r\n            class=\"form-control form-control-navbar\"\r\n            type=\"search\"\r\n            placeholder=\"Search\"\r\n            aria-label=\"Search\"\r\n        />\r\n        <div class=\"input-group-append\">\r\n            <button class=\"btn btn-navbar\" type=\"submit\">\r\n                <i class=\"fas fa-search\"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form> -->\r\n\r\n<div class=\"col\">\r\n  <div class=\"row\">\r\n    <!--<div class=\"col\">\r\n            <a class=\"nav-link\" (click)=\"onToggleMenuSidebar()\" role=\"button\" style=\"text-align: center;\">\r\n                <i class=\"fas fa-bars\" style=\"font-size: 1.3rem;\"></i>\r\n            </a>\r\n        </div> -->\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <a mat-button class=\"nav-link\" style=\"padding-top: 11px;\" (click)=\"guardarRutaLOG('inicio','/');\">\r\n              <span>🏠 Inicio</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-archivo></app-archivo>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-herramientas></app-herramientas>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-mantenimiento></app-mantenimiento>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-reportes></app-reportes>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-ayuda></app-ayuda>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-ventanas></app-ventanas>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <a mat-button class=\"nav-link\" [matMenuTriggerFor]=\"mantenimiento\" style=\"font-size: 0.95rem;\">\r\n              <span>Historial <mat-icon style=\"padding-block-start: 7px;\">keyboard_arrow_down</mat-icon></span>\r\n            </a>\r\n\r\n            <mat-menu #mantenimiento=\"matMenu\">\r\n              <button mat-menu-item (click)=\"goBack();\">\r\n                <i class=\"fa fa-arrow-left\"></i>&nbsp; Ventana Anterior\r\n              </button>\r\n              <div>\r\n                <hr>\r\n                <ul class=\"list-group\">\r\n                  <li class=\"list-group-item fila\" *ngFor=\"let log_rutas of log_ruta | orderBy: 'id'\"\r\n                    style=\"padding: 0.65rem 0.25rem !important;\">\r\n                    <div class=\"row \">\r\n                      <div class=\"col-sm\">\r\n                        <img src=\"assets/img/logo.png\" alt=\"Pertec S.R.L Logo\"\r\n                          style=\"width: 61%;height: 80%;display: block;margin: auto;border-radius: 11px;\"\r\n                          class=\"logoRespomsive\">\r\n                      </div>\r\n                      <div class=\"col-sm-8\">\r\n                        <span class=\"row\" style=\"text-transform: uppercase;\">{{ log_rutas.ventana }}</span>\r\n                        <span class=\"row\" (click)=\"rutaPATH(log_rutas.detalle);\"\r\n                          style=\"cursor: pointer;color: dodgerblue;\">\r\n                          <span class=\"ahover overflow-string\">{{ log_rutas.detalle }}</span>\r\n                        </span>\r\n\r\n                        <span class=\"row\" style=\"color: gray;\">Hrs: {{ log_rutas.hora }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </mat-menu>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"navbar-nav ml-auto\">\r\n          <!-- <app-messages></app-messages> -->\r\n          <app-notifications></app-notifications>\r\n          <!-- <app-language></app-language> -->\r\n          <app-user></app-user>\r\n          <!-- <li class=\"nav-item\">\r\n                    <button class=\"nav-link\" (click)=\"onToggleControlSidebar()\">\r\n                        <i class=\"fas fa-th-large\"></i>\r\n                    </button>\r\n                </li> -->\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"row\" style=\"padding-left: 10px;\">\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-inventario></app-menu-inventario>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-ventas></app-menu-ventas>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-cuentas-cobrar></app-menu-cuentas-cobrar>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-importaciones></app-menu-importaciones>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-contabilidad></app-menu-contabilidad>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-activos-fijos></app-menu-activos-fijos>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-planillas-personal></app-menu-planillas-personal>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-compras></app-menu-compras>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\">\r\n          <li class=\"nav-item\">\r\n            <app-menu-fondos></app-menu-fondos>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"nav flex-column flex-nowrap overflow-hidden\" style=\"float: right;\">\r\n          <a class=\"nav-link\" (click)=\"onToggleMenuSidebar()\" role=\"button\" style=\"text-align: center;color: #093070;\">\r\n            <i class=\"fas fa-bars\" style=\"font-size: 1.3rem;\"></i>\r\n          </a>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}