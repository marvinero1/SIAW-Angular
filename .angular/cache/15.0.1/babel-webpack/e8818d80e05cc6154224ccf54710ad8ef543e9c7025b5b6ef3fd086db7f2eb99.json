{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  _classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\nimport { Positioner } from \"./positioner.mjs\";\nimport { createMenuNavigator } from \"./navigator.mjs\";\nimport { createKeyboardShortcutsCtrl } from \"./shortcuts.mjs\";\nimport { SEPARATOR, NO_ITEMS, predefinedItems } from \"./../predefinedItems/index.mjs\";\nimport { filterSeparators, hasSubMenu, isItemHidden, normalizeSelection, isItemSubMenu, isItemDisabled, isItemSeparator } from \"./utils.mjs\";\nimport EventManager from \"../../../eventManager.mjs\";\nimport { arrayEach, arrayFilter, arrayReduce } from \"../../../helpers/array.mjs\";\nimport { isWindowsOS, isMobileBrowser, isIpadOS } from \"../../../helpers/browser.mjs\";\nimport { addClass, isChildOf, getParentWindow, hasClass, setAttribute } from \"../../../helpers/dom/element.mjs\";\nimport { isRightClick } from \"../../../helpers/dom/event.mjs\";\nimport { debounce, isFunction } from \"../../../helpers/function.mjs\";\nimport { isUndefined, isDefined } from \"../../../helpers/mixed.mjs\";\nimport { mixin } from \"../../../helpers/object.mjs\";\nimport localHooks from \"../../../mixins/localHooks.mjs\";\nimport { createMenuItemRenderer } from \"./menuItemRenderer.mjs\";\nimport { A11Y_EXPANDED, A11Y_MENU, A11Y_TABINDEX } from \"../../../helpers/a11y.mjs\";\nconst MIN_WIDTH = 215;\n\n/**\n * @typedef MenuOptions\n * @property {Menu} [parent=null] Instance of {@link Menu}.\n * @property {string} [name=null] Name of the menu.\n * @property {string} [className=''] Custom class name.\n * @property {boolean} [keepInViewport=true] Determine if should be kept in viewport.\n * @property {boolean} [standalone] Enabling closing menu when clicked element is not belongs to menu itself.\n * @property {number} [minWidth=MIN_WIDTH] The minimum width.\n * @property {HTMLElement} [container] The container.\n */\n\n/**\n * @private\n * @class Menu\n */\nvar _navigator = /*#__PURE__*/new WeakMap();\nvar _shortcutsCtrl = /*#__PURE__*/new WeakMap();\nexport class Menu {\n  /**\n   * @param {Core} hotInstance Handsontable instance.\n   * @param {MenuOptions} [options] Menu options.\n   */\n  constructor(hotInstance, options) {\n    var _this = this;\n    /**\n     * The Handsontable instance.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hot\", void 0);\n    /**\n     * The Menu options.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"options\", void 0);\n    /**\n     * @type {EventManager}\n     */\n    _defineProperty(this, \"eventManager\", new EventManager(this));\n    /**\n     * The Menu container element.\n     *\n     * @type {HTMLElement}\n     */\n    _defineProperty(this, \"container\", void 0);\n    /**\n     * @type {Positioner}\n     */\n    _defineProperty(this, \"positioner\", void 0);\n    /**\n     * The instance of the Handsontable that is used as a menu.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hotMenu\", null);\n    /**\n     * The collection of the Handsontable instances that are used as sub-menus.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"hotSubMenus\", {});\n    /**\n     * If the menu acts as the sub-menu then this property contains the reference to the parent menu.\n     *\n     * @type {Menu}\n     */\n    _defineProperty(this, \"parentMenu\", void 0);\n    /**\n     * The menu items entries.\n     *\n     * @type {object[]}\n     */\n    _defineProperty(this, \"menuItems\", null);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"origOutsideClickDeselects\", null);\n    /**\n     * The controller module that allows modifying the menu item selection positions.\n     *\n     * @type {Paginator}\n     */\n    _classPrivateFieldInitSpec(this, _navigator, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * The controller module that allows extending the keyboard shortcuts for the menu.\n     *\n     * @type {KeyboardShortcutsMenuController}\n     */\n    _classPrivateFieldInitSpec(this, _shortcutsCtrl, {\n      writable: true,\n      value: void 0\n    });\n    this.hot = hotInstance;\n    this.options = options || {\n      parent: null,\n      name: null,\n      className: '',\n      keepInViewport: true,\n      standalone: false,\n      minWidth: MIN_WIDTH,\n      container: this.hot.rootDocument.documentElement\n    };\n    this.container = this.createContainer(this.options.name);\n    this.positioner = new Positioner(this.options.keepInViewport);\n    this.parentMenu = this.options.parent || null;\n    this.registerEvents();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterSelectionChange', function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return _this.parentMenu.runLocalHooks('afterSelectionChange', ...args);\n      });\n    }\n  }\n\n  /**\n   * Register event listeners.\n   *\n   * @private\n   */\n  registerEvents() {\n    let frame = this.hot.rootWindow;\n    while (frame) {\n      this.eventManager.addEventListener(frame.document, 'mousedown', event => this.onDocumentMouseDown(event));\n      this.eventManager.addEventListener(frame.document, 'contextmenu', event => this.onDocumentContextMenu(event));\n      frame = getParentWindow(frame);\n    }\n  }\n\n  /**\n   * Set array of objects which defines menu items.\n   *\n   * @param {Array} menuItems Menu items to display.\n   */\n  setMenuItems(menuItems) {\n    this.menuItems = menuItems;\n  }\n\n  /**\n   * Gets the controller object that allows modifying the the menu item selection.\n   *\n   * @returns {Paginator | undefined}\n   */\n  getNavigator() {\n    return _classPrivateFieldGet(this, _navigator);\n  }\n\n  /**\n   * Gets the controller object that allows extending the keyboard shortcuts of the menu.\n   *\n   * @returns {KeyboardShortcutsMenuController | undefined}\n   */\n  getKeyboardShortcutsCtrl() {\n    return _classPrivateFieldGet(this, _shortcutsCtrl);\n  }\n\n  /**\n   * Returns currently selected menu item. Returns `null` if no item was selected.\n   *\n   * @returns {object|null}\n   */\n  getSelectedItem() {\n    return this.hasSelectedItem() ? this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]) : null;\n  }\n\n  /**\n   * Checks if the menu has selected (highlighted) any item from the menu list.\n   *\n   * @returns {boolean}\n   */\n  hasSelectedItem() {\n    return Array.isArray(this.hotMenu.getSelectedLast());\n  }\n\n  /**\n   * Check if menu is using as sub-menu.\n   *\n   * @returns {boolean}\n   */\n  isSubMenu() {\n    return this.parentMenu !== null;\n  }\n\n  /**\n   * Open menu.\n   *\n   * @fires Hooks#beforeContextMenuShow\n   * @fires Hooks#afterContextMenuShow\n   */\n  open() {\n    this.runLocalHooks('beforeOpen');\n    this.container.removeAttribute('style');\n    this.container.style.display = 'block';\n    const delayedOpenSubMenu = debounce(row => this.openSubMenu(row), 300);\n    const minWidthOfMenu = this.options.minWidth || MIN_WIDTH;\n    let noItemsDefined = false;\n    let filteredItems = arrayFilter(this.menuItems, item => {\n      if (item.key === NO_ITEMS) {\n        noItemsDefined = true;\n      }\n      return isItemHidden(item, this.hot);\n    });\n    if (filteredItems.length < 1 && !noItemsDefined) {\n      filteredItems.push(predefinedItems()[NO_ITEMS]);\n    } else if (filteredItems.length === 0) {\n      return;\n    }\n    filteredItems = filterSeparators(filteredItems, SEPARATOR);\n    let shouldAutoCloseMenu = false;\n    const settings = {\n      data: filteredItems,\n      colHeaders: false,\n      autoColumnSize: true,\n      autoWrapRow: false,\n      modifyColWidth(width) {\n        if (isDefined(width) && width < minWidthOfMenu) {\n          return minWidthOfMenu;\n        }\n        return width;\n      },\n      autoRowSize: false,\n      readOnly: true,\n      editor: false,\n      copyPaste: false,\n      hiddenRows: true,\n      maxCols: 1,\n      columns: [{\n        data: 'name',\n        renderer: createMenuItemRenderer(this.hot)\n      }],\n      renderAllRows: true,\n      fragmentSelection: false,\n      outsideClickDeselects: false,\n      disableVisualSelection: 'area',\n      layoutDirection: this.hot.isRtl() ? 'rtl' : 'ltr',\n      ariaTags: false,\n      beforeOnCellMouseOver: (event, coords) => {\n        _classPrivateFieldGet(this, _navigator).setCurrentPage(coords.row);\n      },\n      afterOnCellMouseOver: (event, coords) => {\n        if (this.isAllSubMenusClosed()) {\n          delayedOpenSubMenu(coords.row);\n        } else {\n          this.openSubMenu(coords.row);\n        }\n      },\n      rowHeights: row => filteredItems[row].name === SEPARATOR ? 1 : 23,\n      afterOnCellContextMenu: event => {\n        event.preventDefault();\n\n        // On the Windows platform, the \"contextmenu\" is triggered after the \"mouseup\" so that's\n        // why the closing menu is here. (#6507#issuecomment-582392301).\n        if (isWindowsOS() && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          this.close(true);\n        }\n      },\n      afterSelection: (row, column, row2, column2, preventScrolling) => {\n        // do not scroll the viewport when mouse clicks on partially visible menu item\n        if (this.hotMenu.view.isMouseDown()) {\n          preventScrolling.value = true;\n        }\n        this.runLocalHooks('afterSelectionChange', this.getSelectedItem());\n      },\n      beforeOnCellMouseUp: event => {\n        if (this.hasSelectedItem()) {\n          shouldAutoCloseMenu = !this.isCommandPassive(this.getSelectedItem());\n          this.executeCommand(event);\n        }\n      },\n      afterOnCellMouseUp: event => {\n        // If the code runs on the other platform than Windows, the \"mouseup\" is triggered\n        // after the \"contextmenu\". So then \"mouseup\" closes the menu. Otherwise, the closing\n        // menu responsibility is forwarded to \"afterOnCellContextMenu\" callback (#6507#issuecomment-582392301).\n        if ((!isWindowsOS() || !isRightClick(event)) && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          // The timeout is necessary only for mobile devices. For desktop, the click event that is fired\n          // right after the mouseup event gets the event element target the same as the mouseup event.\n          // For mobile devices, the click event is triggered with native delay (~300ms), so when the mouseup\n          // event hides the tapped element, the click event grabs the element below. As a result, the filter\n          // by condition menu is closed and immediately open on tapping the \"None\" item.\n          if (isMobileBrowser() || isIpadOS()) {\n            this.hot._registerTimeout(() => this.close(true), 325);\n          } else {\n            this.close(true);\n          }\n        }\n      },\n      afterUnlisten: () => {\n        // Restore menu focus, fix for `this.instance.unlisten();` call in the tableView.js@260 file.\n        // This prevents losing table responsiveness for keyboard events when filter select menu is closed (#6497).\n        if (!this.hasSelectedItem() && this.isOpened()) {\n          this.hotMenu.listen();\n        }\n      }\n    };\n    this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects;\n    this.hot.getSettings().outsideClickDeselects = false;\n    this.hotMenu = new this.hot.constructor(this.container, settings);\n    this.hotMenu.addHook('afterInit', () => this.onAfterInit());\n    this.hotMenu.init();\n    _classPrivateFieldSet(this, _navigator, createMenuNavigator(this.hotMenu));\n    _classPrivateFieldSet(this, _shortcutsCtrl, createKeyboardShortcutsCtrl(this));\n    _classPrivateFieldGet(this, _shortcutsCtrl).listen();\n    this.focus();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterOpen', () => this.parentMenu.runLocalHooks('afterSubmenuOpen', this));\n    }\n    this.runLocalHooks('afterOpen', this);\n  }\n\n  /**\n   * Close menu.\n   *\n   * @param {boolean} [closeParent=false] If `true` try to close parent menu if exists.\n   */\n  close() {\n    let closeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!this.isOpened()) {\n      return;\n    }\n    if (closeParent && this.isSubMenu()) {\n      this.parentMenu.close();\n    } else {\n      _classPrivateFieldGet(this, _navigator).clear();\n      this.closeAllSubMenus();\n      this.container.style.display = 'none';\n      this.hotMenu.destroy();\n      this.hotMenu = null;\n      this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects;\n      this.runLocalHooks('afterClose');\n      if (this.isSubMenu()) {\n        if (this.hot.getSettings().ariaTags) {\n          const selection = this.parentMenu.hotMenu.getSelectedLast();\n          if (selection) {\n            const cell = this.parentMenu.hotMenu.getCell(selection[0], 0);\n            setAttribute(cell, [A11Y_EXPANDED(false)]);\n          }\n        }\n        this.parentMenu.hotMenu.listen();\n      }\n    }\n  }\n\n  /**\n   * Open sub menu at the provided row index.\n   *\n   * @param {number} row Row index.\n   * @returns {Menu|boolean} Returns created menu or `false` if no one menu was created.\n   */\n  openSubMenu(row) {\n    if (!this.hotMenu) {\n      return false;\n    }\n    const cell = this.hotMenu.getCell(row, 0);\n    this.closeAllSubMenus();\n    if (!cell || !hasSubMenu(cell)) {\n      return false;\n    }\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const subMenu = new Menu(this.hot, {\n      parent: this,\n      name: dataItem.name,\n      className: this.options.className,\n      keepInViewport: true,\n      container: this.options.container\n    });\n    subMenu.setMenuItems(dataItem.submenu.items);\n    subMenu.open();\n    subMenu.setPosition(cell.getBoundingClientRect());\n    this.hotSubMenus[dataItem.key] = subMenu;\n\n    // Update the accessibility tags on the cell being the base for the submenu.\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(cell, [A11Y_EXPANDED(true)]);\n    }\n    return subMenu;\n  }\n\n  /**\n   * Close sub menu at row index.\n   *\n   * @param {number} row Row index.\n   */\n  closeSubMenu(row) {\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const menus = this.hotSubMenus[dataItem.key];\n    if (menus) {\n      menus.destroy();\n      delete this.hotSubMenus[dataItem.key];\n      const cell = this.hotMenu.getCell(row, 0);\n\n      // Update the accessibility tags on the cell being the base for the submenu.\n      if (this.hot.getSettings().ariaTags) {\n        setAttribute(cell, [A11Y_EXPANDED(false)]);\n      }\n    }\n  }\n\n  /**\n   * Close all opened sub menus.\n   */\n  closeAllSubMenus() {\n    arrayEach(this.hotMenu.getData(), (value, row) => this.closeSubMenu(row));\n  }\n\n  /**\n   * Checks if all created and opened sub menus are closed.\n   *\n   * @returns {boolean}\n   */\n  isAllSubMenusClosed() {\n    return Object.keys(this.hotSubMenus).length === 0;\n  }\n\n  /**\n   * Focus the menu so all keyboard shortcuts become active.\n   */\n  focus() {\n    if (this.isOpened()) {\n      this.hotMenu.rootElement.focus({\n        preventScroll: true\n      });\n      this.getKeyboardShortcutsCtrl().listen();\n      this.hotMenu.listen();\n    }\n  }\n\n  /**\n   * Destroy instance.\n   */\n  destroy() {\n    const menuContainerParentElement = this.container.parentNode;\n    this.clearLocalHooks();\n    this.close();\n    this.parentMenu = null;\n    this.eventManager.destroy();\n    if (menuContainerParentElement) {\n      menuContainerParentElement.removeChild(this.container);\n    }\n  }\n\n  /**\n   * Checks if menu was opened.\n   *\n   * @returns {boolean} Returns `true` if menu was opened.\n   */\n  isOpened() {\n    return this.hotMenu !== null;\n  }\n\n  /**\n   * Execute menu command.\n   *\n   * The `executeCommand()` method works only for selected cells.\n   *\n   * When no cells are selected, `executeCommand()` doesn't do anything.\n   *\n   * @param {Event} [event] The mouse event object.\n   */\n  executeCommand(event) {\n    if (!this.isOpened() || !this.hasSelectedItem()) {\n      return;\n    }\n    const selectedItem = this.getSelectedItem();\n    this.runLocalHooks('select', selectedItem, event);\n    if (this.isCommandPassive(selectedItem)) {\n      return;\n    }\n    const selRanges = this.hot.getSelectedRange();\n    const normalizedSelection = selRanges ? normalizeSelection(selRanges) : [];\n    this.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    if (this.isSubMenu()) {\n      this.parentMenu.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    }\n  }\n\n  /**\n   * Checks if the passed command is passive or not. The command is passive when it's marked as\n   * disabled, the descriptor object contains `isCommand` property set to `false`, command\n   * is a separator, or the item is recognized as submenu. For passive items the menu is not\n   * closed automatically after the user trigger the command through the UI.\n   *\n   * @param {object} commandDescriptor Selected menu item from the menu data source.\n   * @returns {boolean}\n   */\n  isCommandPassive(commandDescriptor) {\n    return commandDescriptor.isCommand === false || isItemSeparator(commandDescriptor) || isItemDisabled(commandDescriptor, this.hot) || isItemSubMenu(commandDescriptor);\n  }\n\n  /**\n   * Set offset menu position for specified area (`above`, `below`, `left` or `right`).\n   *\n   * @param {string} area Specified area name (`above`, `below`, `left` or `right`).\n   * @param {number} offset Offset value.\n   */\n  setOffset(area) {\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.positioner.setOffset(area, offset);\n  }\n\n  /**\n   * Set menu position based on dom event or based on literal object.\n   *\n   * @param {Event|object} coords Event or literal Object with coordinates.\n   */\n  setPosition(coords) {\n    if (this.isSubMenu()) {\n      this.positioner.setParentElement(this.parentMenu.container);\n    }\n    this.positioner.setElement(this.container).updatePosition(coords);\n  }\n\n  /**\n   * Create container/wrapper for handsontable.\n   *\n   * @private\n   * @param {string} [name] Class name.\n   * @returns {HTMLElement}\n   */\n  createContainer() {\n    let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    const doc = this.options.container.ownerDocument;\n    let className = name;\n    let container;\n    if (className) {\n      if (isFunction(className)) {\n        className = className.call(this.hot);\n        if (className === null || isUndefined(className)) {\n          className = '';\n        } else {\n          className = className.toString();\n        }\n      }\n      className = className.replace(/[^A-z0-9]/g, '_');\n      className = `${this.options.className}Sub_${className}`;\n      container = doc.querySelector(`.${this.options.className}.${className}`);\n    }\n    if (!container) {\n      container = doc.createElement('div');\n      addClass(container, `htMenu ${this.options.className}`);\n      if (className) {\n        addClass(container, className);\n      }\n      this.options.container.appendChild(container);\n    }\n    return container;\n  }\n\n  /**\n   * On after init listener.\n   *\n   * @private\n   */\n  onAfterInit() {\n    const {\n      wtTable\n    } = this.hotMenu.view._wt;\n    const data = this.hotMenu.getSettings().data;\n    const hiderStyle = wtTable.hider.style;\n    const holderStyle = wtTable.holder.style;\n    const currentHiderWidth = parseInt(hiderStyle.width, 10);\n    const realHeight = arrayReduce(data, (accumulator, value) => accumulator + (value.name === SEPARATOR ? 1 : 26), 0);\n\n    // Additional 3px to menu's size because of additional border around its `table.htCore`.\n    holderStyle.width = `${currentHiderWidth + 3}px`;\n    holderStyle.height = `${realHeight + 3}px`;\n    hiderStyle.height = holderStyle.height;\n\n    // Replace the default accessibility tags with the context menu's\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(this.hotMenu.rootElement, [A11Y_MENU(), A11Y_TABINDEX(-1)]);\n    }\n  }\n\n  /**\n   * Document mouse down listener.\n   *\n   * @private\n   * @param {Event} event The mouse event object.\n   */\n  onDocumentMouseDown(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n\n    // Close menu when clicked element is not belongs to menu itself\n    if (this.options.standalone && this.hotMenu && !isChildOf(event.target, this.hotMenu.rootElement)) {\n      this.close(true);\n\n      // Automatically close menu when clicked element is not belongs to menu or submenu (not necessarily to itself)\n    } else if ((this.isAllSubMenusClosed() || this.isSubMenu()) && !isChildOf(event.target, '.htMenu')) {\n      this.close(true);\n    }\n  }\n\n  /**\n   * Document's contextmenu listener.\n   *\n   * @private\n   * @param {MouseEvent} event The mouse event object.\n   */\n  onDocumentContextMenu(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n    if (hasClass(event.target, 'htCore') && isChildOf(event.target, this.hotMenu.rootElement)) {\n      event.preventDefault();\n    }\n  }\n}\nmixin(Menu, localHooks);","map":{"version":3,"names":["_classPrivateFieldInitSpec","obj","privateMap","value","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","_defineProperty","key","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","Number","_classPrivateFieldSet","receiver","descriptor","_classExtractFieldDescriptor","_classApplyDescriptorSet","_classPrivateFieldGet","_classApplyDescriptorGet","action","get","Positioner","createMenuNavigator","createKeyboardShortcutsCtrl","SEPARATOR","NO_ITEMS","predefinedItems","filterSeparators","hasSubMenu","isItemHidden","normalizeSelection","isItemSubMenu","isItemDisabled","isItemSeparator","EventManager","arrayEach","arrayFilter","arrayReduce","isWindowsOS","isMobileBrowser","isIpadOS","addClass","isChildOf","getParentWindow","hasClass","setAttribute","isRightClick","debounce","isFunction","isUndefined","isDefined","mixin","localHooks","createMenuItemRenderer","A11Y_EXPANDED","A11Y_MENU","A11Y_TABINDEX","MIN_WIDTH","_navigator","WeakMap","_shortcutsCtrl","Menu","constructor","hotInstance","options","_this","hot","parent","name","className","keepInViewport","standalone","minWidth","container","rootDocument","documentElement","createContainer","positioner","parentMenu","registerEvents","isSubMenu","addLocalHook","_len","arguments","length","args","Array","_key","runLocalHooks","frame","rootWindow","eventManager","addEventListener","document","event","onDocumentMouseDown","onDocumentContextMenu","setMenuItems","menuItems","getNavigator","getKeyboardShortcutsCtrl","getSelectedItem","hasSelectedItem","hotMenu","getSourceDataAtRow","getSelectedLast","isArray","open","removeAttribute","style","display","delayedOpenSubMenu","row","openSubMenu","minWidthOfMenu","noItemsDefined","filteredItems","item","push","shouldAutoCloseMenu","settings","data","colHeaders","autoColumnSize","autoWrapRow","modifyColWidth","width","autoRowSize","readOnly","editor","copyPaste","hiddenRows","maxCols","columns","renderer","renderAllRows","fragmentSelection","outsideClickDeselects","disableVisualSelection","layoutDirection","isRtl","ariaTags","beforeOnCellMouseOver","coords","setCurrentPage","afterOnCellMouseOver","isAllSubMenusClosed","rowHeights","afterOnCellContextMenu","preventDefault","close","afterSelection","column","row2","column2","preventScrolling","view","isMouseDown","beforeOnCellMouseUp","isCommandPassive","executeCommand","afterOnCellMouseUp","_registerTimeout","afterUnlisten","isOpened","listen","origOutsideClickDeselects","getSettings","addHook","onAfterInit","init","focus","closeParent","undefined","clear","closeAllSubMenus","destroy","selection","cell","getCell","dataItem","subMenu","submenu","items","setPosition","getBoundingClientRect","hotSubMenus","closeSubMenu","menus","getData","keys","rootElement","preventScroll","menuContainerParentElement","parentNode","clearLocalHooks","removeChild","selectedItem","selRanges","getSelectedRange","normalizedSelection","commandDescriptor","isCommand","setOffset","area","offset","setParentElement","setElement","updatePosition","doc","ownerDocument","toString","replace","querySelector","createElement","appendChild","wtTable","_wt","hiderStyle","hider","holderStyle","holder","currentHiderWidth","parseInt","realHeight","accumulator","height","target"],"sources":["C:/laragon/www/SIAW-Angular-B/node_modules/handsontable/plugins/contextMenu/menu/menu.mjs"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nimport { Positioner } from \"./positioner.mjs\";\nimport { createMenuNavigator } from \"./navigator.mjs\";\nimport { createKeyboardShortcutsCtrl } from \"./shortcuts.mjs\";\nimport { SEPARATOR, NO_ITEMS, predefinedItems } from \"./../predefinedItems/index.mjs\";\nimport { filterSeparators, hasSubMenu, isItemHidden, normalizeSelection, isItemSubMenu, isItemDisabled, isItemSeparator } from \"./utils.mjs\";\nimport EventManager from \"../../../eventManager.mjs\";\nimport { arrayEach, arrayFilter, arrayReduce } from \"../../../helpers/array.mjs\";\nimport { isWindowsOS, isMobileBrowser, isIpadOS } from \"../../../helpers/browser.mjs\";\nimport { addClass, isChildOf, getParentWindow, hasClass, setAttribute } from \"../../../helpers/dom/element.mjs\";\nimport { isRightClick } from \"../../../helpers/dom/event.mjs\";\nimport { debounce, isFunction } from \"../../../helpers/function.mjs\";\nimport { isUndefined, isDefined } from \"../../../helpers/mixed.mjs\";\nimport { mixin } from \"../../../helpers/object.mjs\";\nimport localHooks from \"../../../mixins/localHooks.mjs\";\nimport { createMenuItemRenderer } from \"./menuItemRenderer.mjs\";\nimport { A11Y_EXPANDED, A11Y_MENU, A11Y_TABINDEX } from \"../../../helpers/a11y.mjs\";\nconst MIN_WIDTH = 215;\n\n/**\n * @typedef MenuOptions\n * @property {Menu} [parent=null] Instance of {@link Menu}.\n * @property {string} [name=null] Name of the menu.\n * @property {string} [className=''] Custom class name.\n * @property {boolean} [keepInViewport=true] Determine if should be kept in viewport.\n * @property {boolean} [standalone] Enabling closing menu when clicked element is not belongs to menu itself.\n * @property {number} [minWidth=MIN_WIDTH] The minimum width.\n * @property {HTMLElement} [container] The container.\n */\n\n/**\n * @private\n * @class Menu\n */\nvar _navigator = /*#__PURE__*/new WeakMap();\nvar _shortcutsCtrl = /*#__PURE__*/new WeakMap();\nexport class Menu {\n  /**\n   * @param {Core} hotInstance Handsontable instance.\n   * @param {MenuOptions} [options] Menu options.\n   */\n  constructor(hotInstance, options) {\n    var _this = this;\n    /**\n     * The Handsontable instance.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hot\", void 0);\n    /**\n     * The Menu options.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"options\", void 0);\n    /**\n     * @type {EventManager}\n     */\n    _defineProperty(this, \"eventManager\", new EventManager(this));\n    /**\n     * The Menu container element.\n     *\n     * @type {HTMLElement}\n     */\n    _defineProperty(this, \"container\", void 0);\n    /**\n     * @type {Positioner}\n     */\n    _defineProperty(this, \"positioner\", void 0);\n    /**\n     * The instance of the Handsontable that is used as a menu.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hotMenu\", null);\n    /**\n     * The collection of the Handsontable instances that are used as sub-menus.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"hotSubMenus\", {});\n    /**\n     * If the menu acts as the sub-menu then this property contains the reference to the parent menu.\n     *\n     * @type {Menu}\n     */\n    _defineProperty(this, \"parentMenu\", void 0);\n    /**\n     * The menu items entries.\n     *\n     * @type {object[]}\n     */\n    _defineProperty(this, \"menuItems\", null);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"origOutsideClickDeselects\", null);\n    /**\n     * The controller module that allows modifying the menu item selection positions.\n     *\n     * @type {Paginator}\n     */\n    _classPrivateFieldInitSpec(this, _navigator, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * The controller module that allows extending the keyboard shortcuts for the menu.\n     *\n     * @type {KeyboardShortcutsMenuController}\n     */\n    _classPrivateFieldInitSpec(this, _shortcutsCtrl, {\n      writable: true,\n      value: void 0\n    });\n    this.hot = hotInstance;\n    this.options = options || {\n      parent: null,\n      name: null,\n      className: '',\n      keepInViewport: true,\n      standalone: false,\n      minWidth: MIN_WIDTH,\n      container: this.hot.rootDocument.documentElement\n    };\n    this.container = this.createContainer(this.options.name);\n    this.positioner = new Positioner(this.options.keepInViewport);\n    this.parentMenu = this.options.parent || null;\n    this.registerEvents();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterSelectionChange', function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return _this.parentMenu.runLocalHooks('afterSelectionChange', ...args);\n      });\n    }\n  }\n\n  /**\n   * Register event listeners.\n   *\n   * @private\n   */\n  registerEvents() {\n    let frame = this.hot.rootWindow;\n    while (frame) {\n      this.eventManager.addEventListener(frame.document, 'mousedown', event => this.onDocumentMouseDown(event));\n      this.eventManager.addEventListener(frame.document, 'contextmenu', event => this.onDocumentContextMenu(event));\n      frame = getParentWindow(frame);\n    }\n  }\n\n  /**\n   * Set array of objects which defines menu items.\n   *\n   * @param {Array} menuItems Menu items to display.\n   */\n  setMenuItems(menuItems) {\n    this.menuItems = menuItems;\n  }\n\n  /**\n   * Gets the controller object that allows modifying the the menu item selection.\n   *\n   * @returns {Paginator | undefined}\n   */\n  getNavigator() {\n    return _classPrivateFieldGet(this, _navigator);\n  }\n\n  /**\n   * Gets the controller object that allows extending the keyboard shortcuts of the menu.\n   *\n   * @returns {KeyboardShortcutsMenuController | undefined}\n   */\n  getKeyboardShortcutsCtrl() {\n    return _classPrivateFieldGet(this, _shortcutsCtrl);\n  }\n\n  /**\n   * Returns currently selected menu item. Returns `null` if no item was selected.\n   *\n   * @returns {object|null}\n   */\n  getSelectedItem() {\n    return this.hasSelectedItem() ? this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]) : null;\n  }\n\n  /**\n   * Checks if the menu has selected (highlighted) any item from the menu list.\n   *\n   * @returns {boolean}\n   */\n  hasSelectedItem() {\n    return Array.isArray(this.hotMenu.getSelectedLast());\n  }\n\n  /**\n   * Check if menu is using as sub-menu.\n   *\n   * @returns {boolean}\n   */\n  isSubMenu() {\n    return this.parentMenu !== null;\n  }\n\n  /**\n   * Open menu.\n   *\n   * @fires Hooks#beforeContextMenuShow\n   * @fires Hooks#afterContextMenuShow\n   */\n  open() {\n    this.runLocalHooks('beforeOpen');\n    this.container.removeAttribute('style');\n    this.container.style.display = 'block';\n    const delayedOpenSubMenu = debounce(row => this.openSubMenu(row), 300);\n    const minWidthOfMenu = this.options.minWidth || MIN_WIDTH;\n    let noItemsDefined = false;\n    let filteredItems = arrayFilter(this.menuItems, item => {\n      if (item.key === NO_ITEMS) {\n        noItemsDefined = true;\n      }\n      return isItemHidden(item, this.hot);\n    });\n    if (filteredItems.length < 1 && !noItemsDefined) {\n      filteredItems.push(predefinedItems()[NO_ITEMS]);\n    } else if (filteredItems.length === 0) {\n      return;\n    }\n    filteredItems = filterSeparators(filteredItems, SEPARATOR);\n    let shouldAutoCloseMenu = false;\n    const settings = {\n      data: filteredItems,\n      colHeaders: false,\n      autoColumnSize: true,\n      autoWrapRow: false,\n      modifyColWidth(width) {\n        if (isDefined(width) && width < minWidthOfMenu) {\n          return minWidthOfMenu;\n        }\n        return width;\n      },\n      autoRowSize: false,\n      readOnly: true,\n      editor: false,\n      copyPaste: false,\n      hiddenRows: true,\n      maxCols: 1,\n      columns: [{\n        data: 'name',\n        renderer: createMenuItemRenderer(this.hot)\n      }],\n      renderAllRows: true,\n      fragmentSelection: false,\n      outsideClickDeselects: false,\n      disableVisualSelection: 'area',\n      layoutDirection: this.hot.isRtl() ? 'rtl' : 'ltr',\n      ariaTags: false,\n      beforeOnCellMouseOver: (event, coords) => {\n        _classPrivateFieldGet(this, _navigator).setCurrentPage(coords.row);\n      },\n      afterOnCellMouseOver: (event, coords) => {\n        if (this.isAllSubMenusClosed()) {\n          delayedOpenSubMenu(coords.row);\n        } else {\n          this.openSubMenu(coords.row);\n        }\n      },\n      rowHeights: row => filteredItems[row].name === SEPARATOR ? 1 : 23,\n      afterOnCellContextMenu: event => {\n        event.preventDefault();\n\n        // On the Windows platform, the \"contextmenu\" is triggered after the \"mouseup\" so that's\n        // why the closing menu is here. (#6507#issuecomment-582392301).\n        if (isWindowsOS() && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          this.close(true);\n        }\n      },\n      afterSelection: (row, column, row2, column2, preventScrolling) => {\n        // do not scroll the viewport when mouse clicks on partially visible menu item\n        if (this.hotMenu.view.isMouseDown()) {\n          preventScrolling.value = true;\n        }\n        this.runLocalHooks('afterSelectionChange', this.getSelectedItem());\n      },\n      beforeOnCellMouseUp: event => {\n        if (this.hasSelectedItem()) {\n          shouldAutoCloseMenu = !this.isCommandPassive(this.getSelectedItem());\n          this.executeCommand(event);\n        }\n      },\n      afterOnCellMouseUp: event => {\n        // If the code runs on the other platform than Windows, the \"mouseup\" is triggered\n        // after the \"contextmenu\". So then \"mouseup\" closes the menu. Otherwise, the closing\n        // menu responsibility is forwarded to \"afterOnCellContextMenu\" callback (#6507#issuecomment-582392301).\n        if ((!isWindowsOS() || !isRightClick(event)) && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          // The timeout is necessary only for mobile devices. For desktop, the click event that is fired\n          // right after the mouseup event gets the event element target the same as the mouseup event.\n          // For mobile devices, the click event is triggered with native delay (~300ms), so when the mouseup\n          // event hides the tapped element, the click event grabs the element below. As a result, the filter\n          // by condition menu is closed and immediately open on tapping the \"None\" item.\n          if (isMobileBrowser() || isIpadOS()) {\n            this.hot._registerTimeout(() => this.close(true), 325);\n          } else {\n            this.close(true);\n          }\n        }\n      },\n      afterUnlisten: () => {\n        // Restore menu focus, fix for `this.instance.unlisten();` call in the tableView.js@260 file.\n        // This prevents losing table responsiveness for keyboard events when filter select menu is closed (#6497).\n        if (!this.hasSelectedItem() && this.isOpened()) {\n          this.hotMenu.listen();\n        }\n      }\n    };\n    this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects;\n    this.hot.getSettings().outsideClickDeselects = false;\n    this.hotMenu = new this.hot.constructor(this.container, settings);\n    this.hotMenu.addHook('afterInit', () => this.onAfterInit());\n    this.hotMenu.init();\n    _classPrivateFieldSet(this, _navigator, createMenuNavigator(this.hotMenu));\n    _classPrivateFieldSet(this, _shortcutsCtrl, createKeyboardShortcutsCtrl(this));\n    _classPrivateFieldGet(this, _shortcutsCtrl).listen();\n    this.focus();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterOpen', () => this.parentMenu.runLocalHooks('afterSubmenuOpen', this));\n    }\n    this.runLocalHooks('afterOpen', this);\n  }\n\n  /**\n   * Close menu.\n   *\n   * @param {boolean} [closeParent=false] If `true` try to close parent menu if exists.\n   */\n  close() {\n    let closeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!this.isOpened()) {\n      return;\n    }\n    if (closeParent && this.isSubMenu()) {\n      this.parentMenu.close();\n    } else {\n      _classPrivateFieldGet(this, _navigator).clear();\n      this.closeAllSubMenus();\n      this.container.style.display = 'none';\n      this.hotMenu.destroy();\n      this.hotMenu = null;\n      this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects;\n      this.runLocalHooks('afterClose');\n      if (this.isSubMenu()) {\n        if (this.hot.getSettings().ariaTags) {\n          const selection = this.parentMenu.hotMenu.getSelectedLast();\n          if (selection) {\n            const cell = this.parentMenu.hotMenu.getCell(selection[0], 0);\n            setAttribute(cell, [A11Y_EXPANDED(false)]);\n          }\n        }\n        this.parentMenu.hotMenu.listen();\n      }\n    }\n  }\n\n  /**\n   * Open sub menu at the provided row index.\n   *\n   * @param {number} row Row index.\n   * @returns {Menu|boolean} Returns created menu or `false` if no one menu was created.\n   */\n  openSubMenu(row) {\n    if (!this.hotMenu) {\n      return false;\n    }\n    const cell = this.hotMenu.getCell(row, 0);\n    this.closeAllSubMenus();\n    if (!cell || !hasSubMenu(cell)) {\n      return false;\n    }\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const subMenu = new Menu(this.hot, {\n      parent: this,\n      name: dataItem.name,\n      className: this.options.className,\n      keepInViewport: true,\n      container: this.options.container\n    });\n    subMenu.setMenuItems(dataItem.submenu.items);\n    subMenu.open();\n    subMenu.setPosition(cell.getBoundingClientRect());\n    this.hotSubMenus[dataItem.key] = subMenu;\n\n    // Update the accessibility tags on the cell being the base for the submenu.\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(cell, [A11Y_EXPANDED(true)]);\n    }\n    return subMenu;\n  }\n\n  /**\n   * Close sub menu at row index.\n   *\n   * @param {number} row Row index.\n   */\n  closeSubMenu(row) {\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const menus = this.hotSubMenus[dataItem.key];\n    if (menus) {\n      menus.destroy();\n      delete this.hotSubMenus[dataItem.key];\n      const cell = this.hotMenu.getCell(row, 0);\n\n      // Update the accessibility tags on the cell being the base for the submenu.\n      if (this.hot.getSettings().ariaTags) {\n        setAttribute(cell, [A11Y_EXPANDED(false)]);\n      }\n    }\n  }\n\n  /**\n   * Close all opened sub menus.\n   */\n  closeAllSubMenus() {\n    arrayEach(this.hotMenu.getData(), (value, row) => this.closeSubMenu(row));\n  }\n\n  /**\n   * Checks if all created and opened sub menus are closed.\n   *\n   * @returns {boolean}\n   */\n  isAllSubMenusClosed() {\n    return Object.keys(this.hotSubMenus).length === 0;\n  }\n\n  /**\n   * Focus the menu so all keyboard shortcuts become active.\n   */\n  focus() {\n    if (this.isOpened()) {\n      this.hotMenu.rootElement.focus({\n        preventScroll: true\n      });\n      this.getKeyboardShortcutsCtrl().listen();\n      this.hotMenu.listen();\n    }\n  }\n\n  /**\n   * Destroy instance.\n   */\n  destroy() {\n    const menuContainerParentElement = this.container.parentNode;\n    this.clearLocalHooks();\n    this.close();\n    this.parentMenu = null;\n    this.eventManager.destroy();\n    if (menuContainerParentElement) {\n      menuContainerParentElement.removeChild(this.container);\n    }\n  }\n\n  /**\n   * Checks if menu was opened.\n   *\n   * @returns {boolean} Returns `true` if menu was opened.\n   */\n  isOpened() {\n    return this.hotMenu !== null;\n  }\n\n  /**\n   * Execute menu command.\n   *\n   * The `executeCommand()` method works only for selected cells.\n   *\n   * When no cells are selected, `executeCommand()` doesn't do anything.\n   *\n   * @param {Event} [event] The mouse event object.\n   */\n  executeCommand(event) {\n    if (!this.isOpened() || !this.hasSelectedItem()) {\n      return;\n    }\n    const selectedItem = this.getSelectedItem();\n    this.runLocalHooks('select', selectedItem, event);\n    if (this.isCommandPassive(selectedItem)) {\n      return;\n    }\n    const selRanges = this.hot.getSelectedRange();\n    const normalizedSelection = selRanges ? normalizeSelection(selRanges) : [];\n    this.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    if (this.isSubMenu()) {\n      this.parentMenu.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    }\n  }\n\n  /**\n   * Checks if the passed command is passive or not. The command is passive when it's marked as\n   * disabled, the descriptor object contains `isCommand` property set to `false`, command\n   * is a separator, or the item is recognized as submenu. For passive items the menu is not\n   * closed automatically after the user trigger the command through the UI.\n   *\n   * @param {object} commandDescriptor Selected menu item from the menu data source.\n   * @returns {boolean}\n   */\n  isCommandPassive(commandDescriptor) {\n    return commandDescriptor.isCommand === false || isItemSeparator(commandDescriptor) || isItemDisabled(commandDescriptor, this.hot) || isItemSubMenu(commandDescriptor);\n  }\n\n  /**\n   * Set offset menu position for specified area (`above`, `below`, `left` or `right`).\n   *\n   * @param {string} area Specified area name (`above`, `below`, `left` or `right`).\n   * @param {number} offset Offset value.\n   */\n  setOffset(area) {\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.positioner.setOffset(area, offset);\n  }\n\n  /**\n   * Set menu position based on dom event or based on literal object.\n   *\n   * @param {Event|object} coords Event or literal Object with coordinates.\n   */\n  setPosition(coords) {\n    if (this.isSubMenu()) {\n      this.positioner.setParentElement(this.parentMenu.container);\n    }\n    this.positioner.setElement(this.container).updatePosition(coords);\n  }\n\n  /**\n   * Create container/wrapper for handsontable.\n   *\n   * @private\n   * @param {string} [name] Class name.\n   * @returns {HTMLElement}\n   */\n  createContainer() {\n    let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    const doc = this.options.container.ownerDocument;\n    let className = name;\n    let container;\n    if (className) {\n      if (isFunction(className)) {\n        className = className.call(this.hot);\n        if (className === null || isUndefined(className)) {\n          className = '';\n        } else {\n          className = className.toString();\n        }\n      }\n      className = className.replace(/[^A-z0-9]/g, '_');\n      className = `${this.options.className}Sub_${className}`;\n      container = doc.querySelector(`.${this.options.className}.${className}`);\n    }\n    if (!container) {\n      container = doc.createElement('div');\n      addClass(container, `htMenu ${this.options.className}`);\n      if (className) {\n        addClass(container, className);\n      }\n      this.options.container.appendChild(container);\n    }\n    return container;\n  }\n\n  /**\n   * On after init listener.\n   *\n   * @private\n   */\n  onAfterInit() {\n    const {\n      wtTable\n    } = this.hotMenu.view._wt;\n    const data = this.hotMenu.getSettings().data;\n    const hiderStyle = wtTable.hider.style;\n    const holderStyle = wtTable.holder.style;\n    const currentHiderWidth = parseInt(hiderStyle.width, 10);\n    const realHeight = arrayReduce(data, (accumulator, value) => accumulator + (value.name === SEPARATOR ? 1 : 26), 0);\n\n    // Additional 3px to menu's size because of additional border around its `table.htCore`.\n    holderStyle.width = `${currentHiderWidth + 3}px`;\n    holderStyle.height = `${realHeight + 3}px`;\n    hiderStyle.height = holderStyle.height;\n\n    // Replace the default accessibility tags with the context menu's\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(this.hotMenu.rootElement, [A11Y_MENU(), A11Y_TABINDEX(-1)]);\n    }\n  }\n\n  /**\n   * Document mouse down listener.\n   *\n   * @private\n   * @param {Event} event The mouse event object.\n   */\n  onDocumentMouseDown(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n\n    // Close menu when clicked element is not belongs to menu itself\n    if (this.options.standalone && this.hotMenu && !isChildOf(event.target, this.hotMenu.rootElement)) {\n      this.close(true);\n\n      // Automatically close menu when clicked element is not belongs to menu or submenu (not necessarily to itself)\n    } else if ((this.isAllSubMenusClosed() || this.isSubMenu()) && !isChildOf(event.target, '.htMenu')) {\n      this.close(true);\n    }\n  }\n\n  /**\n   * Document's contextmenu listener.\n   *\n   * @private\n   * @param {MouseEvent} event The mouse event object.\n   */\n  onDocumentContextMenu(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n    if (hasClass(event.target, 'htCore') && isChildOf(event.target, this.hotMenu.rootElement)) {\n      event.preventDefault();\n    }\n  }\n}\nmixin(Menu, localHooks);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}