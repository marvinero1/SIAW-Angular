<section class="content" style="background-color:#CEFFFF !important">
  <div>
    <div class="row mb-2">
      <div class="col">
        <div class="divTable">
          <div class="input-group-append text-center" style="float: left;">
            <!-- botones -->
            <div class="input-group-append">
              <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1" type="submit">
                <span><i class="fa fa-save" aria-hidden="true" style="color: #ffc107;"></i> Grabar</span>
              </button>
              <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1" type="button"
                (click)="limpiar();">
                <span><i class="fa fa-eraser" aria-hidden="true" style="color: #ffc107;"></i> Limpiar</span>
              </button>
              <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1" type="button"
                (click)="tranferirNotasRemision();">
                <span><i class="fa fa-clone" aria-hidden="true" style="color: #ffc107;"></i> Transferir</span>
              </button>
            </div>
            <!-- botones - fin -->
            <div class="pt-2" style="padding-left: 23rem;">
              <h3><strong><u>NOTA DE REMISION</u></strong></h3>
            </div>
          </div>

          <div class="input-group-append text-center" style="float: right;">
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <i class="fa fa-inbox blue" aria-hidden="true"></i>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button" (click)="modalMatrizProductos()">
              <i class="fa fa-th blue" aria-hidden="true"></i>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <mat-icon class="blue">photo_size_select_small</mat-icon>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <i class="fa fa-inbox blue" aria-hidden="true"></i>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <i class="fa fa-calculator blue" aria-hidden="true"></i>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <i class="fa fa-calculator blue" aria-hidden="true"></i>
            </button>
            <button class="btn btn-outline-secondary form-control-sm" type="button">
              <mat-icon class="yellow"> monetization_on</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- cabecera -->
    <div class="content">
      <div class="mat-elevation-z2 row">
        <!-- primeraColumna -->
        <div class="col-md">
          <div class="row">
            <div class="col-md-8" style="padding-right: 0px;padding-left: 6.5px;">
              <div class="input-group">
                <div class="input-group-">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 33px;border: 0 !important;"><u>ID Tipo </u></span>
                </div>

                <input type="text" class="form-control form-control-sm" [ngModel]="cod_id_tipo_modal"
                  style="margin-left: 5px;background-color: black;color: #ffc107;" disabled>


                <div class="input-group-append">
                  <button class="btn btn-outline-success form-control-sm" type="button" (click)="modalTipoID();"
                    style="border-color: green;" matTooltip="Buscar ID"><i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="col-md-4" style="padding-right: 6.5px;padding-left: 0px;">
              <div class="input-group">
                <input type="text" class="form-control form-control-sm" [ngModel]="id_proforma_numero_id"
                  style="background-color: black;color: #ffc107;" disabled>
              </div>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 38px;border: 0 !important;"><u>Fecha</u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;"
              value="{{fecha_actual | date:'dd/MM/yyyy'}}" disabled>
          </div>

          <div class="input-group">
            <div class="input-group-">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 24px;border: 0 !important;"><u>Almacen</u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;" disabled>

            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                disabled>
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 19px;border: 0 !important;"><u>Vendedor </u></span>
            </div>

            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;"
              [ngModel]="cod_vendedor_cliente_modal" disabled>

            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" disabled
                style="border-color: green;"><i class="fa fa-search"></i>
              </button>
            </div>
          </div>


          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 1px 0px 0px;border: 0 !important;"><u>Tipo de Pago</u> </span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;" value="CREDITO" disabled>

            <!-- <mat-select class="custom-select1 form-control-sm" name="selectTPago" style="margin-left: 6px;"
            [(value)]="selectTPago" [(ngModel)]="selectTPago" placeholder="Credito">
              <mat-option selected value="credito">Credito</mat-option>
              <mat-option value="contado">Contado</mat-option>
            </mat-select> -->
          </div>

          <div class="row">
            <div class="col-sm">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 27px;border: 0 !important;"><u>Moneda </u></span>
                </div>
                <input type="text" class="form-control form-control-sm" id="inputMoneda" formControlName="codmoneda"
                  [(ngModel)]="moneda_get_catalogo" placeholder="Moneda" readonly>
              </div>
            </div>

            <div class="col-sm">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>T. de C. </u></span>
                </div>
                <input type="number" class="form-control form-control-sm" style="margin-left: 6px;" placeholder="1"
                  disabled>
              </div>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Solicitud Urgente </u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;">

            <input type="text" class="form-control form-control-sm" style="margin-left: 2px;">
          </div>

          <div class="row">
            <div class="col-sm">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Venta Cliente en Oficina</u></span>
                </div>
                <div class="input-group-prepend">
                  <div class="input-group-text" style="border: 0;">
                    <input type="checkbox" aria-label="Checkbox for following text input" style="margin-left: 5px;">
                  </div>
                </div>
              </div>
            </div>

            <div class="col-sm">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Contra Entrega</u></span>
                </div>
                <div class="input-group-prepend">
                  <div class="input-group-text" style="border: 0;">
                    <input type="checkbox" aria-label="Checkbox for following text input" style="margin-left: 5px;">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- segundaColumna -->
        <div class="col col-lg-4">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 6px;border: 0 !important;"><u>Precio de Ventas</u> </span>
            </div>

            <ng-container *ngIf="cod_precio_venta_modal">
              <input type="text" class="form-control form-control-sm" [ngModel]="cod_precio_venta_modal"
                style="margin-left: 5px;">
            </ng-container>

            <ng-container *ngIf="!cod_precio_venta_modal">
              <input type="text" class="form-control form-control-sm" [ngModel]="tarifa_get_unico?.codigo"
                style="margin-left: 5px;">
            </ng-container>

            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalPrecioVenta();">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Desct. Especiales</u> </span>
            </div>

            <ng-container *ngIf="cod_descuento_modal">
              <input type="text" class="form-control form-control-sm" [ngModel]="cod_descuento_modal"
                style="margin-left: 6px;">
            </ng-container>

            <ng-container *ngIf="!cod_descuento_modal">
              <input type="text" class="form-control form-control-sm" [ngModel]="descuentos_get_unico?.codigo"
                style="margin-left: 6px;">
            </ng-container>

            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 32px;border: 0 !important;"><u>Preparación </u></span>
            </div>
            <input type="text" class="form-control form-control-sm" value="NORMAL" style="margin-left: 5px;" disabled>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 40px;border: 0 !important;"><u>Estado </u></span>
            </div>
            <select class="custom-select1 form-control-sm" style="margin-left: 24px;">
              <option>YA CANCELO</option>
              <option>POR CANCELAR</option>
            </select>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 6px;border: 0 !important;"><u>Solicitud Urgente </u></span>
            </div>
            <input type="text" class="form-control form-control-sm"
              style="margin-left: 6px;background-color: #ffffc0;">&nbsp;

            <input type="text" class="form-control form-control-sm" style="background-color: #ffffc0;">
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 100px;border: 0 !important;">Total Proforma</span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;" disabled>&nbsp;

            <input type="text" class="form-control form-control-sm" disabled>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 100px;border: 0 !important;">Cod. Proforma</span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;" disabled>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 88px;border: 0 !important;">ID-NrIDProforma</span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;" disabled>
          </div>
        </div>

        <!-- terceraColumna -->
        <div class="col col-lg-4" style="float: right;">
          <form class="example-form" [formGroup]="FormularioData" (ngSubmit)="submitData()">
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 0px 0px 18px;border: 0 !important;"><u>Cod. Cliente</u></span>
              </div>
              <input type="text" class="form-control cliente form-control-sm" formControlName="codSN"
                [ngModel]="codigo_cliente" style="margin-left: 7.5px;" #cod_cliente>
              <div class="input-group-append">
                <span class="input-group-text form-control-sm" disabled style="cursor: pointer; border: 1;">
                  <i class="fa fa-search" aria-hidden="true" style="color: #ffc107;"></i>
                </span>
              </div>
              <div class="input-group-append">
                <span class="input-group-text form-control-sm" type="button">
                  <i class="fa fa-window-restore" aria-hidden="true" style="color: #ffc107;"></i>
                </span>
              </div>
            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 9px 0px 0px;border: 0 !important;"><u>Nombre Cliente </u></span>
              </div>

              <input type="text" class="form-control form-control-sm" formControlName="nomcliente_casual"
                placeholder="Nombre Cliente" [ngModel]="nombre_comercial_razon_social">
            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 6px 0px 0px;border: 0 !important;"><u>Nombre Factura </u> </span>
              </div>

              <input type="text" class="form-control form-control-sm" formControlName="nomcliente_casual"
                [ngModel]="razon_social">
            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 0px 2px 42px;border: 0 !important;"><u>Doc. Id. </u></span>
              </div>

              <select class="custom-select1 form-control-sm" formControlName="tipo_doc_cliente_casual"
                style="margin-left: 7px;">
                <option *ngFor="let documento_identidads of documento_identidad"
                  [value]="documento_identidads.codigoclasificador.toString()">
                  {{ documento_identidads.codigoclasificador }} - {{ documento_identidads.descripcion }}</option>
              </select>
            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 0px 0px 55px;border: 0 !important;"><u>N.I.T. </u></span>
                <input type="text" class="form-control form-control-sm" formControlName="nit_cliente_casual"
                  placeholder="N.I.T." [ngModel]="nit_cliente" style="margin-left: 5px;">
              </div>

              <div class="col-sm" style="padding: 0px 0px 0px 0px;">
                <container-element [ngSwitch]="tipo_doc_cliente">
                  <ng-container *ngSwitchCase="1">
                    <input type="text" class="form-control form-control-sm" value="CI - CEDULA DE IDENTIDAD"
                      style="font-size: 0.55rem !important;" disabled>
                  </ng-container>
                  <ng-container *ngSwitchCase="2">
                    <input type="text" class="form-control form-control-sm"
                      value="CEX - CÉDULA DE IDENTIDAD DE EXTRANJERO" style="font-size: 0.55rem !important;" disabled>
                  </ng-container>
                  <ng-container *ngSwitchCase="3">
                    <input type="text" class="form-control form-control-sm" value="PAS - PASAPORTE"
                      style="font-size: 0.55rem !important;" disabled>
                  </ng-container>
                  <ng-container *ngSwitchCase="4">
                    <input type="text" class="form-control form-control-sm" value="OD - OTRO DOCUMENTO DE IDENTIDAD"
                      style="font-size: 0.55rem !important;" disabled>
                  </ng-container>
                  <ng-container *ngSwitchCase="5">
                    <input type="text" class="form-control form-control-sm"
                      value="NIT - NÚMERO DE IDENTIFICACIÓN TRIBUTARIA" style="font-size: 0.55rem !important;" disabled>
                  </ng-container>
                </container-element>
              </div>

              <input type="text" class="form-control-sm" formControlName="complemento_ci" [ngModel]="complemento_ci"
                style="width: 10%;">
            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text form-control-sm"
                  style="padding: 10px 0px 0px 55px;border: 0 !important;"><u>Email </u></span>
              </div>
              <ng-container *ngIf="!email_cliente">
                <input type="text" class="form-control form-control-sm" formControlName="email_cliente_casual"
                  style="margin-left: 4px;" value="facturasventas@pertec.com.bo" style="margin-left: 4px;">
              </ng-container>

              <ng-container *ngIf="email_cliente">
                <input type="text" class="form-control form-control-sm" formControlName="email_cliente_casual"
                  [(ngModel)]="email_cliente" style="margin-left: 4px;">
              </ng-container>
            </div>
          </form>
        </div>
      </div>
      <!-- finCabezera -->








      <div class="row">
        <div class="col">
          <mat-tab-group style="height: 230px !important; overflow-y: scroll;overflow-x: scroll;">
            <mat-tab label="Detalle del Pedido">
              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8"
                style="padding: 0 1px 0 19px !important;" id="tabla_detalle" matSort>

                <!-- orden Column -->
                <ng-container matColumnDef="orden">
                  <th mat-header-cell *matHeaderCellDef class="mat-column-orden"
                    style="padding: 0 0px 0 0px !important;text-align: center !important;"> Orden </th>
                  <td mat-cell *matCellDef="let element; let i = index" class="td" class="mat-column-orden"
                    style="text-align: center !important; padding: 0px 0px 0px 0px !important">
                    <span style="width: 50%; float: left;">
                      <i class="fa fa-trash"
                        style="font-size: 0.6rem !important;color:rgb(222, 12, 12) !important;cursor:pointer">
                      </i>
                    </span>{{ i + 1 }}
                    <!-- {{ element?.orden }} -->
                  </td>
                </ng-container>

                <!-- el numerito -->
                <!-- <tr mat-row *ngFor="let item of array_items_carrito_y_f4_catalogo; let i = index">
                <td mat-cell *matCellDef="let element" class="td"
                  style="text-align: center !important; padding: 0px 0px 0px 0px !important">
                  <span style="width: 50%; float: left;"><i class="fa fa-trash"
                      style="font-size: 0.6rem !important;color:rgb(222, 12, 12) !important;cursor:pointer"></i>
                  </span>
                </td>
              </tr> -->
                <!-- fin orden column-->

                <!-- Item Column -->
                <ng-container matColumnDef="item">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center !important; cursor: pointer;">
                    <i class="fa fa-plus" style="text-align: center !important; cursor: pointer;"></i>&nbsp;<u>Item</u>
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index" style="cursor:pointer;"
                    (click)="itemDataAll(element?.coditem); selectRow(i)"
                    [ngClass]="{'selected-row': selectedRowIndex === i}">
                    <div> {{ element?.coditem }} </div>
                  </td>
                </ng-container>

                <!-- Descripcion Column -->
                <ng-container matColumnDef="descripcion">
                  <th mat-header-cell *matHeaderCellDef
                    style="width: 40%;text-align: left !important;padding: 0px 0px 0px 0px;"> Descripción
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"
                    style="width: 40%;text-align: left !important;padding: 0px 0px 0px 0px;">
                    {{ element?.descripcion }} </td>
                </ng-container>

                <!-- Medida Column -->
                <ng-container matColumnDef="medida">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> Medida </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" class="medida"
                    style="text-align: center !important;padding: 0 0px 0 5px;"> {{ element?.medida }} </td>
                </ng-container>

                <!-- Unidad Column -->
                <ng-container matColumnDef="unidad">
                  <th mat-header-cell *matHeaderCellDef> Ud </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"> {{ element?.udm }} </td>
                </ng-container>

                <!-- iva Column -->
                <ng-container matColumnDef="iva">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> %IVA </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="text-align: center !important;">
                    {{ element?.porceniva }}
                  </td>
                </ng-container>

                <!-- pedido Column -->
                <ng-container matColumnDef="pedido">
                  <th mat-header-cell *matHeaderCellDef> Pedido </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"
                    style="text-align: right !important;padding: 0px 0px 0px 0px;">

                    <ng-container *ngIf="element?.cumpleEmp === true && element?.cumpleMin === true">
                      <input #inputCantidad matInput type="number" class="pedido" [(ngModel)]="element.cantidad_pedida"
                        min="0" (input)="pedidoChangeMatrix(element, $event.target.value)">
                    </ng-container>

                    <ng-container *ngIf="element?.cumpleEmp === false">
                      <input #inputCantidad matInput type="number" class="pedido" [(ngModel)]="element.cantidad_pedida"
                        min="0" (input)="pedidoChangeMatrix(element, $event.target.value)"
                        style="color: rgba(0, 0, 255, 0.824);">
                    </ng-container>

                    <ng-container *ngIf="element?.cumpleMin === false">
                      <input #inputCantidad matInput type="number" class="pedido" [(ngModel)]="element.cantidad_pedida"
                        min="0" (input)="pedidoChangeMatrix(element, $event.target.value)"
                        style="color: rgba(255, 0, 0, 0.824);">
                    </ng-container>
                  </td>
                </ng-container>

                <!-- cantidad Column -->
                <ng-container matColumnDef="cantidad">
                  <th mat-header-cell *matHeaderCellDef> Cantidad </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"
                    style="text-align: right !important;padding: 0px 0px 0px 0px;">

                    <ng-container *ngIf="element?.cumpleEmp === true && element?.cumpleMin === true">
                      <input matInput type="number" class="pedido" [(ngModel)]="element.cantidad" min="0"
                        (input)="cantidadChangeMatrix(element, $event.target.value);">
                    </ng-container>

                    <ng-container *ngIf="element?.cumpleEmp === false">
                      <input matInput type="number" class="pedido" [(ngModel)]="element.cantidad" min="0"
                        (input)="cantidadChangeMatrix(element, $event.target.value)"
                        style="color: rgba(0, 0, 255, 0.824);">
                    </ng-container>

                    <ng-container *ngIf="element?.cumpleMin === false">
                      <input matInput type="number" class="pedido" [(ngModel)]="element.cantidad_pedida" min="0"
                        (input)="pedidoChangeMatrix(element, $event.target.value)"
                        style="color: rgba(255, 0, 0, 0.824);">
                    </ng-container>
                  </td>
                </ng-container>


                <!-- sld Column -->
                <ng-container matColumnDef="sld">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center !important;"> % SLD</th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="text-align: right !important;">
                    {{ element?.porcen_mercaderia }}
                  </td>
                </ng-container>

                <!-- TP Column -->
                <ng-container matColumnDef="tp">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: center;"> TP
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="padding: 0px 0px 0px 0px !important">
                    <input matInput type="number" class="pedido" min="0" id="inputCatalogoPrecioVentaDetalle"
                      [value]="element?.codtarifa">
                  </td>
                </ng-container>

                <!-- DE Column -->
                <ng-container matColumnDef="de">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: center;"> DE
                  </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="padding: 0px 0px 0px 0px !important">
                    <input matInput type="number" class="pedido" min="0" id="inputCatalogoDescuentoEspecialDetalle"
                      [value]="element?.coddescuento">
                  </td>
                </ng-container>

                <!-- PUL Column -->
                <ng-container matColumnDef="pul">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: right !important;"> PUL </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="text-align: right !important;">
                    {{ element?.preciolista }} </td>
                </ng-container>

                <!-- NIV Column -->
                <ng-container matColumnDef="niv">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: right;"> NIV </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}" style="text-align: right !important;">
                    {{ element?.niveldesc }}
                  </td>
                </ng-container>

                <!-- % Column -->
                <ng-container matColumnDef="porcentaje">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: center !important;"> % </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"> {{ element?.porcendesc | json }} </td>
                </ng-container>

                <!-- PD Column -->
                <ng-container matColumnDef="pd">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: right;"> PD </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"
                    style="text-align: right !important;padding: 0px 0px 0px 0px !important">
                    {{ element?.preciodesc?.toString()?.replace(',', '.') }}
                  </td>
                </ng-container>

                <!-- PU Column -->
                <ng-container matColumnDef="pu">
                  <th mat-header-cell *matHeaderCellDef style="width: 5%;text-align: right;"> PU </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                    [ngClass]="{'selected-row': selectedRowIndex === i}"
                    style="text-align: right !important;padding: 0px 0px 0px 0px !important">
                    {{ element?.precioneto?.toString().replace(',', '.') }} </td>
                </ng-container>

                <ng-container>
                  <!-- total Column -->
                  <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef style="text-align: right;padding: 0px 0px 0px 0px !important">
                      Total </th>
                    <td mat-cell *matCellDef="let element; let i = index"
                      [ngClass]="{'selected-row': selectedRowIndex === i}"
                      style="text-align: right;padding: 0px 0px 0px 0px !important;">
                      {{ calcularTotalCantidadXPU(element?.cantidad_pedida, element?.cantidad, element?.precioneto) }}
                      <!-- {{ calcularTotalCantidadXPU(element.cantidad_pedida, element.cantidad, element.preciolista) | number:'1.2-2' }} -->
                      <!-- {{ calcularTotalPedidoCantidad(element.cantidad_pedida, element.preciolista, 0) | number:'1.2-2' }} -->
                    </td>
                  </ng-container>
                </ng-container>
                <!-- <ng-template #total_X_PU>
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef style="text-align: right;"> Total Pedido Modificado </th>
                  <td mat-cell *matCellDef="let element; let i = index"
                  [ngClass]="{'selected-row': selectedRowIndex === i}" style="text-align: right;">
                    AAABCV{{ calcularTotalPedidoXPU(element.cantidad, element.precioneto) | number:'1.5-5' }}
                  </td>
                </ng-container>
              </ng-template> -->
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
              </table><br>
            </mat-tab>
            <mat-tab label="Negativos">

            </mat-tab>
          </mat-tab-group>
        </div>
      </div>






















      <div class="row">
        <div class="col-md-10">
          <mat-tab-group class="miTabGroupProformaFooter" style="border-style: outset;padding: 1px;">
            <mat-tab label="Datos">
              <div class="row">
                <div class="col-md-6">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="padding: 10px 0px 0px 41px;border: 0 !important;"><u>Transporte</u>
                      </span>

                      <input type="text" class="form-control form-control-sm" style="margin-left: 5px;">
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="input-group">
                    <span class="input-group-text form-control-sm"
                      style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Nombre
                        Transporte</u>
                    </span>

                    <input type="text" class="form-control form-control-sm" style="margin-left: 5px;">
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md">
                  <div class="row">
                    <div class="col-md-5">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Flete Pagado Por</u>
                        </span>

                        <input type="text" class="form-control form-control-sm" style="margin-left: 5px;">
                      </div>
                    </div>
                    <div class="col-md-5">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>T. Entrega</u>
                        </span>

                        <input type="number" class="form-control form-control-sm" style="margin-left: 5px;"
                          placeholder="0.00" disabled>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 0px;border: 0 !important;">Peso Total
                        </span>
                        <input type="number" class="form-control form-control-sm" style="margin-left: 5px;"
                          placeholder="0.00" disabled>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md">
                  <div class="row">
                    <div class="col-md-4">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 53px;border: 0 !important;"><u>Latitud</u>
                        </span>

                        <input type="number" class="form-control-sm" placeholder="0.000000" style="margin-left: 7px;"
                          [ngModel]="latitud" disabled>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Longitud</u>
                        </span>

                        <input type="number" class="form-control-sm" [ngModel]="longitud" placeholder="0.000000"
                          style="margin-left: 5px;" disabled>
                      </div>
                    </div>

                    <a target="_blank" style="padding-top: 6px;">
                      <mat-icon> my_location</mat-icon>
                    </a>

                    <div class="col-md-4">
                      <div class="input-group">
                        <span class="input-group-text form-control-sm"
                          style="padding: 10px 0px 0px 47px;border: 0 !important;"><u>Ubicación</u>
                        </span>
                        <input type="text" class="form-control form-control-sm" style="margin-left: 5px;" disabled>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="height: calc(2.3rem + 5px) !important;padding: 10px 0px 0px 48px;border: 0 !important;">
                        <u>Dirección</u></span>

                      <!-- <input type="text" class="form-control form-control-sm" style="width: 50%;"> -->
                      <textarea class="form-control" [ngModel]="direccion_central_input" rows="1"
                        style="font-size: 0.79rem !important;margin-left: 6px;" disabled></textarea>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="height: calc(2.3rem + 2px) !important;padding: 10px 0px 0px 32px;border: 0 !important;">
                        <u>Observación</u>
                      </span>

                      <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"
                        style="margin-left: 5px;"></textarea>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="padding: 10px 0px 0px 10px;border: 0 !important;"><u>Orden de Compra</u></span>

                      <input type="text" class="form-control form-control-sm">
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="Descuentos de Linea de Cliente"><br>
              <div class="row">
                <div class="col-md-4">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="padding: 10px 0px 0px 10px;border: 0 !important;">
                        <u>Aplicar Descuentos de Nivel Actuales del Cliente</u>
                      </span>

                      <input type="text" class="form-control form-control-sm">
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Solicitud Descuentos de Linea"><br>
              <div class="row">
                <div class="col-md-4">
                  <div class="row">
                    <div class="input-group">
                      <span class="input-group-text form-control-sm"
                        style="padding: 10px 0px 0px 10px;border: 0 !important;">
                        <u>ID Tipo</u>
                      </span>

                      <input type="text" class="form-control form-control-sm">
                      <input type="text" class="form-control form-control-sm">
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Complementar Proforma">
              <div class="row">
                <div class="col-md-12">
                  <form class="example-form" [formGroup]="FormularioData">
                    <div class="row"><br>
                      <div class="col-md-4" style="display: grid;justify-content: normal;"><br>
                        <div class="input-group">
                          <div class="input-group-prepend">
                            <span class="input-group-text form-control-sm"
                              style="padding: 10px 0px 0px 5px;border: 0 !important;">
                              <u>Complementar Proforma</u></span>
                          </div>
                          <mat-checkbox class="example-margin" [formControl]="disableSelect"
                            [(ngModel)]="complementopf">
                          </mat-checkbox>
                        </div>
                        <mat-form-field>
                          <mat-label>Eliga una Opción</mat-label>
                          <mat-select [disabled]="!disableSelect.value" [(ngModel)]="tipo_complementopf_input"
                            formControlName="tipo_complementopf">
                            <mat-option value="0">1. Dimediado - Precio Mayorista Para Cumplir
                              Monto Minimo
                            </mat-option>
                            <mat-option value="1">2. Para Cumplir Monto Minimo Para Aplicar
                              Descuento Extra
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>

                      <div class="col-md-8">
                        <div class="col-md-6">
                          <div class="input-group">
                            <select [disabled]="!disableSelect.value" formControlName="idpf_complemento"
                              [(ngModel)]="idpf_complemento_view">
                              <option *ngFor="let ids_complementar_proformas of ids_complementar_proforma"
                                [value]="ids_complementar_proformas.id"></option>
                            </select>

                            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;"
                              formControlName="nroidpf_complemento">

                            <div class="input-group-append">
                              <button class="btn btn-outline-primary form-control-sm" type="button"
                                style="border-color: #ffc107;">
                                <i class="fa fa-search"></i>
                              </button>
                            </div>
                          </div>

                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text form-control-sm" style="border: 0 !important;">
                                <u>Fecha Aut
                                  Proforma:
                                </u></span>
                            </div>

                          </div>
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text form-control-sm" style="border: 0 !important;">
                                <u>SubTotal Proforma: </u></span>
                            </div>
                          </div>

                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text form-control-sm" style="border: 0 !important;">
                                <u>Total Proforma: </u></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="Anticipo Venta Contado"><br>
              <div class="col-md-3">
                <div class="input-group">
                  <span class="input-group-text form-control-sm" style="border: 0 !important;">
                    <u>El Pago Se Realiza De Forma Anticipada</u>
                  </span>

                  <input type="checkbox" class="form-control form-control-sm" style="margin-left: 5px;">
                </div>
              </div>
            </mat-tab>

            <mat-tab label="Precios - Descuento Especial"><br>
              <input type="text" style="margin-left: 5px;" disabled>

              <button class="btn btn-outline-primary form-control-sm" type="button"
                style="background-color: #ffff00;font-size: 0.7rem !important;padding: 0rem 0.12rem !important;">
                <i class="fa fa-eraser"></i> Obtener El Precio Que Tiene Monto Min Mayor.
              </button>

              <button class="btn btn-outline-primary form-control-sm" type="button"
                style="background-color: #ffff00;font-size: 0.7rem !important;padding: 0rem 0.12rem !important;">
                <i class="fa fa-eraser"></i> Aplicar Descto. Especial Segun Tipo Precio.
              </button>

              <button class="btn btn-outline-primary form-control-sm" type="button"
                style="background-color: #ffff00;font-size: 0.7rem !important;padding: 0rem 0.12rem !important;">
                <i class="fa fa-eraser"></i> Borrar Descto. Especial.
              </button>

              <button class="btn btn-outline-primary form-control-sm" type="button"
                style="background-color: #ffff00;font-size: 0.7rem !important;padding: 0rem 0.12rem !important;">
                <i class="fa fa-eraser"></i> Validar Empaque de Descto. Especial
              </button>

              <button class="btn btn-outline-primary form-control-sm" type="button"
                style="background-color: #ffff00;font-size: 0.7rem !important;padding: 0rem 0.12rem !important;">
                <i class="fa fa-eraser"></i> Validar Descuentos Aplicados
              </button>
            </mat-tab>
          </mat-tab-group>
        </div>

        <div class="col-md-2">
          <div class="input-group">
            <div class="input-group-prepend" style="width: 33%;">
              <span class="input-group-text form-control-sm"
                style="display: block;border: 0 !important;padding: 5px 0px 0px 0px;"><u>Sub Total</u> </span>
            </div>
            <input type="number" class="form-control form-control-sm" [(ngModel)]="subtotal" placeholder="0.00"
              style="text-align:right;">
            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <mat-icon>monetization_on</mat-icon>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend" style="width: 33%;">
              <span class="input-group-text form-control-sm"
                style="padding: 5px 0px 0px 0px;display: block;border: 0 !important;"><u>Recargos</u></span>
            </div>
            <input type="number" class="form-control form-control-sm" [(ngModel)]="recargos" placeholder="0.00"
              style="text-align:right;">
            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <mat-icon>monetization_on</mat-icon>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend" style="width: 33%;">
              <span class="input-group-text form-control-sm"
                style="padding: 5px 0px 0px 0px;display: block;border: 0 !important;"><u>Desct.</u></span>
            </div>
            <input type="number" class="form-control form-control-sm" [(ngModel)]="des_extra" placeholder="0.00"
              style="text-align:right;">
            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <mat-icon>monetization_on</mat-icon>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend" style="width: 33%;">
              <span class="input-group-text form-control-sm"
                style="padding: 5px 0px 0px 0px;display: block;border: 0 !important;"><u>IVA</u></span>
            </div>
            <input type="number" class="form-control form-control-sm" [(ngModel)]="iva" placeholder="0.00"
              style="text-align:right;">
            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <mat-icon>monetization_on</mat-icon>
              </button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend" style="width: 33%;">
              <span class="input-group-text form-control-sm"
                style="padding: 5px 0px 0px 0px;display: block;border: 0 !important;"><u>Total</u></span>
            </div>
            <input type="number" class="form-control form-control-sm" [ngModel]="total" placeholder="0.00"
              style="text-align:right;">
            <div class="input-group-append">
              <button class="btn btn-outline-success form-control-sm" type="button" style="border-color: green;"
                (click)="modalDescuentoEspecial();">
                <mat-icon>monetization_on</mat-icon>
              </button>
            </div>
          </div>

          <div style="text-align: center;">
            <span class="form-control-sm" style="padding: 10px 0px 0px 0px;border: 0 !important;">
              <u>Es Venta</u>
            </span>
            <input type="checkbox" style="margin-left: 5px;">
          </div>
        </div>
      </div>

      <!-- Saldos -->
      <div class="row pl-2">
        <ng-container *ngFor="let almacenes_saldoss of almacenes_saldos">
          <input type="text" class="inputsSaldos" placeholder="{{ almacenes_saldoss.codalmsald1 }}:"
            (click)="modalSaldos(almacenes_saldoss.codalmsald1);" style="font-size: 0.8rem;">
          |
          <input type="text" class="inputsSaldos" placeholder="{{ almacenes_saldoss.codalmsald2 }}:"
            (click)="modalSaldos(almacenes_saldoss.codalmsald2);">
          |
          <input type="text" class="inputsSaldos" placeholder="{{ almacenes_saldoss.codalmsald3 }}:"
            (click)="modalSaldos(almacenes_saldoss.codalmsald3);">
          |
          <input type="text" class="inputsSaldos" placeholder="{{ almacenes_saldoss.codalmsald4 }}:"
            (click)="modalSaldos(almacenes_saldoss.codalmsald4);">
          |
          <input type="text" class="inputsSaldos" placeholder="{{ almacenes_saldoss.codalmsald5 }}:"
            (click)="modalSaldos(almacenes_saldoss.codalmsald5);">
        </ng-container>
      </div>
      <!-- finSaldos -->
    </div>
  </div>
</section>
