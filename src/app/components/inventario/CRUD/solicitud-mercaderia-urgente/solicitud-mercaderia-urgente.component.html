<section style="background-color:#ffe0c0;margin-left: 1px;margin-right: 7.5px;flex: 1;box-sizing: border-box">

  <ngx-spinner bdColor="rgba(251, 216, 0, 0.8)" size="medium" color="#093070" type="square-loader" [fullScreen]="true">
    <br>
    <p style="font-size: 25px; color: rgb(9,48,112,)">ðŸ”© Cargando... ðŸ”©</p>
  </ngx-spinner>

  <p-toast></p-toast>

  <div class="row mb-1">
    <div class="col-12">
      <div class="input-group-append text-center" style="float: left;">
        <!-- BOTONES -->
        <div class="input-group-append">
          <!-- BTN GRABAR -->
          <div>
            <!-- <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1" (click)="alMenu();">
              <span><i class="fa fa-arrow-left" style="color: #ffc107;"></i> Menu</span>
            </button> | &nbsp; -->
            <ng-container>
              <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1">
                <span><i class="fa fa-save" aria-hidden="true" style="color: #7d99c7;"></i> Grabar</span>
              </button>
            </ng-container>
          </div>

          <!-- BTN LIMPIAR -->
          <button mat-raised-button class="btn btn-outline-secondary form-control-sm mr-1" type="button"
            (click)="limpiar();">
            <span><i class="fa fa-eraser" style="color: #ffc107;"></i> Limpiar</span>
          </button>

          <!-- BTN EXCELS -->
          <button mat-raised-button class="btn btn-outline-secondary form-control-sm" type="button"
            matTooltipClass="custom-tooltip"
            matTooltip="Cargar Excel A Excel" matTooltipPosition="right" (click)="modalExcelToExcel()">
            <i class="fa fa-file-excel green"></i>&nbsp; Cargar Excel A Excel
          </button>
          <!-- FIN EXCELS -->
        </div>
        &nbsp;&nbsp;
        <div class="pt-1" style="padding-left: 20rem;">
          <h3><strong><u>SOLICITUD DE MERCADERIA URGENTE</u></strong></h3>
        </div>
        <!-- BOTONES FIN -->
      </div>

      <div class="input-group-append text-center" style="float: right;">
        <button class="btn btn-outline-secondary form-control-sm" type="button" (click)="modalMatrizClasica()"
          matTooltip="Matriz Item" matTooltipClass="custom-tooltip" matTooltipPosition="above">
          <i class="fa fa-th blue" aria-hidden="true"></i>
        </button>

        <button class="btn btn-outline-secondary form-control-sm" type="button"
          matTooltipClass="custom-tooltip" matTooltip="Importar ZIP" (click)="fileInput.click()">
          <i class="fa fa-file-archive green"></i>
        </button>

        <input type="file" #fileInput (change)="onFileChangeZIP($event)" accept=".zip"
          style="display: none;" />
      </div>
    </div>
  </div>


  <div class="content">
    <!-- cabecera -->
    <form class="example-form" [formGroup]="FormularioData">
      <div class="mat-elevation-z2 row">
        <!-- primeraColumna -->
        <div class="col-md-4 col-lg-4">
          <div class="row">
            <div class="col-md-7" style="padding-right: 0px;padding-left: 6.5px;">
              <div class="input-group">
                <div class="input-group-">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>ID Tipo </u></span>
                </div>

                <ng-container>
                  <input type="text" class="form-control form-control-sm" formControlName="id_sol_urgente"
                    [(ngModel)]="id_sol_urgente" id="inputCatalogoIdTipo" style="margin-left: 17px;"
                    [readonly]="true">
                    <!-- [class.is-invalid]="f.id.invalid && (f.id.dirty || f.id.touched)" -->
                </ng-container>

                <div class="input-group-append">
                  <button class="btn btn-outline-primary form-control-sm" type="button" (click)="modalTipoIDSolUrgente();"
                    style="border-color: #093070;" matTooltip="Buscar ID"><i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="col-md-5" style="padding-right: 6.5px;padding-left: 0px;">
              <div class="input-group">
                <input type="text" class="form-control form-control-sm" formControlName="numero_id_sol_urgente"
                  [(ngModel)]="numero_id_sol_urgente" [readonly]="true">
              </div>
            </div>
          </div>

          <!-- <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Fecha</u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 21px;" formControlName="fecha"
              ngModel="{{ fecha_actual | date:'yyyy-MM-dd'}}" [readOnly]="true">
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Fecha Hr </u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;"
              ngModel="{{fecha_actual | date:'yyyy-MM-dd'}}" [readOnly]="true" formControlName="fecha_inicial">
            <input type="text" class="form-control form-control-sm" style="margin-left: 5px;"
              formControlName="hora_inicial" ngModel="{{fecha_actual | date:'HH:mm'}}" [readOnly]="true">
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="input-group">
                <div class="input-group-">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;">
                    <u>
                      <div *ngIf="submitted && f.codalmacen.invalid" class="invalid-feedback">
                        <mat-icon matTooltipClass="custom-tooltip" matTooltip="Validar Almacen">info
                        </mat-icon>
                      </div> Almacen
                    </u>
                  </span>
                </div>
                <ng-container>
                  <input type="text" class="form-control form-control-sm" [(ngModel)]="almacn_parame_usuario_almacen"
                    formControlName="codalmacen" id="inputCatalogoAlmacen" (blur)="onLeaveAlmacen($event)"
                    [class.is-invalid]="f.codalmacen.invalid && (f.codalmacen.dirty || f.codalmacen.touched)"
                    style="margin-left: 7px;" readonly>
                </ng-container>

                <div class="input-group-append">
                  <button class="btn btn-outline-primary form-control-sm" type="button" (click)="modalAlmacen();"
                    style="border-color: #093070;" matTooltipClass="custom-tooltip" matTooltip="Buscar Almacen"
                    [disabled]="true"><i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="input-group">
                <div class="input-group-">
                  <span class="input-group-text form-control-sm"
                    style="padding: 10px 0px 0px 0px;border: 0 !important;">
                    <div *ngIf="submitted && f.codvendedor.invalid" class="invalid-feedback">
                      <mat-icon style="height: 22px !important;" matTooltipClass="custom-tooltip"
                        matTooltip="Validar Vendedor">info</mat-icon>
                    </div>
                    <u>Vendedor</u>
                  </span>
                </div>
                <ng-container>
                  <input type="text" class="form-control form-control-sm" id="inputCatalogoVendedor"
                    formControlName="codvendedor" [(ngModel)]="cod_vendedor_cliente"
                    [class.is-invalid]="f.codvendedor.invalid && (f.codvendedor.dirty || f.codvendedor.touched)"
                    (blur)="onLeaveVendedor($event)">
                </ng-container>

                <div class="input-group-append">
                  <button class="btn btn-outline-primary form-control-sm" type="button" (click)="modalVendedor();"
                    style="border-color: #093070;" matTooltipClass="custom-tooltip" matTooltip="Buscar Vendedor"><i
                      class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm" style="padding: 10px 0px 0px 0px;border: 0 !important;">
                <div *ngIf="submitted && f.preparacion.invalid" class="invalid-feedback">
                  <mat-icon style="height: 21px !important;" matTooltipClass="custom-tooltip"
                    matTooltip="Validar PreparaciÃ³n">info</mat-icon>
                </div>
                <u>PreparaciÃ³n</u>
              </span>
            </div>
            <mat-select class="custom-select1 form-control-sm" style="margin-left: 5px;" [(ngModel)]="preparacion"
              formControlName="preparacion"
              [ngClass]="{'is-invalid': f.preparacion.invalid && (f.preparacion.dirty || f.preparacion.touched)}">
              <mat-option value="NORMAL">NORMAL</mat-option>
              <mat-option value="URGENTE">URGENTE</mat-option>
              <mat-option value="FINAL">FINAL</mat-option>
              <mat-option value="URGENTE PROVINCIAS">URGENTE PROVINCIAS</mat-option>
              <mat-option value="POR COMISIONISTA">POR COMISIONISTA</mat-option>
              <mat-option value="CAJA CERRADA RECOGE CLIENTE">CAJA CERRADA RECOGE CLIENTE</mat-option>
            </mat-select>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 0px;border: 0 !important;"><u>Tipo Cliente </u></span>
            </div>
            <input type="text" class="form-control form-control-sm" style="margin-left: 6px;"
              formControlName="tipo_cliente" [(ngModel)]="tipo_cliente" [readOnly]="true">
          </div> -->
        </div>

        <!-- segundaColumna -->
        <!-- <div class="col-md-3 col-lg-3 ">
          <div class="row">
            <span style="color: #ef4d4d !important;"><strong>{{ descrip_confirmada }}</strong></span>
          </div>
          <div class="row">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm" style="border: 0 !important;">
                <u>Venta Cliente en Oficina</u>
              </span>
            </div>
            <div class="input-group-prepend">
              <div class="input-group-text" style="border: 0;">
                <input type="checkbox" [(value)]="venta_cliente_oficina" formControlName="venta_cliente_oficina"
                  style="padding: 0px !important;">
              </div>
            </div> |
            <span class="input-group-text form-control-sm"
              style="border: 0 !important;padding: 0px !important;padding: 0px !important;"><u>Cliente:</u></span>
            <ng-container *ngIf="cliente_habilitado_get === true; else no_habilitado">
              <span class="input-group-text form-control-sm"
                style="border: 2px solid #149b31 !important;color: #149b31;padding: 0px !important;">
                <strong>HABILITADO</strong>
              </span>
            </ng-container>
            <ng-template #no_habilitado>
              <span class="input-group-text form-control-sm"
                style="border: 2px solid #ef4d4d !important;color: #ef4d4d;padding: 0px !important;">
                <strong>DES-HABILITADO</strong>
              </span>
            </ng-template>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 6px 0px 27px;border: 0 !important;"><u>Precio de Ventas</u> </span>
            </div>

            <ng-container>
              <input type="number" class="form-control form-control-sm" [(ngModel)]="cod_precio_venta_modal_codigo"
                (blur)="onLeavePrecioVenta($event)" id="inputCatalogoPrecioVenta" formControlName="preciovta">
            </ng-container>

            <div class="input-group-append">
              <a class="btn btn-outline-primary form-control-sm" style="border-color: #093070;"
                (click)="modalPrecioVenta();"> <i class="fa fa-search"></i>
              </a>
              <a class="btn btn-outline-primary form-control-sm" style="border-color: #093070;"
                (click)="aplicarPrecioVenta(cod_precio_venta_modal_codigo)"><i class="fa fa-cog"></i> Aplicar
              </a>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 3px 0px 25px;border: 0 !important;"><u>Desct. Especiales</u> </span>
            </div>

            <ng-container>
              <input type="number" class="form-control form-control-sm" [(ngModel)]="cod_descuento_modal_codigo"
                id="inputCatalogoDesctEspecial" (blur)="onLeaveDescuentoEspecial($event)"
                formControlName="descuentos">
            </ng-container>

            <div class="input-group-append">
              <a class="btn btn-outline-primary form-control-sm" type="button" style="border-color: #093070;"
                (click)="modalDescuentoEspecial();">
                <i class="fa fa-search"></i>
              </a>
              <a class="btn btn-outline-primary form-control-sm" type="button" style="border-color: #093070;"
                (click)="aplicarDesctEspc(cod_descuento_modal_codigo);"><i class="fa fa-cog"></i> Aplicar
              </a>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 8px 4px 0px 48px !important;border: 0 !important;">
                <div *ngIf="submitted && f.tipopago.invalid" class="invalid-feedback">
                  <mat-icon matTooltipClass="custom-tooltip" matTooltip="Validar Tipo de Pago">info</mat-icon>
                </div>
                <u> Tipo de Pago </u>
              </span>
            </div>
            <mat-select class="custom-select1 form-control-sm" [(ngModel)]="tipopago" placeholder="SELECCIONAR..."
              formControlName="tipopago" (selectionChange)="onInputChangeTIPOPAGO($event)"
              [class.is-invalid]="f.tipopago.invalid && (f.tipopago.dirty || f.tipopago.touched)">
              <mat-option [value]=0>CONTADO</mat-option>
              <mat-option [value]=1>CREDITO</mat-option>
            </mat-select>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 0px 0px 16px;border: 0 !important;"><u>Es Contra Entrega</u></span>
            </div>
            <div class="input-group-prepend">
              <div class="input-group-text" style="border: 0 !important;">
                <ng-container *ngIf="tipopago === 0">
                  <input type="checkbox" formControlName="contra_entrega" [(ngModel)]="contra_entrega"
                    (change)="onCheckboxChange($event)">
                </ng-container>
                <ng-container *ngIf="tipopago === 1">
                  <input type="checkbox" [value]=false disabled>
                </ng-container>
              </div>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text form-control-sm"
                style="padding: 10px 3px 0px 0px;border: 0 !important;"><u>Estado Contra Entrega</u> </span>
            </div>
            <ng-container *ngIf="tipopago === 0">
              <select class="custom-select1 form-control-sm" formControlName="estado_contra_entrega"
                [(ngModel)]="estado_contra_entrega_input">
                <option value="YA CANCELO">YA CANCELO</option>
                <option value="POR CANCELAR">POR CANCELAR</option>
              </select>
            </ng-container>

            <ng-container *ngIf="tipopago === 1">
              <select class="custom-select1 form-control-sm">
                <option value=""></option>
              </select>
            </ng-container>
          </div>
        </div> -->




      </div>
    </form>
    <!-- finCabezera -->
  </div>
</section>
